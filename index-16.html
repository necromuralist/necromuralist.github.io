<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="A common place.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>The Cloistered Monkey (old posts, page 16) | The Cloistered Monkey</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://necromuralist.github.io/index-16.html">
<link rel="prev" href="index-17.html" type="text/html">
<link rel="next" href="index-15.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light
bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href=".">

            <span id="blog-title">The Cloistered Monkey</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="pages/" class="nav-link">Pages</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects</a>
            <div class="dropdown-menu">
                    <a href="https://necromuralist.github.io/Bowling-For-Data/" class="dropdown-item">Bowling For Data</a>
                    <a href="https://necromuralist.github.io/Anechoic-Echolalia/" class="dropdown-item">Anechoic Echolalia</a>
                    <a href="https://necromuralist.github.io/Ape-Iron/" class="dropdown-item">Ape Iron</a>
                    <a href="https://necromuralist.github.io/Neurotic-Networking/" class="dropdown-item">Neurotic Networking</a>
                    <a href="https://necromuralist.github.io/student_intervention/" class="dropdown-item">Student Intervention Project</a>
                    <a href="https://necromuralist.github.io/boston_housing/" class="dropdown-item">Boston Housing Project</a>
                    <a href="https://necromuralist.github.io/data_science/" class="dropdown-item">Data Science With Python</a>
                    <a href="https://necromuralist.github.io/Visions-Voices-Data/" class="dropdown-item">Visions, Voices, Data</a>
            </div>

                
            </li>
</ul>
<!-- Google custom search --><form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="form-group">
<input type="text" name="q" class="form-control" placeholder="Search">
</div>
<!-- 
<button type="submit" class="btn btn-primary">
	<span class="glyphicon glyphicon-search"></span>
</button>
-->
<input type="hidden" name="sitesearch" value="https://necromuralist.github.io/">
</form>
<!-- End of custom search -->


            <ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/bibliography/head-first-design-patterns/" class="u-url">Head First Design Patterns</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/bibliography/head-first-design-patterns/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-10T23:01:11-07:00" itemprop="datePublished" title="2020-08-10 23:01">2020-08-10 23:01</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="outline-container-orgf7d5bad" class="outline-2">
<h2 id="orgf7d5bad">Cite</h2>
<div class="outline-text-2" id="text-orgf7d5bad">
<ul class="org-ul">
<li>Freeman E, Robson E, Sierra K, Bates B, editors. Head First design patterns. Sebastopol, CA: O’Reilly; 2004. 638 p.</li>
</ul>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/linear-regression-binary-classification/" class="u-url">Linear Regression Binary Classification</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/linear-regression-binary-classification/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-10T19:07:53-07:00" itemprop="datePublished" title="2020-08-10 19:07">2020-08-10 19:07</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li>
<a href="posts/linear-regression-binary-classification/#org98c8a3d">Beginning</a>
<ul>
<li><a href="posts/linear-regression-binary-classification/#org43efca4">Set Up</a></li>
</ul>
</li>
<li>
<a href="posts/linear-regression-binary-classification/#org45880a6">Middle</a>
<ul>
<li><a href="posts/linear-regression-binary-classification/#orgf908f03">Looking At the Data</a></li>
<li><a href="posts/linear-regression-binary-classification/#org378c604">Probabilities</a></li>
<li><a href="posts/linear-regression-binary-classification/#org05fcd20">Converting To Probabilities</a></li>
<li><a href="posts/linear-regression-binary-classification/#org4a77962">Fit a Regression</a></li>
</ul>
</li>
<li><a href="posts/linear-regression-binary-classification/#orgcd24b3e">End</a></li>
<li><a href="posts/linear-regression-binary-classification/#orga97f392">Sources</a></li>
</ul>
</div>
</div>

<div id="outline-container-org98c8a3d" class="outline-2">
<h2 id="org98c8a3d">Beginning</h2>
<div class="outline-text-2" id="text-org98c8a3d">
</div>
<div id="outline-container-org43efca4" class="outline-3">
<h3 id="org43efca4">Set Up</h3>
<div class="outline-text-3" id="text-org43efca4">
</div>
<div id="outline-container-org41f10dd" class="outline-4">
<h4 id="org41f10dd">Imports</h4>
<div class="outline-text-4" id="text-org41f10dd">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
<div id="outline-container-orgf9ef613" class="outline-4">
<h4 id="orgf9ef613">The Data</h4>
<div class="outline-text-4" id="text-orgf9ef613">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module></module>
</div>
</div>
<div id="outline-container-org92e562e" class="outline-4">
<h4 id="org92e562e">The Plotting</h4>
<div class="outline-text-4" id="text-org92e562e">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
</div>
</div>
<div id="outline-container-org45880a6" class="outline-2">
<h2 id="org45880a6">Middle</h2>
<div class="outline-text-2" id="text-org45880a6">
</div>
<div id="outline-container-orgf908f03" class="outline-3">
<h3 id="orgf908f03">Looking At the Data</h3>
<div class="outline-text-3" id="text-orgf908f03">
<p>
The <a href="https://www.picostat.com/dataset/r-dataset-package-islr-default">ISLR Default</a> data set is a simulated set that provides information to help you build models to predict whether a loan will default or not. Let's look at the data.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example" id="org10231e9">
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10000 entries, 0 to 9999
Data columns (total 4 columns):
 #   Column   Non-Null Count  Dtype  
---  ------   --------------  -----  
 0   default  10000 non-null  int64  
 1   student  10000 non-null  int64  
 2   balance  10000 non-null  float64
 3   income   10000 non-null  float64
dtypes: float64(2), int64(2)
memory usage: 312.6 KB
</pre>

<p>
So you can see that it has 10,000 rows, all non-null, two float and two integer columns. What might not be obvious in looking at the description is that default and student are actually categorical columns. Furthermore, according to the description they are encoded as "No" and "Yes" which doesn't seem like integers. Let's take a look at the <code>default</code> column (the target).
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-right">
<col class="org-left">
<col class="org-right">
</colgroup>
<thead><tr>
<th scope="col" class="org-right">Defaulted</th>
<th scope="col" class="org-left">Count</th>
<th scope="col" class="org-right">Percent (%)</th>
</tr></thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-left">9,667</td>
<td class="org-right">96.67</td>
</tr>
<tr>
<td class="org-right">2</td>
<td class="org-left">333</td>
<td class="org-right">3.33</td>
</tr>
</tbody>
</table>
<p>
So it's a pretty imbalanced set, you could just predict the target is 1 and you would be right around 97% of the time. I'm going to assume that 1 means "No" (didn't default) and 2 means "Yes" (defaulted). For this exercise we're only going to look at the <code>default</code> and <code>balance</code> columns so I'll pull those out - <code>balance</code> is the amount of money still owed on their credit cards after making a monthly payment. I'm also going to change the <code>default</code> values to be 0 and 1 instead of 1 and 2.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
|   Defaulted |   Count |   Percent (%) |
|-------------+---------+---------------|
|           0 |   9,667 |         96.67 |
|           1 |     333 |          3.33 |
</pre>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-right">
<col class="org-left">
<col class="org-right">
</colgroup>
<thead><tr>
<th scope="col" class="org-right">Defaulted</th>
<th scope="col" class="org-left">Count</th>
<th scope="col" class="org-right">Percent (%)</th>
</tr></thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">9,667</td>
<td class="org-right">96.67</td>
</tr>
<tr>
<td class="org-right">1</td>
<td class="org-left">333</td>
<td class="org-right">3.33</td>
</tr>
</tbody>
</table></module></module></module>
</div>
</div>

<div id="outline-container-org378c604" class="outline-3">
<h3 id="org378c604">Probabilities</h3>
<div class="outline-text-3" id="text-org378c604">
<p>
What this is about is figuring out how you can use linear regression to make binary categorical predictions. The way we're going to do this is create probabilities that a balance will default and then fit a line to it. One problem with this is that the balance is a set of real numbers, so we don't end up with anything meaningful if we use them as is.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
0.0    499
Name: balance, dtype: int64
</pre>


<p>
The only value that appears more than once is 0. I'm going to try and get something more meaningful by rounding. But how should we round?
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

: <object type="text/html" data="posts/linear-regression-binary-classification/balance_distribution.html" style="width:100%" height="800">
:   <p>Figure Missing</p>
: </object>

<p>
So, I kind of cheated and worked with the whole dataset, but anyway, looking at it you can see that there are two populations (possibly those that default and those that don't) and it peters out around 2,500, so doing it by 1,000 increments might not make sense. I'll try 100's and see if that's good enough.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-right">
<col class="org-right">
</colgroup>
<thead><tr>
<th scope="col" class="org-left">Credit Balance</th>
<th scope="col" class="org-right">Count</th>
<th scope="col" class="org-right">Percent (%)</th>
</tr></thead>
<tbody>
<tr>
<td class="org-left">700</td>
<td class="org-right">783</td>
<td class="org-right">7.83</td>
</tr>
<tr>
<td class="org-left">900</td>
<td class="org-right">779</td>
<td class="org-right">7.79</td>
</tr>
<tr>
<td class="org-left">800</td>
<td class="org-right">770</td>
<td class="org-right">7.70</td>
</tr>
<tr>
<td class="org-left">0</td>
<td class="org-right">758</td>
<td class="org-right">7.58</td>
</tr>
<tr>
<td class="org-left">600</td>
<td class="org-right">755</td>
<td class="org-right">7.55</td>
</tr>
<tr>
<td class="org-left">1,000</td>
<td class="org-right">722</td>
<td class="org-right">7.22</td>
</tr>
<tr>
<td class="org-left">500</td>
<td class="org-right">668</td>
<td class="org-right">6.68</td>
</tr>
<tr>
<td class="org-left">1,100</td>
<td class="org-right">616</td>
<td class="org-right">6.16</td>
</tr>
<tr>
<td class="org-left">400</td>
<td class="org-right">586</td>
<td class="org-right">5.86</td>
</tr>
<tr>
<td class="org-left">1,200</td>
<td class="org-right">555</td>
<td class="org-right">5.55</td>
</tr>
<tr>
<td class="org-left">300</td>
<td class="org-right">530</td>
<td class="org-right">5.30</td>
</tr>
<tr>
<td class="org-left">1,300</td>
<td class="org-right">471</td>
<td class="org-right">4.71</td>
</tr>
<tr>
<td class="org-left">200</td>
<td class="org-right">423</td>
<td class="org-right">4.23</td>
</tr>
<tr>
<td class="org-left">1,400</td>
<td class="org-right">357</td>
<td class="org-right">3.57</td>
</tr>
<tr>
<td class="org-left">100</td>
<td class="org-right">316</td>
<td class="org-right">3.16</td>
</tr>
<tr>
<td class="org-left">1,500</td>
<td class="org-right">277</td>
<td class="org-right">2.77</td>
</tr>
<tr>
<td class="org-left">1,600</td>
<td class="org-right">189</td>
<td class="org-right">1.89</td>
</tr>
<tr>
<td class="org-left">1,700</td>
<td class="org-right">157</td>
<td class="org-right">1.57</td>
</tr>
<tr>
<td class="org-left">1,800</td>
<td class="org-right">118</td>
<td class="org-right">1.18</td>
</tr>
<tr>
<td class="org-left">1,900</td>
<td class="org-right">64</td>
<td class="org-right">0.64</td>
</tr>
<tr>
<td class="org-left">2,000</td>
<td class="org-right">47</td>
<td class="org-right">0.47</td>
</tr>
<tr>
<td class="org-left">2,100</td>
<td class="org-right">28</td>
<td class="org-right">0.28</td>
</tr>
<tr>
<td class="org-left">2,200</td>
<td class="org-right">14</td>
<td class="org-right">0.14</td>
</tr>
<tr>
<td class="org-left">2,300</td>
<td class="org-right">10</td>
<td class="org-right">0.10</td>
</tr>
<tr>
<td class="org-left">2,400</td>
<td class="org-right">4</td>
<td class="org-right">0.04</td>
</tr>
<tr>
<td class="org-left">2,500</td>
<td class="org-right">2</td>
<td class="org-right">0.02</td>
</tr>
<tr>
<td class="org-left">2,600</td>
<td class="org-right">1</td>
<td class="org-right">0.01</td>
</tr>
</tbody>
</table>
<p>
Well, it's harder to tell but that might be reasonable.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<object type="text/html" data="posts/linear-regression-binary-classification/balance_bar.html" style="width:100%" height="800">
  <p>Figure Missing</p>
</object>

<p>
That x-axis is a little funky, but the blue is the count of those that didn't default and the red are those that did. So the defaults seem to peak at 1,800 with a spread around it.
</p>
</module></module></module></module></module></module></module>
</div>
</div>

<div id="outline-container-org05fcd20" class="outline-3">
<h3 id="org05fcd20">Converting To Probabilities</h3>
<div class="outline-text-3" id="text-org05fcd20">
<p>
So to get the probabilities what we want is the count of accounts that defaulted for each balance divided by the total number of accounts with a given balance.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<object type="text/html" data="posts/linear-regression-binary-classification/probability_vs_balance.html" style="width:100%" height="800">
  <p>Figure Missing</p>
</object>
</module></module></module></module></module>
</div>
</div>

<div id="outline-container-org4a77962" class="outline-3">
<h3 id="org4a77962">Fit a Regression</h3>
<div class="outline-text-3" id="text-org4a77962">
<p>
So, one of the problems we have here is that by converting the values to probabilities we lost a lot of data (well, not lost, just aggregated them away).
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
24
</pre>


<p>
But this isn't a real model, it's just a look at what happens if you fit a line to the probabilities, so I'll just ignore that little fact.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'


Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<object type="text/html" data="posts/linear-regression-binary-classification/probability_vs_balance_with_model.html" style="width:100%" height="800">
  <p>Figure Missing</p>
</object>

<p>
Looking at the plot - the horizontal line is the point at which the model switches from predicting the loan won't default to predicting that it will. Once again, I'm plotting on the training data so the performance shouldn't be take at face value, but what it does show is that it would be possible to create a model using linear regression that predicts whether someone would default on their loan. One problem, though, would be interpreting the model - the y-intercept comes at -0.2 - what does it mean when the probability is negative? What happens when it's greater than one?
</p>
</module></module></module></module></module>
</div>
</div>
</div>
<div id="outline-container-orgcd24b3e" class="outline-2">
<h2 id="orgcd24b3e">End</h2>
<div class="outline-text-2" id="text-orgcd24b3e">
<p>
I'm not really sure what to make of this. I did it as an exercise because the <a href="posts/bibliography/an-introduction-to-statistical-learning/">ISLR</a> book had it and I thought it might make an interesting thing to replicate - although my plot doesn't look at all like theirs, and they don't document what they did so I'm not really sure that I'm doing anything remotely close to what they did. One thing to note is that given the binary nature of our data, even though we fit a linear model, if we assume that any balance that gives a probability greater than 0.5 is going to defaualt means that we could re-state the model as:
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
<p>
Anyway, this isn't something you would normally do, using linear regression to classify data, that is, so it's time to move on.
</p>
</module>
</div>
</div>
<div id="outline-container-orga97f392" class="outline-2">
<h2 id="orga97f392">Sources</h2>
<div class="outline-text-2" id="text-orga97f392">
<ul class="org-ul">
<li><a href="posts/bibliography/an-introduction-to-statistical-learning/">An Introduction To Statistical Learning</a></li>
<li><a href="posts/bibliography/isl-default-dataset/">ISL Default Dataset</a></li>
</ul>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/bibliography/isl-default-dataset/" class="u-url">ISL Default Dataset</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/bibliography/isl-default-dataset/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-07T20:10:29-07:00" itemprop="datePublished" title="2020-08-07 20:10">2020-08-07 20:10</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/bibliography/isl-default-dataset/#org25171d6">Set Up</a></li>
<li>
<a href="posts/bibliography/isl-default-dataset/#org54f5527">The Dataset</a>
<ul>
<li><a href="posts/bibliography/isl-default-dataset/#org9d76c8a">Load It</a></li>
<li><a href="posts/bibliography/isl-default-dataset/#org2eb8f75">Summarize It</a></li>
<li><a href="posts/bibliography/isl-default-dataset/#org150afb4">Save It</a></li>
</ul>
</li>
<li><a href="posts/bibliography/isl-default-dataset/#org529bc1b">Citation</a></li>
<li><a href="posts/bibliography/isl-default-dataset/#org9d74866">Comment</a></li>
</ul>
</div>
</div>

<div id="outline-container-org25171d6" class="outline-2">
<h2 id="org25171d6">Set Up</h2>
<div class="outline-text-2" id="text-org25171d6">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org54f5527" class="outline-2">
<h2 id="org54f5527">The Dataset</h2>
<div class="outline-text-2" id="text-org54f5527">
</div>
<div id="outline-container-org9d76c8a" class="outline-3">
<h3 id="org9d76c8a">Load It</h3>
<div class="outline-text-3" id="text-org9d76c8a">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module></module></module>
</div>
</div>

<div id="outline-container-org2eb8f75" class="outline-3">
<h3 id="org2eb8f75">Summarize It</h3>
<div class="outline-text-3" id="text-org2eb8f75">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example" id="org83e1a73">
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10000 entries, 0 to 9999
Data columns (total 4 columns):
 #   Column   Non-Null Count  Dtype  
---  ------   --------------  -----  
 0   default  10000 non-null  int32  
 1   student  10000 non-null  int32  
 2   balance  10000 non-null  float64
 3   income   10000 non-null  float64
dtypes: float64(2), int32(2)
memory usage: 234.5 KB
</pre>
</module>
</div>
</div>

<div id="outline-container-org150afb4" class="outline-3">
<h3 id="org150afb4">Save It</h3>
<div class="outline-text-3" id="text-org150afb4">
<p>
The reason for converting the rpy2 object to a pandas DataFrame was to make saving it easier. The rpy2 DataFrame does have a method called <code>to_csvfile</code> but I've never used it before so this seemed safer.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
</div>
<div id="outline-container-org529bc1b" class="outline-2">
<h2 id="org529bc1b">Citation</h2>
<div class="outline-text-2" id="text-org529bc1b">
<ul class="org-ul">
<li>James, G., Witten, D., Hastie, T., and Tibshirani, R. ISLR: Data for an Introduction to Statistical Learning with Applications in R. 2017. [R package version 1.2]. CRAN. [cited 2020 Aug 7]. <a href="https://cran.r-project.org/package=ISLR">https://cran.r-project.org/package=ISLR</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-org9d74866" class="outline-2">
<h2 id="org9d74866">Comment</h2>
<div class="outline-text-2" id="text-org9d74866">
<p>
This is a simulated dataset created for <a href="posts/bibliography/an-introduction-to-statistical-learning/">An Introduction To Statistical Learning</a>. Unlike the <a href="posts/bibliography/isl-credit-data-set/">ISL Credit Data Set</a> dataset this isn't listed for download on the books page which is why I downloaded it through R, although it looks like it is available from the gzipped tar file on the site but it's in the rda format - a binary format that sounds sort of like the <a href="https://docs.python.org/3/library/pickle.html">pickle</a> format but for R.
</p>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ham-links/" class="u-url">Ham Links</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ham-links/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-05T19:19:47-07:00" itemprop="datePublished" title="2020-08-05 19:19">2020-08-05 19:19</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="outline-container-org1a0b4f0" class="outline-2">
<h2 id="org1a0b4f0"><a href="http://www.arrl.org/">Amateur Radio Relay League</a></h2>
<div class="outline-text-2" id="text-org1a0b4f0">
<ul class="org-ul">
<li><a href="http://www.arrl.org/ham-radio-license-manual">License Manual</a></li>
</ul>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/selenium-to-soup-to-pandas/" class="u-url">Selenium To Soup To Pandas</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/selenium-to-soup-to-pandas/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-05T17:18:54-07:00" itemprop="datePublished" title="2020-08-05 17:18">2020-08-05 17:18</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>
<a href="https://pandas.pydata.org/">Pandas</a> has a <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html">read_html</a> function that will automatically convert HTML tables that it finds into DataFrames, but if you need to do a little cleaning up of the tables first or are doing some exploration of the HTML it can be useful to work with it in <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#">Beautiful Soup</a> first, and if the table is being rendered on the page with Javascript it can be useful to use <a href="https://www.selenium.dev/selenium/docs/api/py/index.html">Selenium</a> to grab the page for you so that it's rendered.
</p>

<p>
Start selenium (headless) and grab the page.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Give it to Beautiful Soup.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Do stuff with the soup (not shown).
</p>

<p>
Optionally grab the table you want - in this case I want the last one.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
But if there's one or you just want the first one you could use <code>find</code> instead.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Pass it to pandas.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
<code>tables</code> is a list of DataFrames - one for each table that pandas found - even if there's only one so now it might be useful to get the one you want.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
From what I understand from the documentation, pandas is using Beautiful Soup to parse the HTML, so if the tables come out okay and you don't need to mess around with the HTML tree beforehand you can just skip the soup.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'</module></module></module></module></module></module></module>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pandas-string-replacement-with-a-callback/" class="u-url">Pandas String Replacement With a Callback</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/pandas-string-replacement-with-a-callback/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-05T17:05:10-07:00" itemprop="datePublished" title="2020-08-05 17:05">2020-08-05 17:05</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>
If you want to replace parts of strings in a Pandas Series you can pass in a string, but if you want to keep part of the original sub-string that you are replacing you can call the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.replace.html">replace method</a> while passing in a function that un-packs the <a href="https://docs.python.org/3.6/library/re.html#match-objects">match</a> object.
</p>

<p>
As an example, to add paretheses around strings that look like "Also see penguin" you can define a regular expression that has a named group in it.
</p>
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Then define a function that expects objects that match the pattern and creates a string using the named-group.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Then pass in the pattern and function to the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.replace.html">replace method</a>.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'</module></module></module>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/smoothing-out-a-beautiful-soup-tree/" class="u-url">Smoothing Out a Beautiful Soup Tree</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/smoothing-out-a-beautiful-soup-tree/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-05T16:58:02-07:00" itemprop="datePublished" title="2020-08-05 16:58">2020-08-05 16:58</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>
If you edit the HTML tree in Beautiful Soup you should call the <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#smooth">smooth</a> method to smooth out any funkiness that got introduced.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'</module>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/replacing-tags-with-beautiful-soup/" class="u-url">Replacing Tags With Beautiful Soup</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/replacing-tags-with-beautiful-soup/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-05T16:53:20-07:00" itemprop="datePublished" title="2020-08-05 16:53">2020-08-05 16:53</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="outline-container-org861c3db" class="outline-2">
<h2 id="org861c3db">Notes</h2>
<div class="outline-text-2" id="text-org861c3db">
<p>
To replace a tag in Beautful Soup, find the element then call its <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#replace-with">replace_with</a> method passing in either a string or tag.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/destroying-tags-with-beautiful-soup/" class="u-url">Destroying Tags With Beautiful Soup</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/destroying-tags-with-beautiful-soup/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-05T15:57:27-07:00" itemprop="datePublished" title="2020-08-05 15:57">2020-08-05 15:57</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>
There are various ways to edit tags with <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">Beautiful Soup</a>, The <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#decompose">decompose</a> method both removes the tag from the tree and destroys the object (along with all its descendants in the HTML tree). 
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
If you want to destroy tags around the one you found (along with the tag and its descendants in the tree) then call decompose on it's parent or parent's parent (and so on). Or figure out how to find its parent instead - whichever is easier.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'


<p>
After you edit the tree it might be a good idea to call <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#smooth">smooth</a> to clean up a bit.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'</module></module></module>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/selenium-headless/" class="u-url">Selenium Headless</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/selenium-headless/" rel="bookmark">
            <time class="published dt-published" datetime="2020-08-05T15:42:17-07:00" itemprop="datePublished" title="2020-08-05 15:42">2020-08-05 15:42</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>
To run the Selenium Firefox webdriver without starting the GUI you need to set the headless option in the <a href="https://www.selenium.dev/selenium/docs/api/py/webdriver_firefox/selenium.webdriver.firefox.options.html#module-selenium.webdriver.firefox.options">FirefoxOptions</a>.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
<b><b>Note:</b></b> There's a method called <code>set_headless</code> for this class which seems to work, but the documentation says that it is deprecated so it's probably better to do it this way.
</p></module>
</div>
    </article>
</div>

        <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-17.html" rel="prev">Newer posts</a></li>
            <li class="next"><a href="index-15.html" rel="next">Older posts</a></li>
        </ul>
<!--End of body content--><footer id="footer">
            Contents © 2023         <a href="mailto:cloisteredmonkey.jmark@slmail.me">Cloistered Monkey</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
