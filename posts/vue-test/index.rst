.. title: Vue Test
.. slug: vue-test
.. date: 2018-07-20 18:52:53 UTC-07:00
.. tags: vue web
.. category: vue
.. link: 
.. description: Testing including vue.js in a nikola site.
.. type: text

Introduction
------------

This is a test to see if putting `vue.js <https://vuejs.org/>`__ HTML and javascript in nikola will work. Since I've previously used `p5.js <https://p5js.org/>`__ I assumed that it would, but still, there's always something to figure out.

Head
----

The first thing is getting ``vue.js`` in the site. In a production environment you might use webpack or something like it and create a self-contained site, but in this case I'm going to be continually adding to a `nikola <https://getnikola.com/>`__ site, so this wouldn't work (or at least I can't imagine a way that it would). So to get the ``vue`` code into the site I edited the nikola ``conf.py`` file by adding this.

.. code:: python

   EXTRA_HEAD_DATA = """
   <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>          
   """

.. note:: The example isn't exactly what I have. I also include mathjax in there, but I thought it wasn't relevant here so I left it out.

The HTML
--------

This is the HTML that I used for my hello-worldish test.

.. listing:: listings/posts/vue-test/vue_test.htm html

A Little More Explanation
~~~~~~~~~~~~~~~~~~~~~~~~~

If you aren't familiar with vue, what the code is doing is on loading the page it checks the numerical representation for the current hour and stores it in a variable named ``hours``:

.. code:: javascript

   var hours = new Date().getHours();

Then it sets one of the variables to true, based on what time of day it is.

.. code:: javascript

   data: {
     isMorning: hours < 12,
     isAfternoon: hours >= 12 && hours < 18,
     isEvening: hours >= 18
   }

Finally, the html outputs a different message depending which of the variable in the ``data`` is true.

.. code:: html

   <p v-if="isMorning">Go away, it's too early!</p>
   <p v-if="isAfternoon">Go away, it's time for my nap!</p>
   <p v-if="isEvening">Go away, it's too late!</p>

This is about getting vue into nikola, so I won't get into it much more than that.

The Output
----------

And here, in all its glory, is the result.

.. raw:: html

   <div id="app">
     <p v-if="isMorning"><b>Go away, it's too early!</b></p>
     <p v-if="isAfternoon"><b>Go away, it's time for my nap!</b></p>
     <p v-if="isEvening"><b>Go away, it's too late!</b></p>
   </div>

   <script>
     var hours = new Date().getHours();
     new Vue({
        el: "#app",
        data: {
          isMorning: hours < 12,
          isAfternoon: hours >= 12 && hours < 18,
          isEvening: hours >= 18
        }
     });
   </script>
          
It might not look like much, mostly because it's not, but the text above is being dynamically generated by ``Vue.js``. So come back in twelve hours and you'll see a different message. Or just take my word for it. Whatever.
