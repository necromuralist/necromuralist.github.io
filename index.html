<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="A common place.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>The Cloistered Monkey</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://necromuralist.github.io/">
<link rel="next" href="index-20.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="prefetch" href="posts/kernel-panic-at-the-lunar-lobster/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light
bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href=".">

            <span id="blog-title">The Cloistered Monkey</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="pages/" class="nav-link">Pages</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects</a>
            <div class="dropdown-menu">
                    <a href="https://necromuralist.github.io/Bowling-For-Data/" class="dropdown-item">Bowling For Data</a>
                    <a href="https://necromuralist.github.io/Anechoic-Echolalia/" class="dropdown-item">Anechoic Echolalia</a>
                    <a href="https://necromuralist.github.io/Ape-Iron/" class="dropdown-item">Ape Iron</a>
                    <a href="https://necromuralist.github.io/Neurotic-Networking/" class="dropdown-item">Neurotic Networking</a>
                    <a href="https://necromuralist.github.io/student_intervention/" class="dropdown-item">Student Intervention Project</a>
                    <a href="https://necromuralist.github.io/boston_housing/" class="dropdown-item">Boston Housing Project</a>
                    <a href="https://necromuralist.github.io/data_science/" class="dropdown-item">Data Science With Python</a>
                    <a href="https://necromuralist.github.io/Visions-Voices-Data/" class="dropdown-item">Visions, Voices, Data</a>
            </div>

                
            </li>
</ul>
<!-- Google custom search --><form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="form-group">
<input type="text" name="q" class="form-control" placeholder="Search">
</div>
<!-- 
<button type="submit" class="btn btn-primary">
	<span class="glyphicon glyphicon-search"></span>
</button>
-->
<input type="hidden" name="sitesearch" value="https://necromuralist.github.io/">
</form>
<!-- End of custom search -->


            <ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/kernel-panic-at-the-lunar-lobster/" class="u-url">Kernel Panic At the Lunar Lobster</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/kernel-panic-at-the-lunar-lobster/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-03T16:20:07-07:00" itemprop="datePublished" title="2023-05-03 16:20">2023-05-03 16:20</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/kernel-panic-at-the-lunar-lobster/#org29da8c6">What Is This About?</a></li>
<li><a href="posts/kernel-panic-at-the-lunar-lobster/#orgafd5a3c">First Get It Working</a></li>
<li><a href="posts/kernel-panic-at-the-lunar-lobster/#org3d1a199">Not a Solution But A Finger Pointing</a></li>
<li><a href="posts/kernel-panic-at-the-lunar-lobster/#org34e2f31">Blame It On the Drivers</a></li>
<li><a href="posts/kernel-panic-at-the-lunar-lobster/#org9330bc1">From Nouveau To Nvidia</a></li>
<li><a href="posts/kernel-panic-at-the-lunar-lobster/#orga62cb49">And the End</a></li>
</ul>
</div>
</div>

<div id="outline-container-org29da8c6" class="outline-2">
<h2 id="org29da8c6">What Is This About?</h2>
<div class="outline-text-2" id="text-org29da8c6">
<p>
I got a notification yesterday (May 3, 2023) that there's a new version of Ubuntu out (<i>Lunar Lobster - 23.04</i>) so I ran <code>do-release-upgrade</code> while watching a video (<a href="https://en.wikipedia.org/wiki/An_Honest_Liar?useskin=vector">An Honest Liar</a>) about James Randi. At the end of the upgrade there was some kind of error message about not being able to configure the Linux headers, which in retrospect should have worried me, but I was distracted so I just dismissed it. Then today when I booted up the computer I got an error message saying <code>Kernel Panic - Not syncing: VFS: Unable to mount root fs on unknown-block (0,0)</code>. I managed to get it working (eventually) but now that Ubuntu's been around long enough and search engines seem to be choked with outdated answers I thought I'd document what I did in case it happens on another update.
</p>
</div>
</div>

<div id="outline-container-orgafd5a3c" class="outline-2">
<h2 id="orgafd5a3c">First Get It Working</h2>
<div class="outline-text-2" id="text-orgafd5a3c">
<p>
The first thing I tried was to follow the answers on <a href="https://askubuntu.com/questions/41930/kernel-panic-not-syncing-vfs-unable-to-mount-root-fs-on-unknown-block0-0">this Stackoverflow page</a>. The only thing this did was get my computer up and running again - which is, I suppose a big thing, not to be minimized, but there's a lot of stuff on that page and the only relevant parts were:
</p>

<ol class="org-ol">
<li>Reboot</li>
<li>At the menu that comes up choose "Advanced Options for Ubuntu"</li>
<li>Pick a prior version of the Linux kernel (5.19.26 in my case) and let it finish starting up.</li>
</ol>
</div>
</div>

<div id="outline-container-org3d1a199" class="outline-2">
<h2 id="org3d1a199">Not a Solution But A Finger Pointing</h2>
<div class="outline-text-2" id="text-org3d1a199">
<p>
The first thing I tried from that page was from <a href="https://askubuntu.com/a/939883">this answer</a>:
</p>

<div class="highlight"><pre><span></span>sudo dpkg --configure -a
</pre></div>

<p>
This gave me <code>error processing package linux-image-6.2.0-generic (--configure)</code>. So I searched some more and tried the suggestion from <a href="https://askubuntu.com/a/517882">this askubuntu answer</a>:
</p>

<div class="highlight"><pre><span></span>sudo dpkg --purge linux-image-6.2.0-20-generic
</pre></div>

<p>
This gives an error along the lines of "<code>dependency problems, not purging</code>". Oi. So then I tried:
</p>

<div class="highlight"><pre><span></span>sudo apt autoremove
</pre></div>

<p>
This gave me another error:
</p>

<p>
<img src="posts/kernel-panic-at-the-lunar-lobster/purge-error.webp" alt="Purge Error"></p>

<p>
This time in the error message it said to check out <code>/var/lib/dkms/nvidia/510.108.03/build/make.log</code> which turned out not to have any useful information (to me, anyway) but it did tell me that there was something going on with my nvidia drivers that was causing the configuration of the new Linux kernel to fail.
</p>
</div>
</div>

<div id="outline-container-org34e2f31" class="outline-2">
<h2 id="org34e2f31">Blame It On the Drivers</h2>
<div class="outline-text-2" id="text-org34e2f31">
<p>
<i>"Something going on with my nvidia drivers"</i> being a little too vague for me to troubleshoot, I decided to go the brute force way and uninstall the nvidia-drivers. This actually proved a little harder than I thought it would be (which seems to always be the case, maybe I'm too optimistic about this kind of stuff). Every time I tried to run
</p>

<div class="highlight"><pre><span></span>sudo apt remove nvidia-driver-510
</pre></div>

<p>
<code>apt</code> would try and configure the Linux kernel and run into the same error that I had before and exit without uninstalling the driver. Some kind of chicken and the egg thing. So then I tried <code>dpkg</code> instead of <code>apt</code> first:
</p>

<div class="highlight"><pre><span></span>sudo dpkg --purge nvidia-driver-510
sudo apt autoremove
</pre></div>

<p>
<code>dpkg</code> managed to uninstall the driver and running <code>apt autoremove</code> not only cleaned out the unused packages but also triggered the kernel configuration and this time… no errors.
</p>
</div>
</div>

<div id="outline-container-org9330bc1" class="outline-2">
<h2 id="org9330bc1">From Nouveau To Nvidia</h2>
<div class="outline-text-2" id="text-org9330bc1">
<p>
After a reboot it started up okay and this time <code>uname -r</code> showed that I was using the newer kernel (<code>6.2.0-20-generic</code>). Yay. But now when I tried to re-install the nvidia drivers neither <code>ubuntu-drivers</code> nor <code>apt</code> seemed to know that they existed. It turns out that updating the ubuntu installation removes the proprietary drivers from the apt sources. So I launched the "Software &amp; Updates" GUI.
</p>

<p>
<img src="posts/kernel-panic-at-the-lunar-lobster/software-updates.webp" alt="Software &amp; Updates"></p>

<p>
And checked the "Proprietary drivers for devices (restricted)" button.
</p>

<p>
<img src="posts/kernel-panic-at-the-lunar-lobster/proprietary-drivers.webp" alt="Proprietary Drivers"></p>

<p>
I chose to update the apt listing when I closed the GUI and then installed the drivers at the command line:
</p>

<div class="highlight"><pre><span></span>sudo ubuntu-drivers install
</pre></div>

<p>
And then, after another reboot, now it works (I checked with <code>nvidia-smi</code>).
</p>
</div>
</div>

<div id="outline-container-orga62cb49" class="outline-2">
<h2 id="orga62cb49">And the End</h2>
<div class="outline-text-2" id="text-orga62cb49">
<p>
I haven't run any tests other than using the system but this seems to have fixed the problem. Well, the problem with the kernel, updating also broke all my python virtual environments, but, oh, well, better than a kernel panic, I suppose.
</p>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/converting-a-date-to-day-of-the-year-in-python/" class="u-url">Converting A Date To Day of the Year In Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/converting-a-date-to-day-of-the-year-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-07T16:56:59-08:00" itemprop="datePublished" title="2023-02-07 16:56">2023-02-07 16:56</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/converting-a-date-to-day-of-the-year-in-python/#org0b5fd19">Date To Day of Year</a></li>
<li><a href="posts/converting-a-date-to-day-of-the-year-in-python/#org88f79a0">Day Of Year To Date</a></li>
<li><a href="posts/converting-a-date-to-day-of-the-year-in-python/#orgbd3cb30">Source</a></li>
</ul>
</div>
</div>
<p>
This is a quick note on how to take a date and convert it to the day of the year (and back again) using python.
</p>

<div id="outline-container-org0b5fd19" class="outline-2">
<h2 id="org0b5fd19">Date To Day of Year</h2>
<div class="outline-text-2" id="text-org0b5fd19">
<p>
We're going to use python's built-in <a href="https://docs.python.org/3/library/datetime.html#datetime-objects">datetime</a> object to create the date then convert it to a timetuple using its <a href="https://docs.python.org/3/library/datetime.html#datetime-objects">timetuple</a> method. The timetuple has an attribute <code>tm_yday</code> which is the number of days in the year that the date represents.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
38
</pre>


<p>
So, February 7, 2023 is the 38th day of the year.
</p>
</module>
</div>
</div>

<div id="outline-container-org88f79a0" class="outline-2">
<h2 id="org88f79a0">Day Of Year To Date</h2>
<div class="outline-text-2" id="text-org88f79a0">
<p>
Now to go in the other direction we start with the first day of the year (represented as a datetime object) and add the number of days into the year we want. You can't create a datetime object with day zero so we need to start it on day one and then subtract one day from the number of days that we want.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
2023-02-07
</pre>


<p>
Easy-peasey.
</p>
</module>
</div>
</div>

<div id="outline-container-orgbd3cb30" class="outline-2">
<h2 id="orgbd3cb30">Source</h2>
<div class="outline-text-2" id="text-orgbd3cb30">
<ul class="org-ul">
<li>
<a href="https://stackoverflow.com/a/623312">Answer on StackOverflow</a> that shows how to get the day of the year from the date.</li>
<li>
<a href="https://stackoverflow.com/a/13032755">Answer to the same question</a> that shows how to go from the day of the year back to the date.</li>
</ul>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pytorch-and-the-unknown-cuda-error/" class="u-url">PyTorch and the Unknown CUDA Error</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/pytorch-and-the-unknown-cuda-error/" rel="bookmark">
            <time class="published dt-published" datetime="2022-10-31T17:58:27-07:00" itemprop="datePublished" title="2022-10-31 17:58">2022-10-31 17:58</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/pytorch-and-the-unknown-cuda-error/#org31b7f1d">The Problem</a></li>
<li><a href="posts/pytorch-and-the-unknown-cuda-error/#org89a3666">The Symptom</a></li>
<li><a href="posts/pytorch-and-the-unknown-cuda-error/#org77787ca">The Disease and Its Cure</a></li>
</ul>
</div>
</div>
<div id="outline-container-org31b7f1d" class="outline-2">
<h2 id="org31b7f1d">The Problem</h2>
<div class="outline-text-2" id="text-org31b7f1d">
<p>
I recently decided to get back into using neural networks again and tried to update my docker container to get <a href="https://www.fast.ai/">fastai</a> up and running, but couldn't get CUDA working. After a while spent trying different configurations of CUDA, pytorch, pip, conda, and on and on I eventually found out that there's some kind of problem with using CUDA after suspending and then resuming your system (at least with linux/Ubuntu). This is a documentation of that particular problem and it's fixes (fastest but not necessarily the best answer: always shutdown or reboot the machine, don't suspend and resume).
</p>
</div>
</div>


<div id="outline-container-org89a3666" class="outline-2">
<h2 id="org89a3666">The Symptom</h2>
<div class="outline-text-2" id="text-org89a3666">
<p>
This is what happens if I try to use CUDA after waking the machine from a suspend.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
/home/athena/.conda/envs/neurotic-fastai/lib/python3.9/site-packages/torch/cuda/__init__.py:88: UserWarning: CUDA initialization: CUDA unknown error - this may be due to an incorrectly set up environment, e.g. changing env variable CUDA_VISIBLE_DEVICES after program start. Setting the available devices to be zero. (Triggered internally at /opt/conda/conda-bld/pytorch_1666642975993/work/c10/cuda/CUDAFunctions.cpp:109.)
  return torch._C._cuda_getDeviceCount() &gt; 0
</pre>


<p>
As you can see, the error message doesn't really give any useful information about what's wrong - there <i>are</i> a couple of suggestions but neither seems relevant or at least doesn't lead you to the fix.
</p>
</module>
</div>
</div>

<div id="outline-container-org77787ca" class="outline-2">
<h2 id="org77787ca">The Disease and Its Cure</h2>
<div class="outline-text-2" id="text-org77787ca">
<p>
There's a post on the <a href="https://discuss.pytorch.org/t/userwarning-cuda-initialization-cuda-unknown-error-this-may-be-due-to-an-incorrectly-set-up-environment-e-g-changing-env-variable-cuda-visible-devices-after-program-start-setting-the-available-devices-to-be-zero/129335/2">pytorch discussion boards</a> about this error in which "ptrblck" says that he runs into this problem if his machine is put into the suspend state. While mentioning this he also says that restarting his machine fixes the problem, but restarting it every time seems to defeat the purpose of using suspend (and I'd have to walk to a different room to log in and decrypt the drive after restarting the machine - ugh, so much work). 
</p>

<p>
Luckily, in a <a href="https://discuss.pytorch.org/t/userwarning-cuda-initialization-cuda-unknown-error-this-may-be-due-to-an-incorrectly-set-up-environment-e-g-changing-env-variable-cuda-visible-devices-after-program-start-setting-the-available-devices-to-be-zero/129335/5">later post</a> in the thread the same user mentions that you can also fix it by reloading the <code>nvidia_uvm</code> kernel module by entering these commands in the terminal:
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Which seems to fix the problem for me right at the moment, without the need to restart the machine.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
False
</pre>


<p>
Ummm… oops. Well, it did sort of fix one problem - the <code>CUDA unknown error</code>, but now it's saying that CUDA isn't available on this machine. Every fix begets a new problem. Let's try it again after restarting the Jupyter kernel.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
True
</pre>


<p>
Okay, that's better, I guess. It feels a little inelegant to have to do this, but at least it seems to work.
</p>
</module></module></module>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/tangling-multiple-org-files/" class="u-url">Tangling Multiple Org Files</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/tangling-multiple-org-files/" rel="bookmark">
            <time class="published dt-published" datetime="2022-03-21T17:30:14-07:00" itemprop="datePublished" title="2022-03-21 17:30">2022-03-21 17:30</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li>
<a href="posts/tangling-multiple-org-files/#org43cdb5d">The Steps</a>
<ul>
<li><a href="posts/tangling-multiple-org-files/#orgcfd243c">Create one.org</a></li>
<li><a href="posts/tangling-multiple-org-files/#org9a0c791">Create two.org</a></li>
<li><a href="posts/tangling-multiple-org-files/#org7e5fa72">Export one.org</a></li>
<li><a href="posts/tangling-multiple-org-files/#orgb3ff75b">Tangle one.org.org</a></li>
</ul>
</li>
<li><a href="posts/tangling-multiple-org-files/#org54dba4a">Sources</a></li>
</ul>
</div>
</div>

<p>
I've been looking off and on for ways to combine separate code-blocks in org-mode into a single tangled file. I wanted to use it because I tangle code that I want to re-use out of posts but then if I want to break the posts up I need to create a separate file (tangle) for each post. I'm hopeful that this method will allow me to break up a tangle across multiple posts. I've only tried it on toy files but I want to get some initial documentation for it in place.
</p>
<div id="outline-container-org43cdb5d" class="outline-2">
<h2 id="org43cdb5d">The Steps</h2>
<div class="outline-text-2" id="text-org43cdb5d">
<p>
Let's say that there are two source org-files:
</p>

<ul class="org-ul">
<li>
<code>one.org</code>: contains the tangle block and a source block</li>
<li>
<code>two.org</code>: contains another block that we want to tangle with the one in <code>one.org</code>
</li>
</ul>
<p>
The steps are:
</p>

<ol class="org-ol">
<li>Put an <code>#+INCLUDE</code> directive to include <code>two.org</code> into <code>one.org</code>
</li>
<li>Export <code>one.org</code> to an <code>org</code> file</li>
<li>Open the exported org file (<code>one.org.org</code>)</li>
<li>Tangle it.</li>
</ol>
</div>

<div id="outline-container-orgcfd243c" class="outline-3">
<h3 id="orgcfd243c">Create one.org</h3>
<div class="outline-text-3" id="text-orgcfd243c">
<p>
The file <code>one.org</code> is going to have the tangle and the first source-block:
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
We also need to include what's in the second file (<code>two.org</code>). The code we want to include is in a section called <code>Two</code> so we can include just that section by adding a search term at the end.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module></module></module>
</div>
</div>

<div id="outline-container-org9a0c791" class="outline-3">
<h3 id="org9a0c791">Create two.org</h3>
<div class="outline-text-3" id="text-org9a0c791">
<p>
In the other file add the section header to match the <code>INCLUDE</code> search term (<code>*Two</code>) and put a code block with a reference named <code>block-two</code> to match what's in the tangle block above.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org7e5fa72" class="outline-3">
<h3 id="org7e5fa72">Export one.org</h3>
<div class="outline-text-3" id="text-org7e5fa72">
<p>
Tangling unfortunately ignores the <code>INCLUDE</code> directive so we have to export it first to another org-file in order to get the text from <code>org.two</code> into our source file. By default, exporting to <code>org</code> is disabled so you need to enable it (e.g. starting with <code>M-x customize</code> <code>org-export-backends</code>).
</p>

<p>
Once it's enabled you can export <code>one.org</code> to an org-mode file using <code>C-c C-e O v</code> (the default name will be <code>one.org.org</code>). 
</p>
</div>
</div>

<div id="outline-container-orgb3ff75b" class="outline-3">
<h3 id="orgb3ff75b">Tangle one.org.org</h3>
<div class="outline-text-3" id="text-orgb3ff75b">
<p>
The last choice when we exported the file in the previous step (<code>v</code>) will save it to a file and open it up in an emacs buffer. When the buffer is open you can then tangle it (<code>C-c C-v C-t</code>) and the output (<code>/test.py</code> from our tangle block) should contain both of our functions.
</p>
</div>
</div>
</div>

<div id="outline-container-org54dba4a" class="outline-2">
<h2 id="org54dba4a">Sources</h2>
<div class="outline-text-2" id="text-org54dba4a">
<p>
This is where I got the information on breaking up the files. It includes some emacs-lisp to run the steps automatically (although I didn't try it):
</p>

<ul class="org-ul">
<li>Multi-File Org-Babel Tangles with Include Directives [Internet]. DEV Community. [cited 2022 Mar 21]. Available from: <a href="https://dev.to/jfhbrook/multi-file-org-babel-tangles-with-include-directives-5522">https://dev.to/jfhbrook/multi-file-org-babel-tangles-with-include-directives-5522</a>
</li>
</ul>
<p>
This is the post that mentions that exporting org-files to org-format needs to be enabled (and how to do it):
</p>

<ul class="org-ul">
<li>exporting - Org mode export subtree to new org file - option missing? [Internet]. Emacs Stack Exchange. [cited 2022 Mar 21]. Available from: <a href="https://emacs.stackexchange.com/a/70453">https://emacs.stackexchange.com/a/70453</a>
</li>
</ul>
<p>
This is the manual page explaining the search syntax (which is what the <code>#+INCLUDE</code> format uses).
</p>

<ul class="org-ul">
<li>Search Options (The Org Manual) [Internet]. [cited 2022 Mar 21]. Available from: <a href="https://orgmode.org/manual/Search-Options.html">https://orgmode.org/manual/Search-Options.html</a>
</li>
</ul>
<p>
This explains the <code>#+INCLUDE</code> directive options:
</p>

<ul class="org-ul">
<li>Include Files (The Org Manual) [Internet]. [cited 2022 Mar 21]. Available from: <a href="https://orgmode.org/manual/Include-Files.html">https://orgmode.org/manual/Include-Files.html</a>
</li>
</ul>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/code-wars-pick-peaks/" class="u-url">CodeWars: Pick Peaks</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/code-wars-pick-peaks/" rel="bookmark">
            <time class="published dt-published" datetime="2022-02-18T17:10:32-08:00" itemprop="datePublished" title="2022-02-18 17:10">2022-02-18 17:10</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/code-wars-pick-peaks/#org7337ed9">Beginning</a></li>
<li>
<a href="posts/code-wars-pick-peaks/#orgc68ab14">Code</a>
<ul>
<li><a href="posts/code-wars-pick-peaks/#org6595632">Imports</a></li>
<li><a href="posts/code-wars-pick-peaks/#org1e31a19">The Submission</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org7337ed9" class="outline-2">
<h2 id="org7337ed9">Beginning</h2>
<div class="outline-text-2" id="text-org7337ed9">
<p>
The problem given is to write a function that returns the location and values of local maxima within a list (array). The inputs will be (possibly empty) lists with integers. The first and last elements cannot be called peaks since we don't know what comes before the first element or after the last element.
</p>
</div>
</div>

<div id="outline-container-orgc68ab14" class="outline-2">
<h2 id="orgc68ab14">Code</h2>
<div class="outline-text-2" id="text-orgc68ab14">
</div>
<div id="outline-container-org6595632" class="outline-3">
<h3 id="org6595632">Imports</h3>
<div class="outline-text-3" id="text-org6595632">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org1e31a19" class="outline-3">
<h3 id="org1e31a19">The Submission</h3>
<div class="outline-text-3" id="text-org1e31a19">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module></module>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/codewars-simple-pig-latin/" class="u-url">CodeWars: Simple Pig Latin</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/codewars-simple-pig-latin/" rel="bookmark">
            <time class="published dt-published" datetime="2022-02-15T18:12:05-08:00" itemprop="datePublished" title="2022-02-15 18:12">2022-02-15 18:12</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/codewars-simple-pig-latin/#org5351efa">Description</a></li>
<li>
<a href="posts/codewars-simple-pig-latin/#orgf0019e4">Code</a>
<ul>
<li><a href="posts/codewars-simple-pig-latin/#org50c85d7">Imports</a></li>
<li><a href="posts/codewars-simple-pig-latin/#org55a64b9">Submission</a></li>
</ul>
</li>
<li><a href="posts/codewars-simple-pig-latin/#org4fcc218">Sources</a></li>
</ul>
</div>
</div>

<div id="outline-container-org5351efa" class="outline-2">
<h2 id="org5351efa">Description</h2>
<div class="outline-text-2" id="text-org5351efa">
<p>
Move the first letter of each word to the end of it, then add "ay" to the end of the word. Leave punctuation marks untouched.
</p>
</div>
</div>
<div id="outline-container-orgf0019e4" class="outline-2">
<h2 id="orgf0019e4">Code</h2>
<div class="outline-text-2" id="text-orgf0019e4">
</div>
<div id="outline-container-org50c85d7" class="outline-3">
<h3 id="org50c85d7">Imports</h3>
<div class="outline-text-3" id="text-org50c85d7">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org55a64b9" class="outline-3">
<h3 id="org55a64b9">Submission</h3>
<div class="outline-text-3" id="text-org55a64b9">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module></module>
</div>
</div>
</div>
<div id="outline-container-org4fcc218" class="outline-2">
<h2 id="org4fcc218">Sources</h2>
<div class="outline-text-2" id="text-org4fcc218">
<ul class="org-ul">
<li><a href="https://www.codewars.com/kata/520b9d2ad5c005041100000f/train/python">CodeWars: Simple Pig Latin</a></li>
</ul>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/codewars-rgb-to-hexadecimal/" class="u-url">CodeWars: RGB To Hexadecimal</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/codewars-rgb-to-hexadecimal/" rel="bookmark">
            <time class="published dt-published" datetime="2022-02-14T20:07:51-08:00" itemprop="datePublished" title="2022-02-14 20:07">2022-02-14 20:07</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/codewars-rgb-to-hexadecimal/#org04dab41">Description</a></li>
<li>
<a href="posts/codewars-rgb-to-hexadecimal/#orgdee773d">The Code</a>
<ul>
<li><a href="posts/codewars-rgb-to-hexadecimal/#org4c9b6d5">Imports</a></li>
<li><a href="posts/codewars-rgb-to-hexadecimal/#org7f1a67f">Submission</a></li>
<li><a href="posts/codewars-rgb-to-hexadecimal/#org944b730">Alternatives</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org04dab41" class="outline-2">
<h2 id="org04dab41">Description</h2>
<div class="outline-text-2" id="text-org04dab41">
<p>
Given three arguments <code>r</code>, <code>g</code>, and <code>b</code> which are integers from 0 to 255 representing RGB values, convert them to a six digit (zero-padded) hexadecimal string. Invalid (out of range) values need to be rounded to nearest value.
</p>
</div>
</div>
<div id="outline-container-orgdee773d" class="outline-2">
<h2 id="orgdee773d">The Code</h2>
<div class="outline-text-2" id="text-orgdee773d">
</div>
<div id="outline-container-org4c9b6d5" class="outline-3">
<h3 id="org4c9b6d5">Imports</h3>
<div class="outline-text-3" id="text-org4c9b6d5">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org7f1a67f" class="outline-3">
<h3 id="org7f1a67f">Submission</h3>
<div class="outline-text-3" id="text-org7f1a67f">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module></module>
</div>
</div>

<div id="outline-container-org944b730" class="outline-3">
<h3 id="org944b730">Alternatives</h3>
<div class="outline-text-3" id="text-org944b730">
<p>
A surprising number of people used the string formatting - <code>{:02X}</code> to convert the numbers to hexadecimal. I think that's sort of the problem with these earlier puzzles - there's a big question of how much of python's built in functionality you should use. I guess since I use string formatting a lot that might make sense as a shortcut in this case.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Not quite so readable, but short.
</p>
</module></module>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/codewars-rot13/" class="u-url">CodeWars: Rot13</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/codewars-rot13/" rel="bookmark">
            <time class="published dt-published" datetime="2022-02-12T13:03:26-08:00" itemprop="datePublished" title="2022-02-12 13:03">2022-02-12 13:03</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/codewars-rot13/#orgbaf3c48">Description</a></li>
<li>
<a href="posts/codewars-rot13/#org66434ca">The Code</a>
<ul>
<li><a href="posts/codewars-rot13/#orgdd2607d">Imports</a></li>
<li><a href="posts/codewars-rot13/#orgdfd76f6">The Submitted Function</a></li>
<li><a href="posts/codewars-rot13/#org286e056">A Test</a></li>
</ul>
</li>
<li>
<a href="posts/codewars-rot13/#orgb1efc2e">Alternatives</a>
<ul>
<li><a href="posts/codewars-rot13/#org873b41b">Using the Slicing</a></li>
<li><a href="posts/codewars-rot13/#orgffedec0">Using translate and maketrans</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgbaf3c48" class="outline-2">
<h2 id="orgbaf3c48">Description</h2>
<div class="outline-text-2" id="text-orgbaf3c48">
<p>
Given a string, replace each letter with the one that comes 13 letters after it in the alphabet. Ignore non-English aphabetical characters.
</p>
</div>
</div>

<div id="outline-container-org66434ca" class="outline-2">
<h2 id="org66434ca">The Code</h2>
<div class="outline-text-2" id="text-org66434ca">
</div>
<div id="outline-container-orgdd2607d" class="outline-3">
<h3 id="orgdd2607d">Imports</h3>
<div class="outline-text-3" id="text-orgdd2607d">
<ul class="org-ul">
<li>
<a href="https://docs.python.org/3/library/string.html">Python Strings</a>
<ul class="org-ul">
<li><a href="https://docs.python.org/3/library/string.html#string.ascii_lowercase">ascii_lowercase</a></li>
<li><a href="https://docs.python.org/3/library/string.html#string.ascii_lowercase">ascii_uppercase</a></li>
</ul>
</li>
</ul>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-orgdfd76f6" class="outline-3">
<h3 id="orgdfd76f6">The Submitted Function</h3>
<div class="outline-text-3" id="text-orgdfd76f6">
<p>
This is the version I submitted to CodeWars. It uses the dict <a href="https://docs.python.org/3/library/stdtypes.html#dict.update">update</a> method to build a dict (although the solutions below seem neater) and the <a href="https://docs.python.org/3/library/stdtypes.html#dict.get">get</a> method to handle the cases where the letter in the message isn't in the dictionary.
</p>


Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
<div id="outline-container-org286e056" class="outline-3">
<h3 id="org286e056">A Test</h3>
<div class="outline-text-3" id="text-org286e056">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
</div>
<div id="outline-container-orgb1efc2e" class="outline-2">
<h2 id="orgb1efc2e">Alternatives</h2>
<div class="outline-text-2" id="text-orgb1efc2e">
<p>
Quite a few of the other solutions (on the first page, anyway) used the built in <a href="https://docs.python.org/3/library/stdtypes.html#str.maketrans">str.maketrans</a> and <a href="https://docs.python.org/3/library/stdtypes.html#str.translate">str.translate</a> methods (they complement each other). I didn't see anything in the documentation about how defaults are handled so I'd have to look into it more. The <a href="https://www.codewars.com/kata/reviews/545683f329ccbfe984000087/groups/545747a40a80d2f02800014a">top answer</a> also used slicing instead of modulo (<code>lower[13:] + lower[:13])</code> which might be better. The comments mention that the top answer actually won't work anymore since the <code>maketrans</code> and <code>translate</code> functions got moved out of <code>string</code> (which is where it's importing it from).
</p>

<p>
The top solutions seem to have a mix of current python and deprecated python (python 2?) so you'd have to be careful in using any of them.
</p>
</div>

<div id="outline-container-org873b41b" class="outline-3">
<h3 id="org873b41b">Using the Slicing</h3>
<div class="outline-text-3" id="text-org873b41b">
<p>
If you were use slicing instead of the modulo I think it might look like this (from here on out I'm going to declare the code-books outside the function the way I would normally do it, I kind of didn't really think about it when submitting the solution above so I'll leave it as is).
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
This is more compact, although I'm not sure that the slicing is as immediately obvious as the use of the modulo is.
</p>
</module></module>
</div>
</div>

<div id="outline-container-orgffedec0" class="outline-3">
<h3 id="orgffedec0">Using translate and maketrans</h3>
<div class="outline-text-3" id="text-orgffedec0">
<p>
Here's a version using the built-in <code>maketrans</code> and <code>translate</code> functions.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<pre class="example">
V unir orra gb cnenqvfr 3 gvzrf, ohg V unir arire orra gb zr. Bu, gur uhznavgl!
I have been to paradise 3 times, but I have never been to me. Oh, the humanity!
</pre>


<p>
It kind of seems too much to use translate for this exercise, but it does feel cleaner than the dictionary, so I'll have to keep it in mind for the future.
</p>
</module></module>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/codewars-calculating-with-functions/" class="u-url">CodeWars: Calculating With Functions</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/codewars-calculating-with-functions/" rel="bookmark">
            <time class="published dt-published" datetime="2022-02-10T17:52:52-08:00" itemprop="datePublished" title="2022-02-10 17:52">2022-02-10 17:52</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/codewars-calculating-with-functions/#org2874ff3">The Problem</a></li>
<li>
<a href="posts/codewars-calculating-with-functions/#orgd615975">The Solution</a>
<ul>
<li><a href="posts/codewars-calculating-with-functions/#orgdab4862">The Tests</a></li>
</ul>
</li>
<li><a href="posts/codewars-calculating-with-functions/#org5c55e7d">Alternatives</a></li>
<li><a href="posts/codewars-calculating-with-functions/#org7cf837a">A Hybrid</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2874ff3" class="outline-2">
<h2 id="org2874ff3">The Problem</h2>
<div class="outline-text-2" id="text-org2874ff3">
<p>
Write functions that calculate integer arithmetic. For example.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

<p>
Should return thirty-five. Every number has a function and there are four operation-functions:
</p>
<ul class="org-ul">
<li><code>plus</code></li>
<li><code>minus</code></li>
<li><code>times</code></li>
<li><code>divided_by</code></li>
</ul>
<p>
All operations should return integers, not floats.
</p>
</module>
</div>
</div>

<div id="outline-container-orgd615975" class="outline-2">
<h2 id="orgd615975">The Solution</h2>
<div class="outline-text-2" id="text-orgd615975">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
<div id="outline-container-orgdab4862" class="outline-3">
<h3 id="orgdab4862">The Tests</h3>
<div class="outline-text-3" id="text-orgdab4862">
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
</div>

<div id="outline-container-org5c55e7d" class="outline-2">
<h2 id="org5c55e7d">Alternatives</h2>
<div class="outline-text-2" id="text-org5c55e7d">
<p>
There are several variations on the theme. One that I thought was similar in spirit to what I did but better was <a href="https://www.codewars.com/kata/reviews/5b0ce29de86c548f16000e76/groups/5c92714817647a0001bac149">this one</a>. Instead of separate operation and integer they use a default function that only returns what gets passed to it. So the definitions look like this.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
<div id="outline-container-org7cf837a" class="outline-2">
<h2 id="org7cf837a">A Hybrid</h2>
<div class="outline-text-2" id="text-org7cf837a">
<p>
To add a little of what the other solution is doing…
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/coding-train-starfield/" class="u-url">Coding Train Starfield</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/cloistered-monkey/">Cloistered Monkey</a>
            </span></p>
            <p class="dateline">
            <a href="posts/coding-train-starfield/" rel="bookmark">
            <time class="published dt-published" datetime="2022-02-10T15:19:02-08:00" itemprop="datePublished" title="2022-02-10 15:19">2022-02-10 15:19</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="posts/coding-train-starfield/#org1795b3d">The Starfield</a></li>
<li>
<a href="posts/coding-train-starfield/#orga6e4986">The Main Sketch</a>
<ul>
<li><a href="posts/coding-train-starfield/#orgdfce28a">The Setup Function</a></li>
<li><a href="posts/coding-train-starfield/#org3fc419e">Draw</a></li>
</ul>
</li>
<li>
<a href="posts/coding-train-starfield/#orgd810979">The Star Class</a>
<ul>
<li><a href="posts/coding-train-starfield/#org978cc70">The Update</a></li>
<li><a href="posts/coding-train-starfield/#org5bf5e61">The Show Function</a></li>
</ul>
</li>
<li><a href="posts/coding-train-starfield/#orgbf3f271">Attaching the Sketch</a></li>
<li><a href="posts/coding-train-starfield/#org0695f5d">Source</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1795b3d" class="outline-2">
<h2 id="org1795b3d">The Starfield</h2>
<div class="outline-text-2" id="text-org1795b3d">
<p>
This is another <a href="https://p5js.org/">p5.js</a> hello-world, this time taken from Daniel Schiffman's <a href="https://thecodingtrain.com/CodingChallenges/001-starfield.html">Starfield in Processing</a> coding challenge. It's a rough version of traveling through the stars at warp speed. He managed to do it in about 15 minutes, if I remember correctly. It starts static but if you move your mouse back and forth horizontally it adjusts the speed.
</p>

<script language="javascript" type="text/javascript" src="posts/coding-train-starfield/starfield.js"></script><div id="schiffman-starfield">
</div>
</div>
</div>

<div id="outline-container-orga6e4986" class="outline-2">
<h2 id="orga6e4986">The Main Sketch</h2>
<div class="outline-text-2" id="text-orga6e4986">
<p>
The most basic processing/p5 sketch uses two functions <code>setup</code> to initially set up your canvas and <code>draw</code> to update the frames over time. This function creates our canvas and star objects in the <code>setup</code> and then calculates a <code>speed</code> based on the mouse position of the user in order to update the stars. It gets passed a p5 element, called p, in order to get access to the p5.js code.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
<div id="outline-container-orgdfce28a" class="outline-3">
<h3 id="orgdfce28a">The Setup Function</h3>
<div class="outline-text-3" id="text-orgdfce28a">
<p>
Not too much voodoo here, other than the use of the <a href="https://api.jquery.com/outerWidth/">JQuery outerWidth</a> method which gets the width of the DIV that we're using to hold the sketch and uses it as the width for the canvas.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org3fc419e" class="outline-3">
<h3 id="org3fc419e">Draw</h3>
<div class="outline-text-3" id="text-org3fc419e">
<p>
Again, not too fancy. The draw function:
</p>

<ul class="org-ul">
<li>Sets the background to black to wipe out our previous drawing</li>
<li>gets the "speed" of the stars using the x-position of the mouse and mapping this location from 0 to the width of the canvas to a smaller range from 0 to 50</li>
<li>Translate the (0, 0) of the coordinate system from the top left of the canvas to the middle so our stars emerge from the center instead of the top left</li>
<li>update all the stars with the speed and re-draw them</li>
</ul>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
</div>

<div id="outline-container-orgd810979" class="outline-2">
<h2 id="orgd810979">The Star Class</h2>
<div class="outline-text-2" id="text-orgd810979">
<p>
The <code>Star</code> stores the position of a "star" and updates it based on the speed that it's given. Our initial constructor sets up the coordinates of the star using random values. 
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>

<div id="outline-container-org978cc70" class="outline-3">
<h3 id="org978cc70">The Update</h3>
<div class="outline-text-3" id="text-org978cc70">
<p>
Most of the time the update reduces the <code>z</code> value by the current speed, but since we don't want the stars to go off the canvas and disappear, if it gets too small we re-randomize the position of the star.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org5bf5e61" class="outline-3">
<h3 id="org5bf5e61">The Show Function</h3>
<div class="outline-text-3" id="text-org5bf5e61">
<p>
The <code>show</code> function is where most of the work is done. It calculates the proprotions of x and y to z and then maps that to the width and height of the canvas and then draws an ellipse. To get the radius of the ellipse we map the current z-value using an inverted target of 16, 0. This means that as z gets smaller our radius gets bigger.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>
</div>

<div id="outline-container-orgbf3f271" class="outline-2">
<h2 id="orgbf3f271">Attaching the Sketch</h2>
<div class="outline-text-2" id="text-orgbf3f271">
<p>
This next bit attaches our sketch to a specific DIV defined in the HTML. You don't have to do this, you could just use the parts as universal functions like the examples show, but if you have more than one sketch on a page sometimes things get funky so I prefer this pattern to keep everything in place.
</p>

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in <module>
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
</module>
</div>
</div>

<div id="outline-container-org0695f5d" class="outline-2">
<h2 id="org0695f5d">Source</h2>
<div class="outline-text-2" id="text-org0695f5d">
<ul class="org-ul">
<li>Starfield in Processing [Internet]. The Coding Train. 2016 [cited 2022 Feb 10]. Available from: <a href="https://thecodingtrain.com/CodingChallenges/001-starfield.html">https://thecodingtrain.com/CodingChallenges/001-starfield.html</a>
</li>
</ul>
</div>
</div>
    </div>
    </article>
</div>

        <ul class="pager postindexpager clearfix">
<li class="next"><a href="index-20.html" rel="next">Older posts</a></li>
        </ul>
<!--End of body content--><footer id="footer">
            Contents © 2023         <a href="mailto:cloisteredmonkey.jmark@slmail.me">Cloistered Monkey</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
