<html><body><p>This is a test of dumping a cut-and-paste of body text from a sphinx-generated html page.  <br>This is a puzzle from [RTNS].<br></p><div class="section" id="the-puzzle"><h2>The Puzzle<a class="headerlink" href="http://www.blogger.com/blogger.g?blogID=3828623117312978443#the-puzzle" title="Permalink to this headline">¶</a></h2>A Spanish treasure fleet of three ships was sunk off the coast of Mexico:<br><blockquote><div><ul class="simple"><li>One had a trunk of gold forward and a trunk of gold aft</li><li>One had a trunk of gold forward and a trunk of silver aft</li><li>One had a trunk of silver forward and a trunk of silver aft</li></ul></div></blockquote>Divers just found one of the ships and a trunk of silver in it.<br><blockquote><div><ul class="simple"><li>What is the probability that the other trunk has silver?</li></ul></div></blockquote></div><div class="section" id="a-reasoning"><h2>A Reasoning<a class="headerlink" href="http://www.blogger.com/blogger.g?blogID=3828623117312978443#a-reasoning" title="Permalink to this headline">¶</a></h2>The way to think of this is to not think of each category (silver vs gold) but to identify each trunk and how it is paired with another trunk. For example, we have six trunks:<br><blockquote><div><img alt="G_1, G_2, G_3, S_1, S_2, S_3" class="math" src="../_images/math/96b66c02ca526bffc7c662306b084d6f94a1e7ad.png"></div></blockquote>In the three ships they were paired up:<br><blockquote><div><ul class="simple"><li><img alt="Ship_1 = \{G_1, G_2\}" class="math" src="../_images/math/b171671c3dd6dd728e0e1181bba325faa93fa654.png"></li><li><img alt="Ship_2 = \{G_3, S_1\}" class="math" src="../_images/math/23358509024ea03188202e6b56acdb77c6e53b46.png"></li><li><img alt="Ship_3 = \{S_2, S_3\}" class="math" src="../_images/math/a35995757f7aeae4cfd5e1908d34dad9b3bf54d6.png"></li></ul></div></blockquote>The trunk found had silver so the ship was either <img alt="Ship_2" class="math" src="../_images/math/215694a27d4af8de0643a4f32fdca8049454b156.png"> or <img alt="Ship_3" class="math" src="../_images/math/3da3ace83a8d796d08a565d76a440d973ef3e8e6.png"> and the trunk was one of <img alt="S_1, S_2, \textrm{or} S_3" class="math" src="../_images/math/ca3803bde832b07393dc044bf85c03b4882048af.png">. Call the trunk found <img alt="T_f" class="math" src="../_images/math/fa7542bd1fa73e6d35fe0ad5cf035eb914350818.png">.<br><blockquote><div><ul class="simple"><li>Case 1: <img alt="T_f = S_1" class="math" src="../_images/math/82d9e1923f18b498d611616bd87fad5670136c14.png"> then the other trunk will be <img alt="G_3" class="math" src="../_images/math/5e592e7c572098aaa72922f31a260997722aab3f.png"></li><li>Case 2: <img alt="T_f = S_2" class="math" src="../_images/math/5d4808dd5a47bcd955147b498fd8128bc816d065.png"> then the other trunk will be <img alt="S_3" class="math" src="../_images/math/54147dbf4167d407147e92a3439b0d168c96bee8.png"></li><li>Case 3: <img alt="T_f = S_3" class="math" src="../_images/math/2390c3ca5bbb0473569703341b3754394360d383.png"> then the other trunk will be <img alt="S_2" class="math" src="../_images/math/7f4caea56d945d0b6e49701b42ce06e0fb92e663.png"></li></ul></div></blockquote>In 2 out of 3 cases the trunk will be silver and  in 1 out of 3 cases the trunk will be gold. So the probability that the next trunk pulled up (from the same ship) will be silver will be 2/3.</div><div class="section" id="simulation"><h2>Simulation<a class="headerlink" href="http://www.blogger.com/blogger.g?blogID=3828623117312978443#simulation" title="Permalink to this headline">¶</a></h2>This is the method the book gives:<br><blockquote><div><ol class="arabic simple"><li>Create three urns: {7,7}, {7,8}, and {8,8}</li><li>Choose an urn at random and a random element from the chosen urn</li><li>If the element chosen was an 8 (gold), do nothing, if it was a 7 continue</li><li>Record the other element in the chosen urn</li><li>Calculate the proportion of 7s recorded to 8s</li></ol></div></blockquote>This seems confusing at first – we know that the trunk found was silver so ship 1 was not the one found, why include it in the simulation? My guess is that we do not need the third urn since we discard all the cases where it is chosen and we are not using the number of trials to find the probabilities. I think the given method might be a clearer simulation if we were trying to recreate what happened in that it reflects the entire story, but it does not really reflect the puzzle at the point it takes up – after the first trunk is found –  so adds unnecessary computation (well, I guess the whole random choice thing is probably doing that anyway).<br>Try this:<br><blockquote><div><ol class="arabic simple"><li>Create two urns: {0,1}, {1,1}</li><li>Pick a random urn and an element from it</li><li>If the element was a 0, go back a step</li><li>Record the remaining element in the urn</li><li>calculate the ratio of 1’s to 0’s</li></ol></div></blockquote>This is confusing, he says find the odds, but 2/3 is probability. The odds of finding silver should be 2:1 (he also flip-flops between saying they found silver and gold in the first trunk, but that is another problem – and the book was free, so what the heck).<br><br><div class="highlight-python"><div class="highlight"><pre><span class="n">GOLD</span> <span class="o">=</span> <span class="mi">0</span><br><span class="n">SILVER</span> <span class="o">=</span> <span class="mi">1</span><br><span class="n">ship_2</span> <span class="o">=</span> <span class="p">(</span><span class="n">GOLD</span><span class="p">,</span> <span class="n">SILVER</span><span class="p">)</span><br><span class="n">ship_3</span> <span class="o">=</span> <span class="p">(</span><span class="n">SILVER</span><span class="p">,</span> <span class="n">SILVER</span><span class="p">)</span><br><span class="n">fleet</span> <span class="o">=</span> <span class="p">(</span><span class="n">ship_2</span><span class="p">,</span> <span class="n">ship_3</span><span class="p">)</span><br><span class="n">trials</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">5</span><br><br><span class="c"># ships is a list of random ships from the fleet</span><br><span class="n">ships</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">fleet</span><span class="p">)</span> <span class="k">for</span> <span class="n">trial</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">trials</span><span class="p">)]</span><br><br><span class="c"># found_trunks is a list of trunk-indices chosen for each ship (the trunk found by the diver)</span><br><span class="c"># although the values are the same as gold and silver (0 and 1)</span><br><span class="c"># in this case they are tuple indices for the trunk-tuples in the ships</span><br><span class="n">found_trunks</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">ship</span> <span class="ow">in</span> <span class="n">ships</span><span class="p">]</span><br><br><span class="c"># next_trunks is the type of trunk not chosen for found_trunks if found_trunks wasn't gold</span><br><span class="c"># because it's filtered, its length is the count of all cases where the first trunk was silver</span><br><span class="n">next_trunks</span> <span class="o">=</span> <span class="p">[</span><span class="n">ships</span><span class="p">[</span><span class="n">index</span><span class="p">][(</span><span class="n">found_trunks</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ships</span><span class="p">))</span><br>               <span class="k">if</span> <span class="n">ships</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="n">found_trunks</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span> <span class="o">!=</span> <span class="n">GOLD</span><span class="p">]</span><br><br><span class="c"># silvers is a count of the next_trunks that were silver</span><br><span class="n">silvers</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">trunk</span> <span class="ow">in</span> <span class="n">next_trunks</span> <span class="k">if</span> <span class="n">trunk</span> <span class="o">==</span> <span class="n">SILVER</span><span class="p">)</span><br><br><span class="k">print</span> <span class="s">"Probability next trunk is silver: {0:.2f}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">silvers</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">next_trunks</span><span class="p">))</span><br><span class="k">print</span> <span class="s">"(Compare to 2/3 = {0:.2f})."</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">2.</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> </pre><pre> </pre></div></div>Probability next trunk is silver: 0.67 (Compare to 2/3 = 0.67).</div></body></html>