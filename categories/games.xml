<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>The Cloistered Monkey (Posts about games)</title><link>https://necromuralist.github.io/</link><description></description><atom:link href="https://necromuralist.github.io/categories/games.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2023 &lt;a href="mailto:cloisteredmonkey.jmark@slmail.me"&gt;Cloistered Monkey&lt;/a&gt; </copyright><lastBuildDate>Thu, 04 May 2023 00:33:50 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Seek With Cocos2D</title><link>https://necromuralist.github.io/posts/seek-with-cocos2d/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;p&gt;
This is an implementation of Craig Reynold's flocking behavior based on the book &lt;a href="https://www.packtpub.com/game-development/python-game-programming-example"&gt;Python Game Programming By Example&lt;/a&gt;. Reynolds mentions many variations for flocking. This will implement a basic boid that flocks to the mouse pointer.
&lt;/p&gt;

&lt;div id="outline-container-orgafd1cf5" class="outline-2"&gt;
&lt;h2 id="orgafd1cf5"&gt;Imports&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgafd1cf5"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org5559e26" class="outline-2"&gt;
&lt;h2 id="org5559e26"&gt;Constants&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org5559e26"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org58a1559" class="outline-2"&gt;
&lt;h2 id="org58a1559"&gt;The Boid&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org58a1559"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org1312f5d" class="outline-3"&gt;
&lt;h3 id="org1312f5d"&gt;Boid Settings&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org1312f5d"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org6b7d0be" class="outline-3"&gt;
&lt;h3 id="org6b7d0be"&gt;Boid Node&lt;/h3&gt;
&lt;/div&gt;
&lt;div id="outline-container-org6185f45" class="outline-3"&gt;
&lt;h3 id="org6185f45"&gt;the Constructor&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org6185f45"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
I'm not a fan of method calls in the constructor, but these next two lines help set up the node.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
The &lt;code&gt;add&lt;/code&gt; method sets the &lt;code&gt;Sun&lt;/code&gt; instance as a child of the &lt;code&gt;Boid&lt;/code&gt; node and the &lt;code&gt;schedule&lt;/code&gt; method sets the &lt;code&gt;Boid's&lt;/code&gt; &lt;code&gt;update&lt;/code&gt; method to be called once per frame.
&lt;/p&gt;
&lt;/module&gt;&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org194fe66" class="outline-3"&gt;
&lt;h3 id="org194fe66"&gt;The Current Position&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org194fe66"&gt;
&lt;p&gt;
This is just a convenience attribute. It probably takes a performance hit, but the original code was a little obscure so I thought I'd pull it out to document it.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
I had to look it up, since there's no setting of &lt;code&gt;self.x&lt;/code&gt; or &lt;code&gt;self.y&lt;/code&gt; here - these two attributes are built into the &lt;a href="http://python.cocos2d.org/doc/api/cocos.cocosnode.html"&gt;CocosNode&lt;/a&gt; object and are always the current values.
&lt;/p&gt;
&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgdaecc1c" class="outline-3"&gt;
&lt;h3 id="orgdaecc1c"&gt;The Update Method&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgdaecc1c"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
The target is going to be set when the mouse is move. Because of this it's initially not set, so we need to short circuit if that's the case.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
In the snippet above, &lt;code&gt;distance&lt;/code&gt; is a vector with the tail on our current position and the head on the target. The steering-force is created by scaling the distance by our &lt;code&gt;speed&lt;/code&gt; and then subtracting our current velocity, creating a vector that over-compensates to turn us toward the target. The new velocity is our old velocity plus the steering-force and our position is updated to be our new velocity times the elapsed time. That doesn't look like it's doing anything, but &lt;code&gt;position&lt;/code&gt; is another special attribute on the &lt;code&gt;CocosNode&lt;/code&gt;.
&lt;/p&gt;

&lt;p&gt;
This next method reduces a vector if its magnitude is above a given threshold.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
&lt;/module&gt;&lt;/module&gt;&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgdb28875" class="outline-2"&gt;
&lt;h2 id="orgdb28875"&gt;Main Layer&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgdb28875"&gt;
&lt;p&gt;
This is the class to act as the event handler.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
That value (&lt;code&gt;is_event_handler&lt;/code&gt;) has to be true or the &lt;code&gt;Layer&lt;/code&gt; class doesn't handle events.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
The &lt;code&gt;on_mouse_motion&lt;/code&gt; method is a pass through to &lt;code&gt;pyglet&lt;/code&gt; so the method is documented &lt;a href="https://pyglet.readthedocs.io/en/pyglet-1.2-maintenance/programming_guide/mouse.html"&gt;there&lt;/a&gt; more than on the &lt;i&gt;cocos2d&lt;/i&gt; site.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
The first thing to note is that the &lt;code&gt;cocos.director.init&lt;/code&gt; function has to be called before any of the other &lt;i&gt;cocos2D&lt;/i&gt; objects are created. If you move the instantiation of the &lt;i&gt;Boid&lt;/i&gt; above that line, for instance, it will crash with a &lt;code&gt;AttributeError: 'Director' object has no attribute '_window_virtual_width'&lt;/code&gt; error.
&lt;/p&gt;
&lt;/module&gt;&lt;/module&gt;&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;</description><category>cocos2d</category><category>emergence</category><category>flocking</category><category>games</category><guid>https://necromuralist.github.io/posts/seek-with-cocos2d/</guid><pubDate>Tue, 21 Feb 2017 00:24:39 GMT</pubDate></item><item><title>Flocking With Cocos2D</title><link>https://necromuralist.github.io/posts/flocking-with-cocos2d/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;p&gt;
This is an implementation of Craig Reynold's flocking behavior based on the book &lt;a href="https://www.packtpub.com/game-development/python-game-programming-example"&gt;Python Game Programming By Example&lt;/a&gt;.
&lt;/p&gt;

&lt;div id="outline-container-orgca25180" class="outline-2"&gt;
&lt;h2 id="orgca25180"&gt;Imports&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgca25180"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org83a07e0" class="outline-2"&gt;
&lt;h2 id="org83a07e0"&gt;Constants&lt;/h2&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgc0d48cb" class="outline-2"&gt;
&lt;h2 id="orgc0d48cb"&gt;The Boid&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgc0d48cb"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org2c02eac" class="outline-3"&gt;
&lt;h3 id="org2c02eac"&gt;Boid Settings&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org2c02eac"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org668776c" class="outline-3"&gt;
&lt;h3 id="org668776c"&gt;Boid Node&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org668776c"&gt;
Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
I'm not a fan of method calls in the constructor, but these next two lines help set up the node.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
The &lt;code&gt;add&lt;/code&gt; method sets the &lt;code&gt;Sun&lt;/code&gt; instance as a child of the &lt;code&gt;Boid&lt;/code&gt; node and the &lt;code&gt;schedule&lt;/code&gt; method sets the &lt;code&gt;Boid's&lt;/code&gt; &lt;code&gt;update&lt;/code&gt; method to be called once per frame.
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'

&lt;p&gt;
The target
&lt;/p&gt;

Traceback (most recent call last):
  File "/home/hades/.local/bin/pygmentize", line 5, in &lt;module&gt;
    from pygments.cmdline import main
ModuleNotFoundError: No module named 'pygments'
&lt;/module&gt;&lt;/module&gt;&lt;/module&gt;&lt;/module&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgbdf54a5" class="outline-2"&gt;
&lt;h2 id="orgbdf54a5"&gt;Main&lt;/h2&gt;
&lt;/div&gt;</description><category>cocos2d</category><category>emergence</category><category>flocking</category><category>games</category><guid>https://necromuralist.github.io/posts/flocking-with-cocos2d/</guid><pubDate>Mon, 20 Feb 2017 22:59:43 GMT</pubDate></item></channel></rss>