<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="How to add inter-site links in nikola." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Nikola Inter-Site Links | The Cloistered Monkey</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../rss.xml" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/posts/nikola-inter-site-links/" rel="canonical"><!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/latest.js?config=TeX-MML-AM_CHTML" type="text/javascript">
</script>
<meta content="hades" name="author">
<link href="../removing-large-files-from-git-using-bfg-and-a-local-repository/" rel="prev" title="Removing Large Files From git Using BFG and a Local Repository" type="text/html">
<link href="../reference/flask-bibliography/" rel="next" title="Flask-Bibliography" type="text/html">
<meta content="The Cloistered Monkey" property="og:site_name">
<meta content="Nikola Inter-Site Links" property="og:title">
<meta content="https://necromuralist.github.io/posts/nikola-inter-site-links/" property="og:url">
<meta content="How to add inter-site links in nikola." property="og:description">
<meta content="article" property="og:type">
<meta content="2018-01-14T14:56:00-08:00" property="article:published_time">
<meta content="nikola howto" property="article:tag">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="https://necromuralist.github.io/"><span id="blog-title">The Cloistered Monkey</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="../../categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="../../rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Projects</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/In-Too-Deep/">In Too Deep (Neural Networks)</a> <a class="dropdown-item" href="../../machine-learning-projects/">Machine Learning</a> <a class="dropdown-item" href="https://necromuralist.github.io/student_intervention/">Student Intervention Project</a> <a class="dropdown-item" href="https://necromuralist.github.io/boston_housing/">Boston Housing Project</a> <a class="dropdown-item" href="https://necromuralist.github.io/data_science/">Data Science With Python</a></div>
</li>
</ul>
<!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Search" type="text"></div>
<!-- 
<button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-search"></span>
</button>
-->
<input name="sitesearch" type="hidden" value="https://necromuralist.github.io/"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right">
<li class="nav-item"><a class="nav-link" href="index.rst" id="sourcelink">Source</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">Nikola Inter-Site Links</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="../../authors/hades/">hades</a></span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2018-01-14T14:56:00-08:00" itemprop="datePublished" title="2018-01-14 14:56">2018-01-14 14:56</time></a></p>
<p class="sourceline"><a class="sourcelink" href="index.rst">Source</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div>
<div class="section" id="background">
<h2>Background</h2>
<p>While creating a bibliography using nikola I found about nikola <a class="reference external" href="https://getnikola.com/path-handlers.html">path handlers</a>. It allows you to make reference to other posts without needing the full address (e.g. <tt class="docutils literal"><span class="pre">http://necromuralist.github.io/pages/nikola-inter-site-links</span></tt>).</p>
<p>Instead you can use the special <cite>link://</cite> protocol and nikola will resolve it for you. It uses the form:</p>
<blockquote><tt class="docutils literal"><span class="pre">link://&lt;kind&gt;/&lt;name&gt;/</span></tt></blockquote>
<p>There is (of course) another form that lets you doc it using the <tt class="docutils literal">:doc:</tt> restructured text directive. This form is more succinct, and is what I'll probably stick with in the future. I originally went with the <tt class="docutils literal">link</tt> version because I thought it would work with other markup languages, but it didn't (or at least not with org-mode).</p>
</div>
<div class="section" id="post-paths">
<h2>Post-Paths</h2>
<p>In this case I'm trying to link to another post so the link <cite>kind</cite> is <tt class="docutils literal">post_path</tt>, which will resolve to either posts or pages. Because it can be either one, you need to extend the path to this form:</p>
<pre class="code text"><a id="rest_code_4e1febcb520c457082a23a6bd7d2bddb-1" name="rest_code_4e1febcb520c457082a23a6bd7d2bddb-1"></a>link://post_path/posts/&lt;post-slug&gt;/
</pre>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can get the slug in the meta-data in the post itself.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When I forgot the last forward-slash (after the slug) nikola couldn't resolve it and returned a 404 error.</p>
</div>
<div class="section" id="example">
<h3>Example</h3>
<p>Here's how to link to another post that I titled <strong>Pruning Large Files From Git with BFG</strong>, with a slug of <tt class="docutils literal"><span class="pre">pruning-large-files-from-git-with-bfg</span></tt>.</p>
<pre class="code rst"><a id="rest_code_e9ea5bc4a1a14e419dd441a39fcca50d-1" name="rest_code_e9ea5bc4a1a14e419dd441a39fcca50d-1"></a><span class="s">`link </span><span class="si">&lt;link://post_path/posts/pruning-large-files-from-git-with-bfg/&gt;</span><span class="s">`__</span>
</pre>
<p>This creates this <a class="reference external" href="../pruning-large-files-from-git-with-bfg/">link</a>.</p>
</div>
</div>
<div class="section" id="doc-role">
<h2>Doc Role</h2>
<p><a class="reference external" href="https://www.getnikola.com/handbook.html#doc">This</a> is a restructured-text role that nikola supports to make it easier to install links. The previous example using this style would be done like this:</p>
<blockquote><tt class="docutils literal"><span class="pre">:doc:`link</span> <span class="pre">&lt;pruning-large-files-from-git-with-bfg&gt;`</span></tt></blockquote>
<p>Which creates this <a class="reference external" href="../pruning-large-files-from-git-with-bfg/">link</a>.</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>The <tt class="docutils literal">doc</tt> method seems much easier for posts, but the <tt class="docutils literal">links</tt> method covers many other cases and might be useful otherwise. It should be noted that both methods work for pages as well (stories), although the link version will need the path changed. In my case, all the pages are under the <tt class="docutils literal">stories</tt> folder so the link would be change to something like:</p>
<blockquote><tt class="docutils literal">`link <span class="pre">&lt;link://post_path/stories/story-slug/&gt;`__</span></tt></blockquote>
</div>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../categories/nikola-howto/" rel="tag">nikola howto</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../removing-large-files-from-git-using-bfg-and-a-local-repository/" rel="prev" title="Removing Large Files From git Using BFG and a Local Repository">Previous post</a></li>
<li class="next"><a href="../reference/flask-bibliography/" rel="next" title="Flask-Bibliography">Next post</a></li>
</ul>
</nav>
</aside>
</article>
<!--End of body content-->
<footer id="footer">Contents Â© 2019 <a href="mailto:necromuralist@protonmail.com">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
</div>
</div>
<script src="../../assets/js/all-nocdn.js">
</script><!-- fancy dates -->
<script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
</script><!-- end fancy dates -->
<script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
</script>
</body>
</html>
