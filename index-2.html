<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="A common place." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>The Cloistered Monkey (old posts, page 2) | The Cloistered Monkey</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="rss.xml" hreflang="en" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/index-2.html" rel="canonical">
<link href="index-3.html" rel="prev" type="text/html">
<link href="index-1.html" rel="next" type="text/html"><!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
<link href="apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="site.webmanifest" rel="manifest">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="."><span id="blog-title">The Cloistered Monkey</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="pages/">Pages</a></li>
<li class="nav-item"><a class="nav-link" href="archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Projects</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/Ape-Iron/">Ape Iron</a> <a class="dropdown-item" href="https://necromuralist.github.io/Bowling-For-Data/">Bowling For Data</a> <a class="dropdown-item" href="https://necromuralist.github.io/Neurotic-Networking/">Neurotic Networking</a> <a class="dropdown-item" href="https://necromuralist.github.io/Visions-Voices-Data/">Visions, Voices, Data</a></div>
</li>
</ul>
<!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Search" type="text"></div>
<!-- 
<button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-search"></span>
</button>
-->
<input name="sitesearch" type="hidden" value="https://necromuralist.github.io/"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<div class="postindex">
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208fault-injection/">Fault Injection</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208fault-injection/" rel="bookmark"><time class="published dt-published" datetime="2012-08-08T17:15:00-07:00" itemprop="datePublished" title="2012-08-08 17:15">2012-08-08 17:15</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="fault-injection">
<div class="section" id="problem">
<h4>Problem</h4>
You don't have control over external libraries but you need to test how your software handles errors from them.</div>
<div class="section" id="solution">
<h4>Solution</h4>
Create duck-typed substitutes that call the external libraries but sometimes introduce errors. The percentage of errors should be low so that it doesn't interfere with other operations.<br>
From <a class="reference external" href="http://www.udacity.com/">Udacity's</a> <em>Software Testing</em> course.</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208specifications-and-testing/">Specifications and Testing</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208specifications-and-testing/" rel="bookmark"><time class="published dt-published" datetime="2012-08-07T22:35:00-07:00" itemprop="datePublished" title="2012-08-07 22:35">2012-08-07 22:35</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="specifications-and-testing">
<div class="section" id="goal">
<h4>Goal</h4>
To treat the software under test as a black box by testing to the Application Programming Interface (API).</div>
<div class="section" id="what-role-does-testing-play-in-the-specification-of-software">
<h4>What role does testing play in the specification of software?</h4>
Part of the job of testing is to help refine the specification by figuring out what acceptable inputs and outputs are.</div>
<div class="section" id="what-are-domains-and-ranges">
<h4>What are Domains and Ranges?</h4>
<strong>Domain</strong>: the set of possible inputs <strong>Range</strong>: the set of possible outputs</div>
<div class="section" id="what-are-software-domains-and-ranges">
<h4>What are Software Domains and Ranges?</h4>
Software uses a super-set of the mathematical domains and ranges.<br>
<br>
<ul>
<li><strong>Domain</strong>: All inputs of the right type (or all inputs)&nbsp;</li>
<li><strong>Range</strong>: Union of valid range&nbsp;with a set of exceptions</li>
</ul>
</div>
<div class="section" id="should-you-use-defensive-coding">
<h4>Should You Use Defensive Coding?</h4>
<ul class="simple">
<li><i>Defensive Coding</i> means to validate the input that users give you before proceeding.</li>
<li>Implementing checks for valid input makes the code slow and hard to read</li>
<li>Better to clearly specify the Domain in the documentation and raise an exception if an invalid output is produced.</li>
</ul>
From Udacity's <em>Software Testing</em> <a class="reference external" href="http://www.udacity.com/wiki/CS258%20Unit%201?course=cs258#specifications%3E">Unit</a> 1.</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208more-on-assertions/">More On Assertions</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208more-on-assertions/" rel="bookmark"><time class="published dt-published" datetime="2012-08-07T20:47:00-07:00" itemprop="datePublished" title="2012-08-07 20:47">2012-08-07 20:47</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="more-on-assertions">
<div class="section" id="why-use-assertions">
<h4>Why Use Assertions?</h4>
<ol class="arabic simple">
<li>The code becomes self-checking.</li>
<li>The code fails at a location closer to the bug.</li>
<li>If you put assertions near the interfaces between modules, it makes it easier to assign blame.</li>
<li>It creates executable documentation about:
<ul>
<li>preconditions</li>
<li>invariants</li>
<li>postconditions</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="assertions-in-production-code">
<h4>Assertions In Production Code</h4>
<table border="1" cellspacing="0" class="docutils">
<caption>Production Compilers</caption>
<colgroup>
<col width="50%">
<col width="50%"></colgroup>
<thead valign="bottom">
<tr>
<th class="head">Compiler</th>
<th class="head">Assertion Count</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td>GCC</td>
<td>~9000</td>
</tr>
<tr>
<td>LLVM</td>
<td>~13000</td>
</tr>
</tbody>
</table>
Total lines of code for LLVM: ~1,400,000. Ratio for LLVM of Assertions to Code:<br>
1/110</div>
<div class="section" id="disabling-assertions">
<h4>Disabling Assertions</h4>
<div class="section" id="advantages">
<h5>Advantages</h5>
<ul class="simple">
<li>Runs faster</li>
<li>Doesn't abort execution on error</li>
</ul>
</div>
<div class="section" id="disadvantages">
<h5>Disadvantages</h5>
<ul class="simple">
<li>If the Assertion accidentally had side-effects, disabling it will change the behavior</li>
<li>Often better to fail early rather than operate incorrectly</li>
</ul>
</div>
<div class="section" id="conclusion">
<h5>Conclusion</h5>
<ul>
<li>
<div class="first">It depends on what you want:</div>
<blockquote>
<ul class="simple">
<li>fail early and alert user to problem</li>
<li>keep going and accept risk of incorrect output</li>
</ul>
</blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="when-to-use-assertions">
<h4>When To Use Assertions</h4>
<ul class="simple">
<li>If you're doing something as critical as the final stages of a rocket landing where aborting could destroy something, it's okay to turn them off.</li>
<li>Otherwise don't</li>
</ul>
From <em>Udacity's Software Testing</em> <a class="reference external" href="http://www.udacity.com/wiki/CS258%20Unit%201?course=cs258#why-assertions">Unit 1</a>.</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208a-tester-for-check-rep/">A Tester for the Check Rep</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208a-tester-for-check-rep/" rel="bookmark"><time class="published dt-published" datetime="2012-08-07T02:05:00-07:00" itemprop="datePublished" title="2012-08-07 02:05">2012-08-07 02:05</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="a-tester-for-the-check-rep">
<pre class="code python literal-block"><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">TestCase</span><br><span class="kn">import</span> <span class="nn">sys</span><br><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span><br><br><span class="kn">from</span> <span class="nn">nose.tools</span> <span class="kn">import</span> <span class="n">raises</span><br><br><span class="kn">from</span> <span class="nn">softwaretesting</span> <span class="kn">import</span> <span class="n">fixedsizequeue</span><br><br><br><span class="n">MAXINT</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxint</span><br><span class="n">MININT</span> <span class="o">=</span> <span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxint</span> <span class="o">-</span> <span class="mi">1</span><br><br><br><span class="k">class</span> <span class="nc">TestFixedCheckRep</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span><br><span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="n">MININT</span><span class="p">,</span> <span class="n">MAXINT</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)]</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="n">fixedsizequeue</span><span class="o">.</span><span class="n">FixedsizeQueue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">check_fail_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        Checks if the check_rep fails then resets the q<br>        """</span><br><span class="k">print</span><span class="p">(</span><span class="s">"Testing: {0}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="p">))</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">AssertionError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">check_representation</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="k">print</span><span class="p">(</span><span class="s">"Passed: {0}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="p">))</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_okay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The enqueue takes a single integer and returns True if added.<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">check_representation</span><span class="p">()</span><br><span class="k">return</span><br><br><span class="nd">@raises</span><span class="p">(</span><span class="ne">AssertionError</span><span class="p">)</span><br><span class="k">def</span> <span class="nf">test_enqueue_wraparound_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The tail should wrap around when it fills<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="mi">1</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">check_representation</span><span class="p">()</span><br><span class="k">return</span><br><br><span class="nd">@raises</span><span class="p">(</span><span class="ne">AssertionError</span><span class="p">)</span><br><span class="k">def</span> <span class="nf">test_dequeue_wraparound_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        After emptying the queue, the head should be 0<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><br><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="mi">1</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">check_representation</span><span class="p">()</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_negative_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The properties of the queue should never become negative.<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="n">value</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">check_representation</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">check_fail_reset</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">tail</span> <span class="o">=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">check_fail_reset</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">check_fail_reset</span><span class="p">()</span><br><br><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">check_fail_reset</span><span class="p">()</span><br><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">check_fail_reset</span><span class="p">()</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_negative_offset_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">check_representation</span><span class="p">()</span><br><span class="n">value</span>  <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">head</span> <span class="o">+=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span> <span class="o">-=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">check_fail_reset</span><span class="p">()</span><br><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">head</span> <span class="o">-=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span> <span class="o">+=</span> <span class="n">value</span><br><span class="bp">self</span><span class="o">.</span><span class="n">check_fail_reset</span><span class="p">()</span><br><span class="k">return</span><br><span class="c"># end class TestCheckRep</span><br></pre></div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208a-python-implementation-of-checkrep/">A Python Implementation Of the CheckRep</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208a-python-implementation-of-checkrep/" rel="bookmark"><time class="published dt-published" datetime="2012-08-07T02:00:00-07:00" itemprop="datePublished" title="2012-08-07 02:00">2012-08-07 02:00</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="a-python-implementation-of-the-checkrep">The method was implementated as:<br>
<pre class="literal-block">def check_representation(self):<br>    """<br>    Checks that the internal representation is correct.<br><br>    :raise: AssertionError if an error is found.<br>    """<br>    for attribute in (self.max, self.head, self.size):<br>        assert attribute &gt;= 0, "{0} shouldn't be negative. ({1})".format(attribute, str(self))<br>    assert ((self.head + self.size) % self.max == self.tail), str(self)<br>    return<br></pre>
<div class="section" id="notes">
<h4>Notes</h4>
<ul class="simple">
<li>This is for the fixed-size queue used in udacity's <em>Software Testing</em> class</li>
<li>Since the second assertion checks an equation where the tail can never be negative if all the left-hand terms are positive, the tail isn't checked to see if it's positive</li>
</ul>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208checkrep/">CheckRep</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208checkrep/" rel="bookmark"><time class="published dt-published" datetime="2012-08-06T19:40:00-07:00" itemprop="datePublished" title="2012-08-06 19:40">2012-08-06 19:40</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="checkrep">
<div class="section" id="what-is-checkrep">
<h4>What is <cite>checkRep</cite>?</h4>
<ul class="simple">
<li>The name is short for <cite>check representation</cite></li>
<li>It's a method that can be called to check if the current state of the data-structure is valid.</li>
</ul>
</div>
<div class="section" id="what-does-it-do">
<h4>What does it do?</h4>
<ul class="simple">
<li>It calls a series of assertions that validate the properties of the object to which it belongs.</li>
<li>The assertions test <cite>invariants</cite>.</li>
</ul>
</div>
<div class="section" id="what-are-invariants">
<h4>What are 'invariants'?</h4>
<ul class="simple">
<li><cite>Invariants</cite> are conditions that must always be true for the algorithm to be correct.</li>
</ul>
From <em>Udacity's Software Testing</em> course -- Unit 1.</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208the-bag-adt-dcawp_3/">The Bag ADT [DSAUP]</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208the-bag-adt-dcawp_3/" rel="bookmark"><time class="published dt-published" datetime="2012-08-04T01:01:00-07:00" itemprop="datePublished" title="2012-08-04 01:01">2012-08-04 01:01</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="the-bag-adt-dcawp">
<div class="section" id="what-is-a-bag">
<h4>What is a Bag?</h4>
A <em>bag</em>:<br>
<blockquote>
<ul class="simple">
<li>is a collection of things</li>
<li>allows duplicates</li>
<li>isn't ordered but the items should be comparable</li>
</ul>
</blockquote>
</div>
<div class="section" id="the-interface">
<h4>The Interface</h4>
<table border="1" cellspacing="0" class="docutils">
<caption>The Bag</caption>
<colgroup>
<col width="50%">
<col width="50%"></colgroup>
<thead valign="bottom">
<tr>
<th class="head">Method</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td><cite>Bag()</cite></td>
<td>Creates an empty bag</td>
</tr>
<tr>
<td><cite>length()</cite></td>
<td>Returns the number of items in the bag</td>
</tr>
<tr>
<td><cite>contains(item)</cite></td>
<td>Returns <em>True</em> if <em>item</em> is in the bag</td>
</tr>
<tr>
<td><cite>add(item)</cite></td>
<td>Adds <cite>item</cite> to the bag</td>
</tr>
<tr>
<td><cite>remove(item)</cite></td>
<td>Remove and return <cite>item</cite> from the bag or raise exception if it's not in the bag</td>
</tr>
<tr>
<td><cite>iterator()</cite></td>
<td>Create and return <em>iterator</em> to iterate over the bag</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208assertions-for-testable-code/">Assertions For Testable Code</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208assertions-for-testable-code/" rel="bookmark"><time class="published dt-published" datetime="2012-08-04T00:48:00-07:00" itemprop="datePublished" title="2012-08-04 00:48">2012-08-04 00:48</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="assertions-for-testable-code">
<div class="section" id="what-is-an-assertion">
<h4>What is an assertion?</h4>
An <em>assertion</em> is an executable check for a property that must be true of the code.</div>
<div class="section" id="rule-1">
<h4>Rule 1</h4>
<em>Assertions Aren't For Error Handling (that's what exceptions are for)</em><br>
<ul class="simple">
<li>Assert something about the result of your logic</li>
<li>Don't assert anything about the result of another entity's logic</li>
</ul>
</div>
<div class="section" id="rule-2">
<h4>Rule 2</h4>
<em>No Side Effects</em><br>
<ul class="simple">
<li>Assertions shouldn't change the state of any variables outside the scope of the assertion</li>
</ul>
</div>
<div class="section" id="rule-3">
<h4>Rule 3</h4>
<em>No Silly Assertions</em><br>
<ul class="simple">
<li>Check for errors in your own logic</li>
<li>Don't check if the user did something wrong (in the assertion)</li>
<li>Don't check that any other entity is working correctly</li>
</ul>
From Udacity's <em>Software Testing</em> course notes.</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208creating-testable-software/">Creating Testable Software</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208creating-testable-software/" rel="bookmark"><time class="published dt-published" datetime="2012-08-03T21:51:00-07:00" itemprop="datePublished" title="2012-08-03 21:51">2012-08-03 21:51</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="creating-testable-software">
<ol class="arabic simple">
<li><em>Create Clean Code</em> -- code for which you can:
<ul>
<li>describe exactly what it does</li>
<li>describe exactly how it interacts with other entities</li>
</ul>
</li>
<li><em>Minimize Threads</em></li>
<li><em>Minimize Global Variables</em> -- these create implicit inputs to any software in the same module.</li>
<li>Reduce references and pointers.</li>
<li><em>Maximize Assertions</em></li>
</ol>
From Udacity's <em>Testing Software</em> course.</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/201208testing-fixed-size-queue/">Testing the Fixed-Size Queue</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/201208testing-fixed-size-queue/" rel="bookmark"><time class="published dt-published" datetime="2012-08-03T02:04:00-07:00" itemprop="datePublished" title="2012-08-03 02:04">2012-08-03 02:04</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="document" id="testing-the-fixed-size-queue">
<pre class="code python literal-block"><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">TestCase</span><br><span class="kn">import</span> <span class="nn">sys</span><br><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span><br><br><span class="kn">from</span> <span class="nn">nose.tools</span> <span class="kn">import</span> <span class="n">raises</span><br><br><span class="kn">from</span> <span class="nn">softwaretesting</span> <span class="kn">import</span> <span class="n">fixedsizequeue</span><br><br><br><span class="n">MAXINT</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxint</span><br><span class="n">MININT</span> <span class="o">=</span> <span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxint</span> <span class="o">-</span> <span class="mi">1</span><br><br><br><span class="k">class</span> <span class="nc">TestFixedSizeQueue</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span><br><span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">10</span><br><span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="n">MININT</span><span class="p">,</span> <span class="n">MAXINT</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)]</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="n">fixedsizequeue</span><span class="o">.</span><span class="n">FixedsizeQueue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_enqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The enqueue takes a single integer and returns True if added.<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">full</span><span class="p">())</span><br><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">):</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">item</span><span class="p">))</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">])</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">((</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">tail</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">())</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">full</span><span class="p">())</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_dequeue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The dequeue returns the oldest item or None.<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">())</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><br><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><br><br><span class="k">for</span> <span class="n">expected</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span><br><span class="n">actual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">())</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">head</span><span class="p">)</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The reset resets the pointers and count<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">())</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">tail</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">head</span><span class="p">)</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        If the queue is empty dequeue returns False and does nothing.<br>        """</span><br><span class="n">q</span> <span class="o">=</span> <span class="n">fixedsizequeue</span><span class="o">.</span><span class="n">FixedsizeQueue</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">())</span><br><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">randint</span><span class="p">(</span><span class="n">MININT</span><span class="p">,</span> <span class="n">MAXINT</span><span class="p">))</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">())</span><br><span class="n">q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">()</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">())</span><br><span class="k">return</span><br><br><span class="k">def</span> <span class="nf">test_overfull</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The array doesn't add items once full<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span><br><br><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">tail</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">full</span><span class="p">())</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">max</span><span class="p">)</span><br><br><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">dequeue</span><span class="p">())</span><br><span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">empty</span><span class="p">())</span><br><br><span class="k">return</span><br><br><span class="nd">@raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">)</span><br><span class="k">def</span> <span class="nf">test_non_int</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><br><span class="sd">"""<br>        The array has to be homogeneous.<br>        """</span><br><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><br><span class="k">return</span><br><span class="c"># end class TestFixedSizeQueue</span><br></pre></div>
</div>
</article>
</div>
<ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-3.html" rel="prev">Newer posts</a></li>
<li class="next"><a href="index-1.html" rel="next">Older posts</a></li>
</ul>
<!--End of body content-->
<footer id="footer">Contents Â© 2023 <a href="mailto:cloisteredmonkey.jmark@slmail.me">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
</div>
</div>
<script src="assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script>
</body>
</html>
