<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>The Cloistered Monkey</title><link>https://necromuralist.github.io/</link><description>A common place.</description><atom:link href="https://necromuralist.github.io/rss.xml" type="application/rss+xml" rel="self"></atom:link><language>en</language><lastBuildDate>Sat, 07 Jan 2017 23:18:43 GMT</lastBuildDate><generator>https://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Org-Babel PDF Export</title><link>https://necromuralist.github.io/posts/org-babel-pdf-export/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;p&gt;
These are my notes on exporting a PDF from an &lt;i&gt;org-babel&lt;/i&gt; file.
&lt;/p&gt;

&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;First Try&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;p&gt;
The key sequence to export a PDF from an &lt;i&gt;org&lt;/i&gt; file is &lt;code&gt;C-c C-e l p&lt;/code&gt; (&lt;i&gt;e&lt;/i&gt; as in &lt;i&gt;export&lt;/i&gt;, &lt;i&gt;l&lt;/i&gt; as in &lt;i&gt;LaTex&lt;/i&gt;, and &lt;i&gt;p&lt;/i&gt; as in &lt;i&gt;PDF&lt;/i&gt;). My first try produced this error:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;! LaTeX Error: File &lt;span class="sb"&gt;`&lt;/span&gt;ulem.sty&lt;span class="sb"&gt;`&lt;/span&gt; not found.
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Past experience told me that I was likely missing a (debian) package.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-cache search ulem
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
texlive-generic-recommended - TeX Live: Generic recommended packages
libextutils-modulemaker-perl - Perl extension to build module from scratch
&lt;/pre&gt;

&lt;p&gt;
Since I'm doing something with &lt;i&gt;LaTex&lt;/i&gt;, not &lt;i&gt;perl&lt;/i&gt; I decided that installing the &lt;i&gt;texlive-generic-recommended&lt;/i&gt; package was probably what I should do.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt-fast install texlive-generic-recommended
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;Second try&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;p&gt;
I hit &lt;code&gt;C-c C-e l p&lt;/code&gt; again and this time it did output a PDF, but there was no syntax-highlighting of the code. Followng &lt;a href="https://joat-programmer.blogspot.com/2013/07/org-mode-version-8-and-pdf-export-with.html"&gt;this blog post&lt;/a&gt; I added this to my &lt;code&gt;init.el&lt;/code&gt; file:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;;; export to latex/pdf&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;'ox-latex&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;;; syntax-highlighting for pdf's&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-latex-packages-alist&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;""&lt;/span&gt; &lt;span class="s"&gt;"minted"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-latex-listings&lt;/span&gt; &lt;span class="ss"&gt;'minted&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-latex-pdf-process&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Once I re-loaded the &lt;code&gt;init.el&lt;/code&gt; file, the PDF's came out with the syntax highlighting working.
&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;
The original post used &lt;code&gt;xelatex&lt;/code&gt; instead of &lt;code&gt;pdflatex&lt;/code&gt; but I don't use &lt;code&gt;xelatex&lt;/code&gt;. Also &lt;code&gt;minted&lt;/code&gt; can be found in the &lt;code&gt;texlive-latex-extras&lt;/code&gt; package if it isn't already installed. The post also mentions needing &lt;code&gt;pygments&lt;/code&gt; but I didn't need it, possibly because it's a dependency for other python libraries that I've already installed.
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>orgBabel howTo</category><guid>https://necromuralist.github.io/posts/org-babel-pdf-export/</guid><pubDate>Sat, 07 Jan 2017 20:29:47 GMT</pubDate></item><item><title>Changing the Nikola Bootswatch Theme</title><link>https://necromuralist.github.io/posts/changing-the-nikola-bootswatch-theme/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;p&gt;
I had my theme for this site set to use &lt;a href="http://nickmccurdy.com/bootswatch/spacelab/"&gt;Spacelab&lt;/a&gt;, which I liked, but the gradients were starting to annoy me so I decided to switch to &lt;a href="http://nickmccurdy.com/bootswatch/journal/"&gt;Journal&lt;/a&gt;, which matches my aesthetic tastes a little better. This took more work than I thought it would (mostly because I don't mess with the &lt;i&gt;nikola&lt;/i&gt; configuration very often). So these are my notes for the next time.
&lt;/p&gt;

&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;Overview&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;ol class="org-ol"&gt;
&lt;li&gt;Install the &lt;a href="https://themes.getnikola.com/#bootstrap3"&gt;bootswatch 3&lt;/a&gt; nikola theme (if you haven't already) (&lt;code&gt;nikola install_theme bootstrap3&lt;/code&gt;).
&lt;/li&gt;
&lt;li&gt;Install the &lt;a href="https://bootswatch.com/journal/"&gt;journal&lt;/a&gt; bootwatch theme (&lt;code&gt;nikola bootswatch_theme -s journal&lt;/code&gt;).
&lt;/li&gt;
&lt;li&gt;Get the base template (&lt;code&gt;nikola theme -c base.tmpl&lt;/code&gt;).
&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;base.tmpl&lt;/code&gt;, change &lt;code&gt;navbar-inverse&lt;/code&gt; to &lt;code&gt;navbar-default&lt;/code&gt;.
&lt;/li&gt;
&lt;li&gt;Change the anchor color in &lt;code&gt;bootstrap.css&lt;/code&gt; to something less creamsicle (and do whatever other CSS adjustments you need to do).
&lt;/li&gt;
&lt;li&gt;Build the posts (&lt;code&gt;nikola build&lt;/code&gt;).
&lt;/li&gt;
&lt;li&gt;Admire the fruits of your (well, other people's) labor.
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;Installing the theme&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;/div&gt;&lt;div id="outline-container-sec-2-1" class="outline-3"&gt;
&lt;h3 id="sec-2-1"&gt;The Bootswatch 3 Theme&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-2-1"&gt;
&lt;p&gt;
I already had the bootswatch 3 theme installed, since I was using &lt;i&gt;Spacelab&lt;/i&gt;, but if you don't have it installed this is how to set the base theme:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nikola install_theme bootstrap3
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2-2" class="outline-3"&gt;
&lt;h3 id="sec-2-2"&gt;The Journal Theme&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-2-2"&gt;
&lt;p&gt;
Since I want to change the theme to &lt;i&gt;Journal&lt;/i&gt; this is the next step (you can also specify a parent theme, but the default is &lt;code&gt;bootstrap3&lt;/code&gt;, which is what I wanted:
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nikola bootswatch_theme -s journal
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This will set up the default bootstrap theme, but you need to re-build the HTML to have it show up on the development-server's web-page (something that I didn't realize initially, causing me to think something was broken).
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nikola build
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;Updating the Template&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;p&gt;
On re-loading the page I found that it mostly worked, but for some reason it looked more orange than I expected. It turns out that the &lt;i&gt;nikola&lt;/i&gt; developer decided that &lt;code&gt;navbar-inverse&lt;/code&gt; should be the default style for the navbar (instead of &lt;code&gt;navbar-default&lt;/code&gt;) and the section headers are hyperlinks, which in the &lt;i&gt;Journal&lt;/i&gt; theme are orange (by orange I really mean something closer to a creamsicle). Following the instructions in this &lt;a href="https://github.com/getnikola/nikola/issues/2552"&gt;bug report&lt;/a&gt; (which says that it isn't a bug, it's a feature) I copied the base template from the &lt;i&gt;nikola&lt;/i&gt; installation (in &lt;code&gt;site-packages&lt;/code&gt;) into the site using a built-in &lt;i&gt;nikola&lt;/i&gt; command.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nikola theme -c base.tmpl
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This command creates a file (&lt;code&gt;themes/custom/templates/base.tmpl&lt;/code&gt;) which you can edit to override the built-in base template. I opened it up and changed the &lt;code&gt;navbar-inverse&lt;/code&gt; CSS class to &lt;code&gt;navbar-default&lt;/code&gt;, re-built the &lt;i&gt;nikola&lt;/i&gt; posts, and reloaded the page and there it was, the white navbar I wanted.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-4" class="outline-2"&gt;
&lt;h2 id="sec-4"&gt;Updating the CSS&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-4"&gt;
&lt;/div&gt;&lt;div id="outline-container-sec-4-1" class="outline-3"&gt;
&lt;h3 id="sec-4-1"&gt;Fixing the Headline Color&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-4-1"&gt;
&lt;p&gt;
"Fixing" the headlines was more straight-forward. When you install the &lt;i&gt;journal&lt;/i&gt; theme it creates a file at &lt;code&gt;themes/custom/assets/css/bootstrap.css&lt;/code&gt; (along with a mini-fied version) which you can edit. I decided to leave the anchor-hover value the same but changed the plain anchor color to &lt;code&gt;#990033&lt;/code&gt; so that it's more of a blood red than a creamsicle. 
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-4-2" class="outline-3"&gt;
&lt;h3 id="sec-4-2"&gt;Changing the Font&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-4-2"&gt;
&lt;p&gt;
Since I was editing the CSS anyway I made some other changes. First, I changed the text-font to &lt;i&gt;Goudy Bookletter&lt;/i&gt;. It's a little old-fashioned looking, but I've always liked Goudy's fonts. To do this I first added a link to the font:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;@import&lt;/span&gt; &lt;span class="nt"&gt;url&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"https://fonts.googleapis.com/css?family=Goudy+Bookletter+1911:400,700"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Then I updated the &lt;i&gt;font-family&lt;/i&gt;.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;font-family&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"Goudy Bookletter 1911"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"EB Garamond"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;Georgia&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Times New Roman"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Times&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;serif&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nb"&gt;font-size&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;3em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nb"&gt;line-height&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;42857143&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nb"&gt;color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;#777777&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nb"&gt;background-color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;#ffffff&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-4-3" class="outline-3"&gt;
&lt;h3 id="sec-4-3"&gt;Fixing the headline&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-4-3"&gt;
&lt;p&gt;
For some reason the the title of the site has a CSS rule (&lt;code&gt;.navbar-brand #blog-title&lt;/code&gt;) that sets the top padding to 15 px even though the other elements have a padding of 19.5 px so I overrode it to make it align with the other elementes.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nc"&gt;.navbar-header&lt;/span&gt; &lt;span class="nc"&gt;.navbar-brand&lt;/span&gt; &lt;span class="nn"&gt;#blog-title&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;padding-top&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;19.5px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-5" class="outline-2"&gt;
&lt;h2 id="sec-5"&gt;Summary&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-5"&gt;
&lt;p&gt;
Changing the bootswatch theme isn't as hard as it seemed, in retrospect. You just have to know the basic commands (&lt;code&gt;nikola install_theme bootstrap3&lt;/code&gt;, &lt;code&gt;nikola bootswatch_theme -s journal&lt;/code&gt;), know that the inverse navbar is the default (and how to change it - &lt;code&gt;nikola theme -c base.tmpl&lt;/code&gt;), know how to update the CSS to whatever you want (by editing &lt;code&gt;bootstrap.css&lt;/code&gt;), and understand that you have to build the site to see the changes on the development server (&lt;code&gt;nikola build&lt;/code&gt;).
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>HowTo Nikola</category><guid>https://necromuralist.github.io/posts/changing-the-nikola-bootswatch-theme/</guid><pubDate>Fri, 30 Dec 2016 23:03:38 GMT</pubDate></item><item><title>Org-Babel Cheat Sheet</title><link>https://necromuralist.github.io/posts/org-babel-cheat-sheet/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;Keyboard Shortcuts&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;/div&gt;&lt;div id="outline-container-sec-1-1" class="outline-3"&gt;
&lt;h3 id="sec-1-1"&gt;Code Block Shortcuts&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-1-1"&gt;
&lt;table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"&gt;


&lt;colgroup&gt;
&lt;col class="left"&gt;

&lt;col class="left"&gt;

&lt;col class="left"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th scope="col" class="left"&gt;Keys&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Command&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Effect&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left"&gt;&lt;code&gt;C-c C-c&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;org-babel-execute-src-block&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Execute the code in the current block.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;&lt;code&gt;C-c&lt;/code&gt; '&lt;/td&gt;
&lt;td class="left"&gt; &lt;/td&gt;
&lt;td class="left"&gt;Open/close edit-buffer with mode set to match the code-block language.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;&lt;code&gt;C-c C-v C-z&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;org-babel-switch-to-session&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Open a python/ipython console (only works with &lt;code&gt;:session&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-1-2" class="outline-3"&gt;
&lt;h3 id="sec-1-2"&gt;Buffer-wide Shortcuts&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-1-2"&gt;
&lt;table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"&gt;


&lt;colgroup&gt;
&lt;col class="left"&gt;

&lt;col class="left"&gt;

&lt;col class="left"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th scope="col" class="left"&gt;Keys&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Command&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Effect&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left"&gt;&lt;code&gt;&amp;lt;s&lt;/code&gt; Tab&lt;/td&gt;
&lt;td class="left"&gt; &lt;/td&gt;
&lt;td class="left"&gt;Create a code block.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;&lt;code&gt;C-c C-v C-b&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;org-babel-execute-buffer&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Execute all code blocks in buffer.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;&lt;code&gt;C-c C-v C-f&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;org-babel-tangle-file&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Tangle all blocks marked to &lt;code&gt;:tangle&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;&lt;code&gt;C-c C-v C-t&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;org-babel-tangle&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Seems like an alias for tangle file…&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;Code Block Headers&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;p&gt;
This is the subset of headers/header values that I'm interested in right now.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-2-1" class="outline-3"&gt;
&lt;h3 id="sec-2-1"&gt;Code to tangle&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-2-1"&gt;
&lt;p&gt;
The pattern I use to tangle (create an external code file) is:
&lt;/p&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;code&gt;python&lt;/code&gt; as the language (since I'm not using it with an interactive session, no need for ipython)
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:noweb tangle&lt;/code&gt; is turned on from &lt;code&gt;init.el&lt;/code&gt; so that I can substitute code defined elsewhere into the block
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:tangle &amp;lt;path to file&amp;gt;&lt;/code&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+begin_src python :tangle literate_python/literate.py
  """A docstring for the literate.py module"""

  # imports
  import sys
  &amp;lt;&amp;lt;literate-main-imports&amp;gt;&amp;gt;

  # constants

  # exception classes

  # interface functions

  # classes


  &amp;lt;&amp;lt;LiterateClass-definition&amp;gt;&amp;gt;

  # internal functions &amp;amp; classes

  &amp;lt;&amp;lt;literate-main&amp;gt;&amp;gt;


  if __name__ == "__main__":
      status = main()
      sys.exit(status)
#+end_src
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Since I have &lt;code&gt;:noweb tangle&lt;/code&gt; set, the substitions (e.g. &lt;code&gt;&amp;lt;&amp;lt;literate-main-imports&amp;gt;&amp;gt;&lt;/code&gt;) don't get expanded in HTML/Latex output (although they do when you create the python file). 
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;"""A docstring for the literate.py module"""&lt;/span&gt;

&lt;span class="c1"&gt;# imports&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;literate&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;imports&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
If you want to show the substitutions when exporting use &lt;code&gt;:noweb yes&lt;/code&gt; in the header.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;"""A docstring for the literate.py module"""&lt;/span&gt;

&lt;span class="c1"&gt;# imports&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;argparse&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ArgumentParser&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2-2" class="outline-3"&gt;
&lt;h3 id="sec-2-2"&gt;A named section&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-2-2"&gt;
&lt;p&gt;
The &lt;code&gt;noweb&lt;/code&gt; substitution above (&lt;code&gt;&amp;lt;&amp;lt;literate-main-imports&amp;gt;&amp;gt;&lt;/code&gt;) worked because there was a named-section (defined here) that it could use:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+name: literate-main-imports
#+begin_src python
  from argparse import ArgumentParser
#+end_src
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2-3" class="outline-3"&gt;
&lt;h3 id="sec-2-3"&gt;Results&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-2-3"&gt;
&lt;p&gt;
The &lt;code&gt;:results&lt;/code&gt; header argument declares how to handle what's returned from executing a code block. There are three classes of arguments and you can use up to one of each in the header.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-2-3-1" class="outline-4"&gt;
&lt;h4 id="sec-2-3-1"&gt;Result Classes&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-2-3-1"&gt;
&lt;table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"&gt;


&lt;colgroup&gt;
&lt;col class="left"&gt;

&lt;col class="left"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th scope="col" class="left"&gt;Class&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left"&gt;collection&lt;/td&gt;
&lt;td class="left"&gt;How the results should be collected if there's multiple outputs.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;type&lt;/td&gt;
&lt;td class="left"&gt;Declare what type of result the code block will return.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;handling&lt;/td&gt;
&lt;td class="left"&gt;How should results be handled.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2-3-2" class="outline-4"&gt;
&lt;h4 id="sec-2-3-2"&gt;Collection Class&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-2-3-2"&gt;
&lt;table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"&gt;


&lt;colgroup&gt;
&lt;col class="left"&gt;

&lt;col class="left"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th scope="col" class="left"&gt;Option&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left"&gt;value&lt;/td&gt;
&lt;td class="left"&gt;(Default) Uses the value of the last statement in the block (python requires a return statement)&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;output&lt;/td&gt;
&lt;td class="left"&gt;(&lt;code&gt;:results output&lt;/code&gt;) Collects everything sent to stdout in the block.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-2-3-3" class="outline-4"&gt;
&lt;h4 id="sec-2-3-3"&gt;Type Class&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-2-3-3"&gt;
&lt;table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"&gt;


&lt;colgroup&gt;
&lt;col class="left"&gt;

&lt;col class="left"&gt;

&lt;col class="left"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th scope="col" class="left"&gt;Option&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Example&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left"&gt;table&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value table&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Return an org-mode table (vector)&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;scalar&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value scalar&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Return exactly the value returned (string)&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;file&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value file&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Return an org-mode link to a file&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;raw&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value raw&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Return as org-mode command&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;html&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value html&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Expect contents for &lt;code&gt;#+begin_html&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;latex&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value latex&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Expect contents for &lt;code&gt;#+begin_latex&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;code&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value code&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Expect contents for &lt;code&gt;#+begin_src&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;pp&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results value pp&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Expect code and pretty-print it&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-2-3-4" class="outline-4"&gt;
&lt;h4 id="sec-2-3-4"&gt;Handling Class&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-2-3-4"&gt;
&lt;table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"&gt;


&lt;colgroup&gt;
&lt;col class="left"&gt;

&lt;col class="left"&gt;

&lt;col class="left"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th scope="col" class="left"&gt;Option&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Example&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left"&gt;silent&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results output silent&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Don't output in org-mode buffer&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;replace&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results output replace&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;(Default) Overwrite any previous result&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;append&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results output append&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Append output after any previous output&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;prepend&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:results output prepend&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Put output above any previous output&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2-4" class="outline-3"&gt;
&lt;h3 id="sec-2-4"&gt;Exports&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-2-4"&gt;
&lt;p&gt;
This argument tells org-babel what to put in any exported HTML or Latex files.
&lt;/p&gt;
&lt;table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"&gt;


&lt;colgroup&gt;
&lt;col class="left"&gt;

&lt;col class="left"&gt;

&lt;col class="left"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th scope="col" class="left"&gt;Option&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Example&lt;/th&gt;
&lt;th scope="col" class="left"&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left"&gt;code&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:exports code&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;(default) The code in the block will be included in the export.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;results&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:exports results&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;The result of evaluating the code will be included.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;both&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:exports both&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Include &lt;code&gt;code&lt;/code&gt; and &lt;code&gt;results&lt;/code&gt; in the file.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td class="left"&gt;none&lt;/td&gt;
&lt;td class="left"&gt;&lt;code&gt;:exports none&lt;/code&gt;&lt;/td&gt;
&lt;td class="left"&gt;Don't include anything in the file.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;Running Tests&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;p&gt;
Say there was another section in the document that tangled a test-file (named &lt;code&gt;testliterate.py&lt;/code&gt;) to test our main source file. Once both are tangled you can run it in the document using &lt;code&gt;sh&lt;/code&gt; as the language. The org-mode documentation shows a more complex version of this which builds a pass-fail table, but that's beyond me right now.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+name: shell-run-pytest
#+begin_src sh :results output :exports both
py.test -v literate_python/testliterate.py
#+end_src
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
============================= test session starts ==============================
platform linux -- Python 3.5.1+, pytest-3.0.5, py-1.4.32, pluggy-0.4.0 -- /home/cronos/.virtualenvs/nikola/bin/python3
cachedir: .cache
rootdir: /home/cronos/projects/nikola/posts, inifile: 
plugins: faker-2.0.0, bdd-2.18.1
collecting ... collected 1 items

literate_python/testliterate.py::test_constructor PASSED

=========================== 1 passed in 0.06 seconds ===========================
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-4" class="outline-2"&gt;
&lt;h2 id="sec-4"&gt;Specific Block Cases&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-4"&gt;
&lt;/div&gt;&lt;div id="outline-container-sec-4-1" class="outline-3"&gt;
&lt;h3 id="sec-4-1"&gt;Plant UML&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-4-1"&gt;
&lt;p&gt;
Besides setting the language to &lt;code&gt;plantuml&lt;/code&gt; you need to specify and output-file path and set &lt;code&gt;:exports results&lt;/code&gt; so that the actual plantuml code won't be in the exported document but the diagram will.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+begin_src plantuml :file literate_python/literateclass.png :exports results
skinparam monochrome true

LiterateClass : String who
LiterateClass : String ()
#+end_src
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-4-2" class="outline-3"&gt;
&lt;h3 id="sec-4-2"&gt;ob-ipython&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-4-2"&gt;
&lt;p&gt;
The main thing to remember for ob-ipython is that you need to run it as a &lt;code&gt;:session&lt;/code&gt;. I didn't do it for most of the examples, but I've found since I first wrote this that using named sessions makes it a lot easier to work. Otherwise you might have more than one buffer with an org-babel document and they will be sharing the same &lt;i&gt;ipython&lt;/i&gt; process, which can cause mysterious errors.
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+begin_src ipython :session session1
  # python standard library
  import os
#+end_src
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
When using &lt;code&gt;pandas&lt;/code&gt; most of the methods produce values, but the &lt;code&gt;info&lt;/code&gt; method instead prints to &lt;code&gt;stdout&lt;/code&gt; so you have to specify this as the &lt;code&gt;:results&lt;/code&gt; or it will popup a separate buffer with the output.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+begin_src ipython :session session1 :results output
housing.info()
#+end_src
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
When you create figures, besides making sure that you use the &lt;code&gt;%matplotlib inline&lt;/code&gt; magic, you also need to specify a file path where &lt;i&gt;matplotlib&lt;/i&gt; can save the image.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+BEGIN_SRC ipython :session session1 :file "images/ocean_proximity_count.png"
figure = seaborn.countplot(x="ocean_proximity", data=housing)
#+end_src
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5" class="outline-2"&gt;
&lt;h2 id="sec-5"&gt;Set Up&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-5"&gt;
&lt;/div&gt;&lt;div id="outline-container-sec-5-1" class="outline-3"&gt;
&lt;h3 id="sec-5-1"&gt;Dependencies&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-5-1"&gt;
&lt;p&gt;
I'm using &lt;a href="https://github.com/gregsexton/ob-ipython"&gt;ob-ipython&lt;/a&gt; to use jupyter/ipython with org-babel so you have to install it (I used MELPA). In addition you need to install the python dependencies, the main ones being &lt;i&gt;ipython&lt;/i&gt; and &lt;i&gt;jupyter&lt;/i&gt;. Additionally, I use &lt;a href="https://github.com/jorgenschaefer/elpy"&gt;elpy&lt;/a&gt; (also from MELPA) which has its own dependencies. I think the easiest way to check and see what &lt;i&gt;elpy&lt;/i&gt; dependencies you need is to install &lt;i&gt;elpy&lt;/i&gt; (there's two components, an emacs one you install from &lt;i&gt;melpa&lt;/i&gt; and a python component you install from &lt;i&gt;pip&lt;/i&gt;) then run &lt;code&gt;M-x elpy-config&lt;/code&gt; to see what's missing.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-5-2" class="outline-3"&gt;
&lt;h3 id="sec-5-2"&gt;init.el&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-5-2"&gt;
&lt;p&gt;
Since I mentioned &lt;i&gt;ob-ipython&lt;/i&gt; and &lt;i&gt;elpy&lt;/i&gt; I'll list what I have in my &lt;i&gt;init.el&lt;/i&gt; file for &lt;i&gt;elpy&lt;/i&gt; and &lt;i&gt;org-babel&lt;/i&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-5-2-1" class="outline-4"&gt;
&lt;h4 id="sec-5-2-1"&gt;Elpy&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-5-2-1"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;;; elpy&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;elpy-enable&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;elpy-rpc-backend&lt;/span&gt; &lt;span class="s"&gt;"jedi"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;eval-after-load&lt;/span&gt; &lt;span class="s"&gt;"python"&lt;/span&gt;
 &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;define-key&lt;/span&gt; &lt;span class="nv"&gt;python-mode-map&lt;/span&gt; &lt;span class="s"&gt;"\C-cx"&lt;/span&gt; &lt;span class="ss"&gt;'jedi-direx:pop-to-buffer&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;elpy-use-ipython&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5-2-2" class="outline-4"&gt;
&lt;h4 id="sec-5-2-2"&gt;org-babel&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-5-2-2"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;;; org-babel&lt;/span&gt;
&lt;span class="c1"&gt;;;; syntax-highlighting/editing&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-src-lang-modes&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"rst"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"rst"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-src-lang-modes&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"feature"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"feature"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;;;; languages to execute/edit&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;org-babel-do-load-languages&lt;/span&gt;
 &lt;span class="ss"&gt;'org-babel-load-languages&lt;/span&gt;
 &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nf"&gt;ipython&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;plantuml&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;shell&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;org&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
   &lt;span class="c1"&gt;;; other languages..&lt;/span&gt;
   &lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;;;; noweb expansion only when you tangle&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-babel-default-header-args&lt;/span&gt;
      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;cons &lt;/span&gt;&lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;:noweb&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"tangle"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
	    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;assq-delete-all&lt;/span&gt; &lt;span class="nv"&gt;:noweb&lt;/span&gt; &lt;span class="nv"&gt;org-babel-default-header-args&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
      &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;;;; Plant UML diagrams&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-plantuml-jar-path&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;expand-file-name&lt;/span&gt; &lt;span class="s"&gt;"/usr/share/plantuml/plantuml.jar"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;;;; execute block evaluation without confirmation&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-confirm-babel-evaluate&lt;/span&gt; &lt;span class="nv"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   

&lt;span class="c1"&gt;;;; display/update images in the buffer after evaluation&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;add-hook&lt;/span&gt; &lt;span class="ss"&gt;'org-babel-after-execute-hook&lt;/span&gt; &lt;span class="ss"&gt;'org-display-inline-images&lt;/span&gt; &lt;span class="ss"&gt;'append&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-6" class="outline-2"&gt;
&lt;h2 id="sec-6"&gt;Integrating with Nikola/Sphinx&lt;/h2&gt;
&lt;/div&gt;</description><category>orgBabel cheatSheet</category><guid>https://necromuralist.github.io/posts/org-babel-cheat-sheet/</guid><pubDate>Thu, 29 Dec 2016 20:30:23 GMT</pubDate></item><item><title>Python with Org-Babel</title><link>https://necromuralist.github.io/posts/python-with-org-babel/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;What is this about?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;p&gt;
This is an initial look at how to use org-babel to create a literate-programming document. In the past I have used jupyter notebooks and pweave to do similar things, with each having a separate role - jupyter notebooks are good for interactive exploration but somewhat less amenable to working with sphinx (which I did with pweave). The hope here is that the org-babel system will provide something more amenable to both. Since you still have to convert the org-files to restructured text files (with pandoc or ox-nikola) it's still not everything I wanted, but hopefully this will make things a little easier
&lt;/p&gt;

&lt;p&gt;
Most of this is stolen from &lt;a href="http://home.fnal.gov/~neilsen/notebook/orgExamples/org-examples.html"&gt;this page&lt;/a&gt; - I'm fairly new to org-babel in general so I'm just walking in other people's footsteps for now.
&lt;/p&gt;

&lt;p&gt;
Also, the inclusion of the org-babel code turned out to be both tedious and aesthetically unsatisfying so I didn't do it as much as I thought I would. The original org-file is &lt;a href="https://raw.githubusercontent.com/necromuralist/necromuralist.github.io/master/posts/python-with-org-babel/index.org"&gt;here&lt;/a&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;High-Level Module Structure&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;p&gt;
One nice thing about the org-babel/noweb system is that it has a system that makes it easy to create a template (in this case based on the the module structure from &lt;a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#module-structure"&gt;Code Like A Pythonista&lt;/a&gt;) with parts that we're updating inserted using the noweb syntax. To actually see this I had to include the python code as an org-mode snippet so the syntax highlighting isn't there. 
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+begin_src python :noweb yes :tangle literate_python/literate.py
  """A docstring for the literate.py module"""

  # imports
  import sys
  &amp;lt;&amp;lt;literate-main-imports&amp;gt;&amp;gt;

  # constants

  # exception classes

  # interface funchtions

  # classes


  &amp;lt;&amp;lt;LiterateClass-definition&amp;gt;&amp;gt;

  # internal functions &amp;amp; classes

  &amp;lt;&amp;lt;literate-main&amp;gt;&amp;gt;


  if __name__ == "__main__":
      status = main()
      sys.exit(status)
#+end_src
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This is what the final file looks like once the no-web substitutions happen.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;"""A docstring for the literate.py module"""&lt;/span&gt;

&lt;span class="c1"&gt;# imports&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;argparse&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ArgumentParser&lt;/span&gt;

&lt;span class="c1"&gt;# constants&lt;/span&gt;

&lt;span class="c1"&gt;# exception classes&lt;/span&gt;

&lt;span class="c1"&gt;# interface funchtions&lt;/span&gt;

&lt;span class="c1"&gt;# classes&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""A class to be substituted above&lt;/span&gt;

&lt;span class="sd"&gt;    Parameters&lt;/span&gt;
&lt;span class="sd"&gt;    ----------&lt;/span&gt;

&lt;span class="sd"&gt;    String who: name of user&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;who&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
	&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;who&lt;/span&gt;
	&lt;span class="k"&gt;return&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
	&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Who: {0}"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# internal functions &amp;amp; classes&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;parser&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ArgumentParser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"literate caller"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;parser&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"-w"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"--who"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
			&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"me"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"who are you?"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parser&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse_args&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;who&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt;
    &lt;span class="n"&gt;thing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
To create the `literate.py` file (and all the other code-files) you see above execute &lt;code&gt;M-x org-babel-tangle&lt;/code&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;LiterateClass&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;p&gt;
This is the class definition that get substituted above. The code block for the definition is named &lt;code&gt;LiterateClass-definition&lt;/code&gt; so the main template will substitute its contents for &lt;code&gt;&amp;lt;&amp;lt;LiterateClass-definition&amp;gt;&amp;gt;&lt;/code&gt; when it gets tangled.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/python-with-org-babel/literate_python/literateclass.png" alt="literateclass.png"&gt;
&lt;/p&gt;
&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""A class to be substituted above&lt;/span&gt;

&lt;span class="sd"&gt;    Parameters&lt;/span&gt;
&lt;span class="sd"&gt;    ----------&lt;/span&gt;

&lt;span class="sd"&gt;    String who: name of user&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;who&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
	&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;who&lt;/span&gt;
	&lt;span class="k"&gt;return&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
	&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Who: {0}"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-4" class="outline-2"&gt;
&lt;h2 id="sec-4"&gt;Main functions&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-4"&gt;
&lt;p&gt;
The &lt;b&gt;Code Like a Pythonista&lt;/b&gt; template expects that you are creating a command-line executable with a &lt;b&gt;main&lt;/b&gt; entry-point. This section implements that case as an example.
&lt;/p&gt;

&lt;p&gt;
First the &lt;code&gt;&amp;lt;&amp;lt;literate-main-imports&amp;gt;&amp;gt;&lt;/code&gt;.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;argparse&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ArgumentParser&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Now the &lt;code&gt;&amp;lt;&amp;lt;literate-main&amp;gt;&amp;gt;&lt;/code&gt;.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;parser&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ArgumentParser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"literate caller"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;parser&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"-w"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"--who"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
			&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"me"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;help&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"who are you?"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parser&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse_args&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;who&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt;
    &lt;span class="n"&gt;thing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
As a quick check we can run the code at the command line to see that it's working (the main block has to be tangled for this to work).
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python literate_python/literate.py --who &lt;span class="s2"&gt;"Not Me"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
Who: Not Me
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5" class="outline-2"&gt;
&lt;h2 id="sec-5"&gt;Testing&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-5"&gt;
&lt;p&gt;
One nice thing about the org-babel infrastructure is that the tests and source can be put in the same org-file, then exported to separate files to be run.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-5-1" class="outline-3"&gt;
&lt;h3 id="sec-5-1"&gt;Doctest&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-5-1"&gt;
&lt;p&gt;
For the stdout output, doctesting can be a convenient way to check that things are behaving as expected while also providing an explicit example of how to run the command-line interface.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-5-1-1" class="outline-4"&gt;
&lt;h4 id="sec-5-1-1"&gt;Setting up the cases&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-5-1-1"&gt;
&lt;p&gt;
The output of a successful doctest is nothing, which is good for automated tests but less interesting here so I'll make a doctest that passes and one that should fail.
&lt;/p&gt;

&lt;p&gt;
This next section (named &lt;code&gt;literate-doctest&lt;/code&gt;) creates a code snippet that will pass. 
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;literate_python.literate&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Gorgeous George"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="n"&gt;Who&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Gorgeous&lt;/span&gt; &lt;span class="n"&gt;George&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
And now here's a test (named &lt;code&gt;literate-bad-doctest&lt;/code&gt;) that will fail.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bad&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bad_thing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Gorilla Glue"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bad_thing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="n"&gt;Who&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Magilla&lt;/span&gt; &lt;span class="n"&gt;Gorilla&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This next section will include the two doctests and export them to a file so they can be tested. Note that you need an empty line between the tests for both of them to run. Warning - since this file is going to be exported, if you are using &lt;code&gt;nikola&lt;/code&gt; or some other system that assumes all files with a certain file-extension are blog-posts you have to use an extension that won't get picked up (in my case both &lt;code&gt;rst&lt;/code&gt; and &lt;code&gt;txt&lt;/code&gt; were interpreted as blog-posts).
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#+begin_src text :noweb yes :tangle literate_python/test_literate_output.doctest :exports none
&amp;lt;&amp;lt;literate-doctest&amp;gt;&amp;gt;

&amp;lt;&amp;lt;literate-bad-doctest&amp;gt;&amp;gt;
#+end_src
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Which gets tangled into this. Note that the doctests aren't valid python so you can tangle this but not execute it.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;literate_python.literate&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Gorgeous George"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="n"&gt;Who&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Gorgeous&lt;/span&gt; &lt;span class="n"&gt;George&lt;/span&gt;

&lt;span class="n"&gt;bad&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bad_thing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Gorilla Glue"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bad_thing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="n"&gt;Who&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Magilla&lt;/span&gt; &lt;span class="n"&gt;Gorilla&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5-1-2" class="outline-4"&gt;
&lt;h4 id="sec-5-1-2"&gt;Running the doctests&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-5-1-2"&gt;
&lt;p&gt;
Now we can actually run them with python to see what happens.
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python -m doctest literate_python/test_literate_output.doctest
&lt;span class="nb"&gt;true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
**********************************************************************
File "literate_python/test_literate_output.doctest", line 9, in test_literate_output.doctest
Failed example:
    bad_thing()
Expected:
    Who: Magilla Gorilla
Got:
    Who: Gorilla Glue
**********************************************************************
1 items had failures:
   1 of   5 in test_literate_output.doctest
***Test Failed*** 1 failures.
&lt;/pre&gt;

&lt;p&gt;
Note that since this returned a non-zero exit code (I think) you need to put &lt;code&gt;true&lt;/code&gt; in the code block or there would be no output.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5-2" class="outline-3"&gt;
&lt;h3 id="sec-5-2"&gt;PyTest BDD&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-5-2"&gt;
&lt;p&gt;
While doctests are neat I prefer unit-testing, in particular using Behavior Driven Development (BDD) facilitated in this case by &lt;code&gt;py.test&lt;/code&gt; and &lt;code&gt;pytest_bdd&lt;/code&gt;.
&lt;/p&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5-2-1" class="outline-4"&gt;
&lt;h4 id="sec-5-2-1"&gt;The feature file&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-5-2-1"&gt;
&lt;p&gt;
Identifying the code-block with &lt;code&gt;#+begin_src feature&lt;/code&gt; adds some syntax highlighting (if you have feature-mode installed and set-up). This works both when you are in the external editor and in the main org-babel document as well.
&lt;/p&gt;

&lt;p&gt;
To make sure that org-babel recognizes feature mode add this to the &lt;code&gt;init.el&lt;/code&gt; file.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-src-lang-modes&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"feature"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"feature"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This is what is going in the feature file.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Feature: Literate Class
Scenario: Creating a literate object
  Given a name
  When a Literate object is created with the name
  Then the literate object has the name
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5-2-2" class="outline-4"&gt;
&lt;h4 id="sec-5-2-2"&gt;The test file&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-5-2-2"&gt;
&lt;p&gt;
This is another file that gets tangled out. In this case it is so that we can run &lt;code&gt;py.test&lt;/code&gt; on it.
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;expects&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;expect&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;expects&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;equal&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytest&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;fixture&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytest_bdd&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;given&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytest_bdd&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;scenario&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytest_bdd&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;then&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pytest_bdd&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt;

&lt;span class="c1"&gt;# this code&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;literate&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;

&lt;span class="n"&gt;FEATURE_FILE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"literate.feature"&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Context&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""context object"""&lt;/span&gt;


&lt;span class="nd"&gt;@fixture&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;context&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Context&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="nd"&gt;@scenario&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FEATURE_FILE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Creating a literate object"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_constructor&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt;


&lt;span class="nd"&gt;@given&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"a name"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;faker&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;faker&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="nd"&gt;@when&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'a Literate object is created with the name'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;create_object&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;object&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;LiterateClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="nd"&gt;@then&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"the literate object has the name"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;check_object_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;object&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;who&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5-2-3" class="outline-4"&gt;
&lt;h4 id="sec-5-2-3"&gt;Running the test&lt;/h4&gt;
&lt;div class="outline-text-4" id="text-5-2-3"&gt;
&lt;p&gt;
One important thing to note is that this will put an error message in a separate buffer if something goes wrong (like you don't have py.test installed), which in at least some cases makes it look like it failed silently. Unlike with the doctests, no output means something in the setup needs to be fixed, so you should tangle the file and then run it at the command-line to debug what happened.
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;py.test -v literate_python/testliterate.py
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
============================= test session starts ==============================
platform linux -- Python 3.5.1+, pytest-3.0.5, py-1.4.32, pluggy-0.4.0 -- /home/cronos/.virtualenvs/nikola/bin/python3
cachedir: .cache
rootdir: /home/cronos/projects/nikola/posts, inifile: 
plugins: faker-2.0.0, bdd-2.18.1
collecting ... collected 1 items

literate_python/testliterate.py::test_constructor PASSED

=========================== 1 passed in 0.04 seconds ===========================
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-sec-6" class="outline-2"&gt;
&lt;h2 id="sec-6"&gt;Getting This Into Nikola&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-6"&gt;
&lt;p&gt;
I tried three ways to get this document into nikola:
&lt;/p&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;converting to rst with pandoc
&lt;/li&gt;
&lt;li&gt;exporting it with &lt;a href="https://github.com/masayuko/ox-nikola"&gt;ox-nikola&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;using the &lt;a href="https://plugins.getnikola.com/#orgmode"&gt;orgmode&lt;/a&gt; plugin for nikola
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
&lt;b&gt;ox-nikola&lt;/b&gt; worked (as did pandoc), but at the moment I'm trying to use the &lt;b&gt;orgmode&lt;/b&gt; plugin so that I can keep editing this document without having to convert back and forth. This is turning out to be about the same amount of work as using jupyter (and with a steeper learning curve). But I like the folding and navigation that org-mode offers, so I'll stick with it for a bit. I'm just using the default set-up right now. It seems to work. 
&lt;/p&gt;

&lt;p&gt;
The main problem I had initially was the same one I had with jupyter - I'm starting with a file that wasn't generated by the &lt;code&gt;nikola new_post&lt;/code&gt; sub-command so it didn't have the header that &lt;b&gt;nikola&lt;/b&gt; expected but the only error &lt;code&gt;nikola build&lt;/code&gt; reported was an invalid date format. 
&lt;/p&gt;

&lt;p&gt;
This is what needs to be at the top of the org-file for nikola to work with it (or something like it).
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; #+BEGIN_COMMENT
.. title: Python with Org-Babel
.. slug: python-with-org-babel
.. date: 2016-12-28 14:12:41 UTC-08:00
.. tags: howto python babel literateprogramming
.. category: how_to
.. link: 
.. description: 
.. type: text
#+END_COMMENT
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
The other thing is that the org-mode plugin doesn't seem to copy over the png-files correctly (or at all) so I had to create a &lt;code&gt;files/posts/python-with-org-babel/literate_python&lt;/code&gt; folder and move the UML diagram over there by hand. Lastly, it didn't color the feature file and since there's no intermediate rst-file I don't really know how to fix this. Either I'm going to have to learn a lot more about org-mode than I might want to, or for cases where I want more control over things I'll use &lt;b&gt;ox-nikola&lt;/b&gt; to convert it to rst first and edit it. That kind of wrecks the one-document idea, but I guess it would also give me a reason to re-work and polish things instead of improvising everything.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>howto python babel literateprogramming</category><guid>https://necromuralist.github.io/posts/python-with-org-babel/</guid><pubDate>Wed, 28 Dec 2016 22:12:41 GMT</pubDate></item><item><title>SVC C-value and Accuracy</title><link>https://necromuralist.github.io/posts/svc-c-value-and-accuracy/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="SVC-Cross-Validtion-Scores-vs-C-value"&gt;SVC Cross Validtion Scores vs C-value&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#SVC-Cross-Validtion-Scores-vs-C-value"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The goal here is to visualize the effect of the &lt;code&gt;C&lt;/code&gt; parameter (the amount of regularization penalty to use) on a &lt;code&gt;Support Vector Classifier&lt;/code&gt; when classifying samples from the digits dataset. I'm going to use 10-fold cross validation and the &lt;code&gt;cross_val_score&lt;/code&gt; function to get the scores then plot them with matplotlib.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [245]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plot&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datasets&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;svm&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;cross_val_score&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;KFold&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [246]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;matplotlib&lt;/span&gt; inline
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="The-data"&gt;The data&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#The-data"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [247]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;digits&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datasets&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load_digits&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [248]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DESCR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Optical Recognition of Handwritten Digits Data Set
===================================================

Notes
-----
Data Set Characteristics:
    :Number of Instances: 5620
    :Number of Attributes: 64
    :Attribute Information: 8x8 image of integer pixels in the range 0..16.
    :Missing Attribute Values: None
    :Creator: E. Alpaydin (alpaydin '@' boun.edu.tr)
    :Date: July; 1998

This is a copy of the test set of the UCI ML hand-written digits datasets
http://archive.ics.uci.edu/ml/datasets/Optical+Recognition+of+Handwritten+Digits

The data set contains images of hand-written digits: 10 classes where
each class refers to a digit.

Preprocessing programs made available by NIST were used to extract
normalized bitmaps of handwritten digits from a preprinted form. From a
total of 43 people, 30 contributed to the training set and different 13
to the test set. 32x32 bitmaps are divided into nonoverlapping blocks of
4x4 and the number of on pixels are counted in each block. This generates
an input matrix of 8x8 where each element is an integer in the range
0..16. This reduces dimensionality and gives invariance to small
distortions.

For info on NIST preprocessing routines, see M. D. Garris, J. L. Blue, G.
T. Candela, D. L. Dimmick, J. Geist, P. J. Grother, S. A. Janet, and C.
L. Wilson, NIST Form-Based Handprint Recognition System, NISTIR 5469,
1994.

References
----------
  - C. Kaynak (1995) Methods of Combining Multiple Classifiers and Their
    Applications to Handwritten Digit Recognition, MSc Thesis, Institute of
    Graduate Studies in Science and Engineering, Bogazici University.
  - E. Alpaydin, C. Kaynak (1998) Cascading Classifiers, Kybernetika.
  - Ken Tang and Ponnuthurai N. Suganthan and Xi Yao and A. Kai Qin.
    Linear dimensionalityreduction using relevance weighted LDA. School of
    Electrical and Electronic Engineering Nanyang Technological University.
    2005.
  - Claudio Gentile. A New Approximate Maximal Margin Classification
    Algorithm. NIPS. 2000.

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Set-up-10-Folds-Cross-Validation"&gt;Set up 10 Folds Cross Validation&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#Set-up-10-Folds-Cross-Validation"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [249]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;k_folds&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;KFold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_splits&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Set-up-the-logarithmic-C-values"&gt;Set up the logarithmic C-values&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#Set-up-the-logarithmic-C-values"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [250]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;logspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Set-up-the-linear-Support-Vector-Classifier"&gt;Set up the linear Support Vector Classifier&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#Set-up-the-linear-Support-Vector-Classifier"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [251]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;svm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SVC&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kernel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'linear'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Get-cross-validation-scroes-for-each-C-value"&gt;Get cross-validation scroes for each C-value&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#Get-cross-validation-scroes-for-each-C-value"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [252]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;scores&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cross_val_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;c_value&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                          &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k_folds&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;n_jobs&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c_value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Plot-the-mean-scores-and-standard-deviations."&gt;Plot the mean-scores and standard deviations.&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#Plot-the-mean-scores-and-standard-deviations."&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [253]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;means&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;score&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scores&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;deviations&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;score&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scores&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [254]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;seaborn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_style&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"whitegrid"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;figure&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;axe&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gca&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;deviations&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'--'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;deviations&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'--'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Accuracy vs C"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Accuracy"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"C Value"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xscale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'log'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiIAAAF3CAYAAACYHyDzAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz%0AAAAPYQAAD2EBqD+naQAAIABJREFUeJzs3Xl8lOW9///XzGTPZA8JISQkhISwBQQqtmq1WBWpitbl%0AiK1WqxRbl9raHs6v1XqsrT2t20E9PdVjLe5+KSjuVgVb27pbBRQwCWQjCQGSTLaZTJKZ+/fHJAMh%0AC0lIcudO3s/Hw0eGe33PtJDPXNd1X5fNMAwDERERERPYzQ4gIiIiE5cKERERETGNChERERExjQoR%0AERERMY0KERERETGNChERERExjQoRERERMY0KERERETGNChERERExjQoRkXHigQceID8/n5tuusns%0AKBOGz+fjmWeeYeXKlSxevJgFCxZw5pln8qtf/YrKykqz44lYgk1TvIuMD6eddhoxMTGUlJTwj3/8%0Ag5iYGLMjjWttbW2sXr2aHTt28IMf/ICTTjqJ0NBQPvvsM/7nf/6HgwcP8vDDDzNv3jyzo4qMaWoR%0AERkH/vGPf1BVVcUdd9wBwAsvvGByovFv7dq1fPzxxzz66KN85zvfIScnh8zMTJYvX84zzzxDXFwc%0Av/vd78yOKTLmqRARGQc2bNjAggULmD17NqeffjobN27s9bjnnnuOc845h/nz53P66adz33334fP5%0AgvtLSkq45pprWLRoESeccALXXnstZWVlwf35+fncc8893a55//33k5+fT1tbGwCXXXYZ1157LWvX%0ArmXhwoU8+eSTwWtff/31LFmyhHnz5nHGGWfwhz/8YcAZ33rrLfLz8/noo4+6Hd/W1sbixYu5++67%0Ae1zr3XffJT8/n3fffbfXc7oKtzfeeIMLL7yQRYsWsWjRIlauXNnjnMN5vV6efvppzj//fPLz83vs%0Aj4mJ4fHHH2fdunV9XkNEAlSIiFicy+Vi8+bNXHTRRQBccMEF7Ny5k127dnU77qWXXuLmm2/m4osv%0A5qWXXuI//uM/WLduHffeey8ADQ0NXH755QA8+eSTPProozQ2NvLd734Xr9fb5/1tNhs2m63btqKi%0AIsrLy3nuuedYsWIFAKtXr2b//v08+uijvP7669x444088MADwULlaBlPPfVUpkyZ0qPIevvtt2lp%0AaQm+/8OdcMIJpKSk8Oqrr/Z6znnnnUdpaSk/+tGPWLZsGc8//zwbNmxgzpw5fO9736OmpqbX97x9%0A+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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [255]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;best_index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmax&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;best_c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;means&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmax&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;
&lt;span class="n"&gt;best_mean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;best_index&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;best_std&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;deviations&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;best_index&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Best C-value: &lt;/span&gt;&lt;span class="si"&gt;{0:.5f}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;best_c&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Best C-value: 0.07743
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [256]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"95% Confidence Interval for Accuracy: (&lt;/span&gt;&lt;span class="si"&gt;{0:.2f}&lt;/span&gt;&lt;span class="s2"&gt; +/- &lt;/span&gt;&lt;span class="si"&gt;{1:.2f}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;best_mean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                                           &lt;span class="n"&gt;best_std&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;95% Confidence Interval for Accuracy: (0.96 +/- 0.02)
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [257]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;svm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SVC&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kernel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"linear"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;scores&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cross_val_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k_folds&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_jobs&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;mean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scores&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;std&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scores&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"95% Confidence Interval for accuracy of default C-value: (&lt;/span&gt;&lt;span class="si"&gt;{0:.2f}&lt;/span&gt;&lt;span class="s2"&gt; +/- &lt;/span&gt;&lt;span class="si"&gt;{1:.2f}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;95% Confidence Interval for accuracy of default C-value: (0.96 +/- 0.02)
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [258]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;best_mean&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;mean&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[258]:&lt;/div&gt;


&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0.0&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [259]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[259]:&lt;/div&gt;


&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;1.0&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;It looks like the default does well as the best model that I found by changing the C-values, even though it is set to 1.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="looking-at-it-without-the-log-plotting"&gt;looking at it without the log-plotting&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/svc-c-value-and-accuracy/#looking-at-it-without-the-log-plotting"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [273]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [275]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;scores&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cross_val_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;c_value&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                          &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k_folds&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;n_jobs&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c_value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [276]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;means&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;score&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scores&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;deviations&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;numpy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;score&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scores&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [278]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;seaborn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_style&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"whitegrid"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;figure&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;axe&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gca&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;deviations&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'--'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c_values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;means&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;deviations&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'--'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Accuracy vs C"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;label&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Accuracy"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;labels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;axe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"C Value"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAigAAAF0CAYAAAAJqcKUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz%0AAAAPYQAAD2EBqD+naQAAIABJREFUeJzt3X1YVHX+//HXCEIIomiJqCDGaqBIippWVoLaooXKmq64%0AWZqrlK1tNxa7lO6arW2brouV37QyskwzvEHbajOl2vqau2UhBYqCIAlhKjdx4yAyvz/8OV8RUAZh%0A5gDPx3V1aed85pz3581czotzzpxjslgsFgEAABhIO0cXAAAAcDECCgAAMBwCCgAAMBwCCgAAMBwC%0ACgAAMBwCCgAAMBwCCgAAMBwCCgAAMBwCCgAAMBwCCtBGvPjiiwoMDNRjjz3m6FLajLNnz2rjxo2K%0Ajo7W0KFDNWjQIP3yl7/UM888o2PHjjm6PMDQTNzqHmgbRo8erY4dO+rIkSP6/PPP1bFjR0eX1KpV%0AVlYqJiZGaWlpmjdvnkaOHKn27dvru+++00svvaQTJ07o1Vdf1cCBAx1dKmBIHEEB2oDPP/9ceXl5%0AWrp0qSRp+/btDq6o9YuPj9fXX3+tN954Q/fee68CAgLk5+en8ePHa+PGjerUqZP+9re/ObpMwLAI%0AKEAbkJiYqEGDBql///4aO3asNm/eXOe4rVu3KjIyUtdff73Gjh2rlStX6uzZs9b1R44c0f33368h%0AQ4ZoxIgRevDBB5WTk2NdHxgYqL///e81tvnCCy8oMDBQlZWVkqQZM2bowQcfVHx8vEJDQ7V+/Xrr%0AtufPn6/hw4dr4MCBuv322/Xyyy83uMbk5GQFBgbqq6++qjG+srJSQ4cO1fLly2tta8+ePQoMDNSe%0APXvqfM35QLdz507dddddGjJkiIYMGaLo6Ohar7mQ2WzWhg0bFBUVpcDAwFrrO3bsqDfffFMJCQn1%0AbgNo6wgoQCtXVFSkXbt2acqUKZKkyZMnKz09XQcOHKgx7r333tNTTz2lqVOn6r333tMf/vAHJSQk%0AaMWKFZKk4uJi3XPPPZKk9evX64033lBJSYnuu+8+mc3mevdvMplkMplqLDt06JCOHj2qrVu3auLE%0AiZKkmJgYHT9+XG+88YY++ugjPfzww3rxxRetAeZyNY4aNUo9evSoFb4+++wzlZWVWed/oREjRqhb%0At2764IMP6nzNpEmTlJ2drUceeUQRERFKSkpSYmKiBgwYoLlz56qgoKDOOaempqq8vFy33XZbvX3x%0A9vaWk5NTveuBto6AArRy27Ztk4uLi8aPHy9JuvHGG9WrV69aH+SrV69WeHi4ZsyYIV9fX40ePVqx%0AsbHWIyibN29WYWGh/vrXvyowMFDXXXedFi9erNDQUJsv+MzPz9fixYvVu3dveXh4SJLWrl2r//mf%0A/1FgYKB8fHw0fvx4DRgwQP/+978bVKPJZNJdd92lf/3rX6qoqLC+5v3339fQoUPl5+dXqw6TyaTx%0A48fr448/1oWX433wwQe69tpr1b9/f6Wnp+vs2bP61a9+pV69eqlPnz568skn9dZbb8nT07PO+R0/%0Aflwmk0k9e/a0qS8A/g8BBWjlNm/erHHjxumqq66yLouKitKOHTt05swZSedOSRw6dKjWBZu//vWv%0AFRsbK+ncUQFfX1917tzZuv7aa6/V888/r2uvvdammnx9fa3B5LySkhItWbJEo0eP1pAhQzR48GCl%0ApqaqqKiowTVOmTJFlZWV+vDDDyVJp0+fVnJysqZOnVpvLZGRkSosLNTevXut+0lOTrYe2QkNDZWX%0Al5d+85vfKCEhQQcPHpTJZNL1118vNze3S86T7yAAjUdAAVqxlJQUHTp0SJs3b1ZgYKD1vxdeeEHF%0AxcXatWuXpHPhQJLc3d3r3VZJSckl19vi4iMPP/74o+6++27l5OToT3/6kxITE7V9+3YFBwfX2P/l%0AarzmmmsUHh6uLVu2SJJ27dolFxcX/fKXv6z3NQMGDJC/v7811CQnJ+v06dOKjIyUdO5UTGJiom66%0A6Sa98cYbmjhxosLDw5WYmFjvNnv06CGLxVLj+hwAtiGgAK3Ypk2b1KdPH23btq3Gf1u3btWwYcOs%0Ap3m8vLzUrl07awioS9euXS+5/ryLjxqUlZVd9jUff/yxKioqtGLFCt16663q06ePfH19a+yvITVK%0A546ofP311/rxxx/1wQcfKDIyUi4uLpd8zZ133qmdO3fKYrFYTwn5+PhY1/fo0UMLFy5UcnKy/vnP%0Af+qWW27RU089ZT3qcrH+/fvL09NTH330Ub37TE1N1RdffHHJuoC2jIACtFIVFRX64IMPdOedd+q6%0A666rcQQlMDBQEydO1P/+7/+qoKBAzs7O6tOnj/773//W2Mbbb7+tmJgYSVK/fv30ww8/1Lgw9Icf%0AftD06dO1b98+SeeOjJw6darGNr799tvL1nr+VJOXl5d12TfffKPs7Gxr4GlIjZJ08803y9fXVxs2%0A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%0AEIdh7YSe2x89tz96bn8nT55UdnZ2k/Xcoad4AAAA6kJAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNA%0AAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAA%0AhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNA%0AAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAA%0AhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNA%0AAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhkNAAQAAhuPs6AKOHTump59+%0AWt9++63c3d01fvx4LViwoNa4qqoqvfTSS9qxY4dOnjyp66+/XkuWLJGvr68kKTw8XMePH5eTk5Ms%0AFotMJpNuvvlmrVq1yt5TAgAAV8jhAWX+/PkaOHCgdu/erZMnT2rOnDm6+uqrNXPmzBrjVq9eraSk%0AJL388svy9/fXyy+/rHnz5mnHjh3WMQkJCRo6dKidZwAAAJqaQ0/xpKamKiMjQ48//rjc3d3l5+en%0AWbNmadOmTbXGJicna+rUqerXr59cXFw0f/58FRYWKiUlxTrGYrHYs3wAANBMHBpQ0tLS1LNnT3l4%0AeFiX9e/fX0eOHFFZWVmt8SaTqcbfPTw8lJ6ebl22bt06jR07VqGhoXrooYd06tSp5p0AAABoFg49%0AxVNUVCRPT88ayzp37mxd5+7ubl0+atQovfPOOwoLC5O/v78SExNVUFCg4uJiSdKAAQM0cOBA/e1v%0Af1NJSYmeeOIJ/f73v9ebb75pc11ms1nl5eVXMDM0VEVFRY0/0fzouf3Rc/uj5/ZnNpubdHsOvwbl%0AYudP01x4tESS5s6dq5KSEs2ePVsWi0WTJ0/WsGHD5OTkJEl64YUXrGPd3Ny0aNEi3XHHHcrNzbVe%0ASNtQ+fn5ys/Pv8KZwBbZ2dmOLqHNoef2R8/tj563XA4NKF26dFFhYWGNZcXFxTKZTPLy8qqx3MXF%0ARXFxcYqLi7Mui4yMlLe3d53b7tWrlyTp+PHjNgcUHx8f65EcNK+KigplZ2fL399fbm5uji6nTaDn%0A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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;So apparently the reason for the log-scale is that the greatest changes occur at nearly 0, after that there's little to no improvement in increasing the penalty.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><guid>https://necromuralist.github.io/posts/svc-c-value-and-accuracy/</guid><pubDate>Sun, 02 Oct 2016 23:26:17 GMT</pubDate></item><item><title>Changing Emacs Font Colors</title><link>https://necromuralist.github.io/posts/changing-emacs-font-colors/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div&gt;&lt;p&gt;I prefer a white background with dark text when I work, which generally works well-enough but some modes in Emacs create foreground-background colors that make it hard to impossible to read. The simplest way that I know of to change a font's colors is with the &lt;cite&gt;customize-face&lt;/cite&gt; command.&lt;/p&gt;
&lt;div class="section" id="example-changing-this-headline"&gt;
&lt;h2&gt;Example: Changing This Headline&lt;/h2&gt;
&lt;p&gt;The original color for this headline in &lt;cite&gt;rst-mode&lt;/cite&gt; was magenta (not by default, I had changed things a couple of times).&lt;/p&gt;
&lt;img alt="magenta_headline.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/magenta_headline.png"&gt;
&lt;p&gt;To change it I moved my cursor onto the headline and entered &lt;cite&gt;M-x customize-face&lt;/cite&gt;.&lt;/p&gt;
&lt;img alt="enter_customize_face.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/enter_customize_face.png"&gt;
&lt;p&gt;This brings up a prompt so you can enter the particular &lt;cite&gt;face&lt;/cite&gt; you want to change. I didn't know the name that I wanted to change but since my cursor was already over the headline, it used that as the default so I could just hit enter to select it.&lt;/p&gt;
&lt;img alt="customize_face_prompt.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/customize_face_prompt.png"&gt;
&lt;p&gt;As you can see the headline-face in this case is &lt;cite&gt;rst-level-1&lt;/cite&gt;.&lt;/p&gt;
&lt;p&gt;After I hit &lt;cite&gt;enter&lt;/cite&gt; it took me to a dialog page to let me change the settings for this face.&lt;/p&gt;
&lt;img alt="customization_dialog.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/customization_dialog.png"&gt;
&lt;p&gt;In this case I just wanted to change the background color so I clicked on the bottom &lt;cite&gt;Choose&lt;/cite&gt; button. You can enter values directly if you have something in mind, but I didn't so this seemed like the easier way to do it, since it brings up a color picker which lets you see what the colors look like.&lt;/p&gt;
&lt;img alt="color_selector.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/color_selector.png"&gt;
&lt;p&gt;I decided to go with &lt;em&gt;deep sky blue&lt;/em&gt; so I moved my cursor over that row in the color picker and hit &lt;tt class="docutils literal"&gt;enter&lt;/tt&gt;. This closes the color-picker and updates the color in the customization dialog.&lt;/p&gt;
&lt;img alt="updated_color.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/updated_color.png"&gt;
&lt;p&gt;This changes the dialog but doesn't actually change the settings. To do that you have to move you cursor to &lt;cite&gt;Apply and Save&lt;/cite&gt; and hit &lt;tt class="docutils literal"&gt;enter&lt;/tt&gt;. This updates the &lt;cite&gt;sample&lt;/cite&gt; color so you can see what it now looks like.&lt;/p&gt;
&lt;img alt="applied_change.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/applied_change.png"&gt;
&lt;p&gt;When I then switched back to my original editing buffer, the headline now had a blue background.&lt;/p&gt;
&lt;img alt="blue_headline.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/blue_headline.png"&gt;
&lt;p&gt;Which doesn't look as nice as I thought it would so I changed again. Same steps, different colors.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="describe-face"&gt;
&lt;h2&gt;Describe Face&lt;/h2&gt;
&lt;p&gt;Another useful command is &lt;cite&gt;M-x describe-face&lt;/cite&gt; which shows you the settings for a face. This is what it showed after I made another change to my headline color.&lt;/p&gt;
&lt;img alt="describe_face.png" src="https://necromuralist.github.io/posts/changing-emacs-font-colors/describe_face.png"&gt;
&lt;p&gt;If you click on &lt;cite&gt;customize this face&lt;/cite&gt; up at the top-right of the window it takes you to the same dialog that the &lt;cite&gt;M-x customize-face&lt;/cite&gt; command takes you to.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>howto emacs</category><guid>https://necromuralist.github.io/posts/changing-emacs-font-colors/</guid><pubDate>Sun, 25 Sep 2016 21:16:40 GMT</pubDate></item><item><title>Monitoring Events With Chromium</title><link>https://necromuralist.github.io/posts/monitoring-events-with-chromium/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div&gt;&lt;p&gt;If you have a chromium-based browser you can find out what events are affecting a particular item on you web-page using the &lt;a class="reference external" href="https://developers.google.com/web/tools/chrome-devtools/debug/command-line/events?hl=en"&gt;monitorEvents&lt;/a&gt; function.&lt;/p&gt;
&lt;div class="section" id="monitoring-events"&gt;
&lt;h2&gt;Monitoring Events&lt;/h2&gt;
&lt;div class="section" id="inspect-the-element"&gt;
&lt;h3&gt;Inspect The Element&lt;/h3&gt;
&lt;p&gt;First right-click on the element that you are interested in and pick "Inspect element" from the context-menu.&lt;/p&gt;
&lt;img alt="inspect_element.png" src="https://necromuralist.github.io/posts/monitoring-events-with-chromium/inspect_element.png"&gt;
&lt;/div&gt;
&lt;div class="section" id="enter-the-event-type"&gt;
&lt;h3&gt;Enter the Event Type&lt;/h3&gt;
&lt;p&gt;There are multiple event types to chooske from (&lt;em&gt;mouse&lt;/em&gt;, &lt;em&gt;key&lt;/em&gt;, &lt;em&gt;touch&lt;/em&gt;, and &lt;em&gt;control&lt;/em&gt;). In this example I'll monitor mouse events. In the javascript console enter:&lt;/p&gt;
&lt;pre class="code javascript"&gt;&lt;a name="rest_code_6485ed7ac9294679bea727af5adaadae-1"&gt;&lt;/a&gt;&lt;span class="nx"&gt;monitorEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"mouse"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;&lt;tt class="docutils literal"&gt;$0&lt;/tt&gt; is a variable that refers to the element you are inspecting and &lt;tt class="docutils literal"&gt;"mouse"&lt;/tt&gt; tells it to listen for mouse events&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Now, as you do things with your mouse on the element, the console output will show you the the events as they happen.&lt;/p&gt;
&lt;img alt="mouse_events.png" src="https://necromuralist.github.io/posts/monitoring-events-with-chromium/mouse_events.png"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="listing-event-listeners"&gt;
&lt;h2&gt;Listing Event Listeners&lt;/h2&gt;
&lt;p&gt;To see the event-listeners associated with the element enter the following at the console.&lt;/p&gt;
&lt;pre class="code javascript"&gt;&lt;a name="rest_code_f429da0698924f5c94827efc3c7a1086-1"&gt;&lt;/a&gt;&lt;span class="nx"&gt;getEventListeners&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;img alt="get_event_listeners.png" src="https://necromuralist.github.io/posts/monitoring-events-with-chromium/get_event_listeners.png"&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;The &lt;tt class="docutils literal"&gt;getEventListeners&lt;/tt&gt; function doesn't work until you've run the &lt;tt class="docutils literal"&gt;monitorEvents&lt;/tt&gt; function.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="picking-elements-at-the-console"&gt;
&lt;h2&gt;Picking Elements At The Console&lt;/h2&gt;
&lt;p&gt;You don't have to use "Inspect this element" and &lt;tt class="docutils literal"&gt;$0&lt;/tt&gt;, you can grab an element at the console with javascript instead.&lt;/p&gt;
&lt;pre class="code javascript"&gt;&lt;a name="rest_code_5b8e511a12494f40a1c439a20af50828-1"&gt;&lt;/a&gt;&lt;span class="nx"&gt;monitorEvents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getElementById&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"changing-what-you-monitor"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s2"&gt;"mouse"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Will monitor mouse-events for the headline to this sub-section.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>web developer</category><guid>https://necromuralist.github.io/posts/monitoring-events-with-chromium/</guid><pubDate>Fri, 23 Sep 2016 23:57:37 GMT</pubDate></item><item><title>Baysian Spam Detector</title><link>https://necromuralist.github.io/posts/baysian-spam-detector/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Spam-detection-with-Bayesian-Networks"&gt;Spam detection with Bayesian Networks&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#Spam-detection-with-Bayesian-Networks"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;These are my notes for the Bayesian Networks section of the udacity course on artifical intelligence.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# python standard library&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;fractions&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [23]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# it turns out 'reduce' is no longer a built-in function in python 3&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version_info&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;major&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;functools&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;reduce&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'offer is secret, click secret link, secret sports link'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;','&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;3
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [25]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'play sports today, went play sports, secret sports event, sports is today, sports costs money'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;','&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;5
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The terms have to be changed to be either all plural or all singular. In this case I changed 'sport' to 'sports' where needed.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="The-SpamDetector-classes"&gt;The SpamDetector classes&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#The-SpamDetector-classes"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;I originally implemented everything as functions, but decided it was too scattered and created these after the fact, which is why there's all the duplication below. I left the old code to validate these classes.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="The-MailBag"&gt;The MailBag&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#The-MailBag"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;This class holds either spam or ham. It actually holds both but the idea is one of them is the real type of interest.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MailBag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    A place to put spam or ham&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other_mail&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `mail`: list of example mail&lt;/span&gt;
&lt;span class="sd"&gt;         - `other_mail`: mail not in this class (e.g. spam if this is ham)&lt;/span&gt;
&lt;span class="sd"&gt;         - `k`: Laplace smoothing constant&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mail&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;other_mail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;other_mail&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;
        
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_bag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_probability&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_vocabulary_size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_sample_size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;

    &lt;span class="nd"&gt;@property&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;vocabulary_size&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :return: count of unique words in all examples&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_vocabulary_size&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_vocabulary_size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bag_boy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;other_mail&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_vocabulary_size&lt;/span&gt;

    &lt;span class="nd"&gt;@property&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :return: list of words in `mail`&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_bag&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_bag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bag_boy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_bag&lt;/span&gt;

    &lt;span class="nd"&gt;@property&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;sample_size&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :return: count of mail in both spam and not spam&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_sample_size&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_sample_size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;other_mail&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_sample_size&lt;/span&gt;
    
    &lt;span class="nd"&gt;@property&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :return: count of this mail/total sample size&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_probability&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;SPAM_AND_HAM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_probability&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                                   &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;other_mail&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                                   &lt;span class="n"&gt;SPAM_AND_HAM&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_probability&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;bag_boy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `lines`: list of lines&lt;/span&gt;

&lt;span class="sd"&gt;        :return: list of words taken from the lines&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="n"&gt;tokenized&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;bag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tokens&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tokenized&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tokens&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event_size&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_size&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `event_size`: count of events of interest&lt;/span&gt;
&lt;span class="sd"&gt;         - `sample_size`: count of all events&lt;/span&gt;
&lt;span class="sd"&gt;         - `classes`: count of all classes of events&lt;/span&gt;

&lt;span class="sd"&gt;        :return: probability with Laplace Smoothing&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;        
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;event_size&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                        &lt;span class="n"&gt;sample_size&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;classes&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;p_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `message`: line of mail&lt;/span&gt;

&lt;span class="sd"&gt;        :return: p(message|this class)&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="n"&gt;probabilities&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;probabilities&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;probability&lt;/span&gt;
        
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `word`: string to check for&lt;/span&gt;
&lt;span class="sd"&gt;        :return: fraction of word occurence in bag&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vocabulary_size&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `word`: string to check for&lt;/span&gt;
&lt;span class="sd"&gt;        :return: number of times word appears in bag&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="SpamDetector"&gt;SpamDetector&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#SpamDetector"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SpamDetector&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    A bayesian network spam detector&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `spam`: list of example spam lines&lt;/span&gt;
&lt;span class="sd"&gt;         - `ham`: list of example ham_lines&lt;/span&gt;
&lt;span class="sd"&gt;         - `k`: laplace smoothing constant&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MailBag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other_mail&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MailBag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other_mail&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;        :param:&lt;/span&gt;
&lt;span class="sd"&gt;         - `message`: line to check if it's spam&lt;/span&gt;
&lt;span class="sd"&gt;        :return: probability that it's spam&lt;/span&gt;
&lt;span class="sd"&gt;        """&lt;/span&gt;        
        &lt;span class="n"&gt;p_message_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;p_message_given_spam&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_message_given_spam&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
                                      &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="c1"&gt;# leave this in the same cell so updating the class updates the instance&lt;/span&gt;
&lt;span class="n"&gt;detector&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpamDetector&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;l_detector&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpamDetector&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="What-is-the-size-of-the-vocabulary?"&gt;What is the size of the vocabulary?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#What-is-the-size-of-the-vocabulary?"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;bagger&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    converts list of lines into list of tokens&lt;/span&gt;
&lt;span class="sd"&gt;    &lt;/span&gt;
&lt;span class="sd"&gt;    :param:&lt;/span&gt;
&lt;span class="sd"&gt;     - `mail`: list of space-separated lines&lt;/span&gt;
&lt;span class="sd"&gt;    :return: list of words in `mail`&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="n"&gt;mail_tokenized&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;mail&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;mail_bag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tokens&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;mail_tokenized&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tokens&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;mail_bag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;mail_bag&lt;/span&gt;

&lt;span class="n"&gt;spam_bag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bagger&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ham_bag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bagger&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [29]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;expected&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;expected&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; \
        &lt;span class="s2"&gt;"'&lt;/span&gt;&lt;span class="si"&gt;{2}&lt;/span&gt;&lt;span class="s2"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;Expected: &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s2"&gt;, Actual: &lt;/span&gt;&lt;span class="si"&gt;{1}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;expected&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                   &lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;vocabulary_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;vocabulary&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'check spam bags'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'ham bags'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;vocabulary_size&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'vocabulary size'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;12
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="what-is-the-probability-that-a-piece-of-mail-is-spam?"&gt;what is the probability that a piece of mail is spam?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#what-is-the-probability-that-a-piece-of-mail-is-spam?"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [31]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mail_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mail_count&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sample_size&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'mail count'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;p_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;mail_count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p-spam known'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;probability&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'p-spam detector'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;3/8
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="what-is-p('secret'|-spam)?"&gt;what is p('secret'| spam)?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#what-is-p('secret'%7C-spam)?"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [32]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    count the number of times a word is in the bag&lt;/span&gt;

&lt;span class="sd"&gt;    :param:&lt;/span&gt;
&lt;span class="sd"&gt;     - `bag`: collection of words&lt;/span&gt;
&lt;span class="sd"&gt;     - `word`: word to count&lt;/span&gt;
&lt;span class="sd"&gt;    :return: number of times word appears in bag&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [33]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    fraction of times word appears in the bag&lt;/span&gt;

&lt;span class="sd"&gt;    :param:&lt;/span&gt;
&lt;span class="sd"&gt;     - `bag`: collection of words&lt;/span&gt;
&lt;span class="sd"&gt;     - `word`: word to count in bag&lt;/span&gt;
&lt;span class="sd"&gt;     - `k`: laplace smoothing constant&lt;/span&gt;
&lt;span class="sd"&gt;     - `sample_space`: total number of words in vocabulary&lt;/span&gt;
&lt;span class="sd"&gt;    :return: Fraction of total bag that is word&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [34]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_secret_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_secret_given_spam&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_secret_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="s1"&gt;'secret given spam'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_secret_given_spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1/3
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="what-is-p('secret'|-ham)?"&gt;what is p('secret'| ham)?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#what-is-p('secret'%7C-ham)?"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [35]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_secret_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_secret_given_ham&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_secret_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(secret|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_secret_given_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1/15
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="You-get-a-message-with-one-word---'sports',-what-is-p(spam|'sports')?"&gt;You get a message with one word - 'sports', what is p(spam|'sports')?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#You-get-a-message-with-one-word---'sports',-what-is-p(spam%7C'sports')?"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [36]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;%%latex&lt;/span&gt;
&lt;span class="s"&gt;$&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam|`sports'&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="nv"&gt;\frac&lt;/span&gt;&lt;span class="nb"&gt;{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;`sports' | spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;}{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;`sports'&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;}&lt;/span&gt;&lt;span class="s"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_latex output_subarea "&gt;
$p(spam|`sports') = \frac{p(`sports' | spam)p(spam)}{p(`sports')}$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [37]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_sports_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sports'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_sports_given_spam&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sports_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'sports'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="s1"&gt;'p(sports|spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sports_given_spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1/9
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [38]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_sports_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sports'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;expected&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_sports_given_ham&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;expected&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sports_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'sports'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="s1"&gt;'p(sports|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [39]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;mail_count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;probability&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'p(ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;5/8
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [40]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_sports&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sports'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sports'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sports&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1/2
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [41]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_sports&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sports_given_spam&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sports_given_spam&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_spam&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;p_sports_given_ham&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_spam_given_sports&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_sports&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'sports'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="s1"&gt;'p(spam|sports)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_sports&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1/6
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Given-the-message-'secret-is-secret',-what-is-the-probability-that-it-is-spam?"&gt;Given the message 'secret is secret', what is the probability that it is spam?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#Given-the-message-'secret-is-secret',-what-is-the-probability-that-it-is-spam?"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [42]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;%%latex&lt;/span&gt;
&lt;span class="s"&gt;$&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam|message&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="nv"&gt;\frac&lt;/span&gt;&lt;span class="nb"&gt;{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;message|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam}{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;message|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt; p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;message|ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;}&lt;/span&gt;&lt;span class="s"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_latex output_subarea "&gt;
$p(spam|message) = \frac{p(message|spam)p(spam}{p(message|spam)p(spam) + p(message|ham)p(ham)}$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;So, the question here is, how do you calculate the probabilities for the entire message instead of for a single word? The answer turns out to be to multiply the probability for each of the words together - so  p('secret is secret'| spam) is the product p('secret'|spam) x p('is'|spam) x p('secret'|spam)&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [43]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;%%latex&lt;/span&gt;
&lt;span class="s"&gt;$&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam|sis&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="nv"&gt;\frac&lt;/span&gt;&lt;span class="nb"&gt;{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;i|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;}{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;i|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt; p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;i|ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;}&lt;/span&gt;&lt;span class="s"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_latex output_subarea "&gt;
$p(spam|sis) = \frac{p(s|spam)p(i|spam)p(s|spam)p(spam)}{p(s|spam)p(i|spam)p(s|spam)p(spam) + p(s|ham)p(i|ham)p(s|ham)p(ham)}$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Where s = 'secret', i = 'is' and sis='secret is secret'.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [44]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_is_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_is_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(is|spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;p_is_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_is_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(is|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [45]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;p_message_given_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_probability&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    :param:&lt;/span&gt;
&lt;span class="sd"&gt;     - `message`: string of words&lt;/span&gt;
&lt;span class="sd"&gt;     - `bag`: bag of words&lt;/span&gt;
&lt;span class="sd"&gt;     - `class_probability`: probability for this class (e.g. p(spam))&lt;/span&gt;
&lt;span class="sd"&gt;     - `k`: Laplace smoothing constant&lt;/span&gt;
&lt;span class="sd"&gt;     - `sample_space`: Size of the vocabulary&lt;/span&gt;
&lt;span class="sd"&gt;    :return: p(message|classification) * p(classification)&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="n"&gt;probabilities&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="n"&gt;probability&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;class_probability&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;probabilities&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;probability&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;probability&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [46]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    :param:&lt;/span&gt;
&lt;span class="sd"&gt;     - `message`: string of words&lt;/span&gt;
&lt;span class="sd"&gt;     - `k`: Laplace Smoothing constant&lt;/span&gt;
&lt;span class="sd"&gt;     - `sample_space`: total count of words in spam/ham bags&lt;/span&gt;
&lt;span class="sd"&gt;    :return: probability message is spam&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="n"&gt;spam_probability&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_spam&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;lp_spam&lt;/span&gt;
    &lt;span class="n"&gt;ham_probability&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_ham&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;lp_ham&lt;/span&gt;
    &lt;span class="n"&gt;p_m_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_message_given_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam_probability&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;p_m_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_message_given_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham_probability&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;p_m_given_spam&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_m_given_spam&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;p_m_given_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [47]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'secret is secret'&lt;/span&gt;
&lt;span class="n"&gt;expected&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;p_sis_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_secret_given_spam&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_is_given_spam&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_secret_given_spam&lt;/span&gt;
                    &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_message_given_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p_spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;p_sis_given_spam&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sis_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(sis|spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;p_sis_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_secret_given_ham&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_is_given_ham&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_secret_given_ham&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;p_ham&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_message_given_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;p_sis_given_ham&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sis_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(sis|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;p_spam_given_sis&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_sis_given_spam&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_sis_given_spam&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;p_sis_given_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_sis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(spam|sis)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;p_spam_given_sis&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_spam_given_sis&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;expected&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_sis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;25/26
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id='What-is-the-probability-that-"today-is-secret"-is-spam?'&gt;What is the probability that "today is secret" is spam?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#What-is-the-probability-that-%22today-is-secret%22-is-spam?"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [48]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;%%latex&lt;/span&gt;
&lt;span class="s"&gt;$&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam|tis&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="nv"&gt;\frac&lt;/span&gt;&lt;span class="nb"&gt;{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;t|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;i|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;}{p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;t|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;i|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt; p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;t|ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;i|ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s|ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt;}&lt;/span&gt;&lt;span class="s"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_latex output_subarea "&gt;
$p(spam|tis) = \frac{p(t|spam)p(i|spam)p(s|spam)p(spam)}{p(t|spam)p(i|spam)p(s|spam)p(spam) + p(t|ham)p(i|ham)p(s|ham)p(ham)}$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [49]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'today is secret'&lt;/span&gt;
&lt;span class="n"&gt;p_spam_given_tis&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_tis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;p_spam_given_tis&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_tis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="s1"&gt;'p(spam|tis)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;0
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [50]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="s1"&gt;'today'&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spam_bag&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[50]:&lt;/div&gt;


&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;False&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Since one of the words isn't in the spam bag of words, the numerator is going to be 0 (p('today'|spam) = 0) so the probability overall is 0.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Laplace-Smoothing"&gt;Laplace Smoothing&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#Laplace-Smoothing"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;When a single missing word drops the probability to 0, this means your model is overfitting the data. To get around this Laplace Smoothing is used.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [51]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;%%latex&lt;/span&gt;
&lt;span class="s"&gt;$&lt;/span&gt;&lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;s&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt; &lt;/span&gt;&lt;span class="nv"&gt;\frac&lt;/span&gt;&lt;span class="nb"&gt;{s_{count} &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt; k}{total_{count} &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt; k &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt; |classes|}&lt;/span&gt;&lt;span class="s"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_latex output_subarea "&gt;
$p(s) = \frac{s_{count} + k}{total_{count} + k * |classes|}$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;let &lt;em&gt;k = 1&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;What is the probability that a message is spam if you have 1 example message and it's spam?&lt;/em&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [52]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;class_count&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;total_count&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""&lt;/span&gt;
&lt;span class="sd"&gt;    :param:&lt;/span&gt;
&lt;span class="sd"&gt;     - `class_count`: size of event space&lt;/span&gt;
&lt;span class="sd"&gt;     - `total_count`: size of sample space&lt;/span&gt;
&lt;span class="sd"&gt;     - `k`: constant to prevent 0 probability&lt;/span&gt;
&lt;span class="sd"&gt;     - `classes`: total number of events&lt;/span&gt;
&lt;span class="sd"&gt;    :return: probability of class_count with Laplace Smoothing&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;class_count&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;total_count&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;classes&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [53]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="c1"&gt;# classes = spam, ham&lt;/span&gt;
&lt;span class="n"&gt;number_of_classes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [54]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;messages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;spam_messages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_messages&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;messages&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;number_of_classes&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                            
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;2/3
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;What if you have 10 messages and 6 are spam?&lt;/em&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [55]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam_messages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;
&lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;number_of_classes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;expected&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_messages&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;messages&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;number_of_classes&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;expected&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;7/12
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;What if you have 100 messages and 60 are spam?&lt;/em&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [56]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam_messages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;60&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;number_of_classes&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;61/102
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="spam/ham-with-Laplace-Smoothing"&gt;spam/ham with Laplace Smoothing&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#spam/ham-with-Laplace-Smoothing"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;What are the probabilities that a message is spam or ham with k=1?&lt;/em&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [57]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;lp_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;mail_count&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;probability&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'p(spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;lp_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;mail_count&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;probability&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'p(ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;2/5
3/5
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;What are p('today'|spam) and p('today'|ham)?&lt;/em&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;In this case the class-count isn't 2 (for spam or ham) but 12, for the total number of words in the vocabulary.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [58]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'today'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1/21
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [59]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;lp_today_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                    &lt;span class="n"&gt;class_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'today'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                    &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_today_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'today'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(today|spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;lp_today_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;l_probability&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                   &lt;span class="n"&gt;class_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;word_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'today'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                   &lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_today_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'today'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
             &lt;span class="s1"&gt;'p(today|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;lp_today_given_spam&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;lp_today_given_ham&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'p(today|spam) = &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_today_given_spam&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'p(today|ham) = &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_today_given_ham&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;p(today|spam) = 1/21
p(today|ham) = 1/9
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="What-is-p(spam|m)-if-m-=-'today-is-secret'-and-k=1?"&gt;What is p(spam|m) if m = 'today is secret' and k=1?&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#What-is-p(spam%7Cm)-if-m-=-'today-is-secret'-and-k=1?"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [60]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'today is secret'&lt;/span&gt;
&lt;span class="n"&gt;lp_is_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_is_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(is|spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;lp_is_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_is_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'is'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(is|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;lp_secret_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_secret_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(secret|spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;lp_secret_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_secret_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_word&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(secret|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;lp_tis_given_spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lp_today_given_spam&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;lp_is_given_spam&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;lp_secret_given_spam&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;lp_spam&lt;/span&gt;
&lt;span class="n"&gt;lp_tis_given_ham&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;lp_today_given_ham&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;lp_is_given_ham&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;lp_secret_given_ham&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;lp_ham&lt;/span&gt;
&lt;span class="n"&gt;lp_spam_given_tis&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Fraction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_tis_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lp_tis_given_spam&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;lp_tis_given_ham&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_tis_given_spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(tis|spam)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_tis_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(tis|ham)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_spam_given_tis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;l_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'p(spam|tis)'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_spam_given_tis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;324/667
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;This is just more double-checking to make sure that the functions I originally wrote match the hand-calculated answers.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [61]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_message_given_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham_bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lp_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;lp_tis_given_ham&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Expected: &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s2"&gt; Actual: &lt;/span&gt;&lt;span class="si"&gt;{1}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_tis_given_ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [62]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sample_space&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vocabulary&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;lp_spam_given_tis&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Expected: &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s2"&gt; Actual: &lt;/span&gt;&lt;span class="si"&gt;{1}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_spam_given_tis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Re-do"&gt;Re-do&lt;a class="anchor-link" href="https://necromuralist.github.io/posts/baysian-spam-detector/#Re-do"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Since the code ended up being so messy I'm going to re-do the last example using the class-based version only.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [64]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;spam_detector&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpamDetector&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ham&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'today is secret'&lt;/span&gt;
&lt;span class="n"&gt;answer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spam_detector&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;p_spam_given_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"p(spam|'today is secret') = &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;answer&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;p(spam|'today is secret') = 324/667
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [65]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;assert_equal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lp_spam_given_tis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"p(spam|'today is secret')"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>machine-learning</category><guid>https://necromuralist.github.io/posts/baysian-spam-detector/</guid><pubDate>Mon, 20 Jun 2016 04:53:05 GMT</pubDate></item><item><title>Building a Jupyter Docker Container</title><link>https://necromuralist.github.io/posts/building-a-jupyter-docker-container/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div&gt;&lt;p&gt;This is how I built a docker container to run a jupyter server. The reason why I did it was that I wanted to isolate any non-python dependencies I needed to install, but so far I haven't done any, so this could actually be done more easily using &lt;cite&gt;virtualenv&lt;/cite&gt;, but this is a starting point.&lt;/p&gt;
&lt;div class="section" id="the-dockerfile"&gt;
&lt;h2&gt;The Dockerfile&lt;/h2&gt;
&lt;p&gt;This is the configuration for building the docker image.&lt;/p&gt;
&lt;pre class="code dockerfile"&gt;&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; ubuntu:latest&lt;/span&gt;
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /code&lt;/span&gt;
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; apt-get update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get -y upgrade
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; apt-get install -y build-essential python-dev
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; apt-get install -y python python-distribute python-pip
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-6"&gt;&lt;/a&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; pip install pip --upgrade
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-7"&gt;&lt;/a&gt;&lt;span class="k"&gt;ADD&lt;/span&gt;&lt;span class="s"&gt; requirements.txt /code&lt;/span&gt;
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-8"&gt;&lt;/a&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; pip install -r requirements.txt
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-9"&gt;&lt;/a&gt;&lt;span class="k"&gt;RUN&lt;/span&gt; mkdir /notebooks
&lt;a name="rest_code_7f3824a885ea41dbac08f52e2491112e-10"&gt;&lt;/a&gt;&lt;span class="k"&gt;CMD&lt;/span&gt;&lt;span class="s"&gt; jupyter notebook --no-browser --ip 0.0.0.0 --port 8888 /notebooks&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;The &lt;tt class="docutils literal"&gt;FROM&lt;/tt&gt; line shows that I'm building my container using an ubuntu image (the latest image). The &lt;tt class="docutils literal"&gt;WORKDIR&lt;/tt&gt; sets the current working directory so commands that are run will look there for files. The next set of &lt;tt class="docutils literal"&gt;RUN&lt;/tt&gt; lines just say to update &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;apt-get&lt;/span&gt;&lt;/tt&gt; and install some basic python packages. The &lt;tt class="docutils literal"&gt;ADD&lt;/tt&gt; line takes the &lt;tt class="docutils literal"&gt;requirements.txt&lt;/tt&gt; file in the directory where I'm going to run this and put it in &lt;tt class="docutils literal"&gt;/CODE&lt;/tt&gt; which I pointed to with the &lt;tt class="docutils literal"&gt;WORKDIR&lt;/tt&gt; line. The next &lt;tt class="docutils literal"&gt;RUN&lt;/tt&gt; commands install my python dependencies and make a folder called &lt;tt class="docutils literal"&gt;/notebooks&lt;/tt&gt; to put the jupyter notebooks in. The last line (&lt;tt class="docutils literal"&gt;CMD&lt;/tt&gt;) is what will be executed when the container is run.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="building-the-image"&gt;
&lt;h2&gt;Building the Image&lt;/h2&gt;
&lt;p&gt;If the docker-file is stored in a file named &lt;tt class="docutils literal"&gt;jupyter.dockerfile&lt;/tt&gt; next to the &lt;tt class="docutils literal"&gt;requirements.txt&lt;/tt&gt; file, both of which are in the directory where I run the build command. To build it (and name the image &lt;tt class="docutils literal"&gt;jupyter&lt;/tt&gt;) I'd run the command:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_e9bcb05c8df34726b6011e61816565ba-1"&gt;&lt;/a&gt;docker -f jupyter.dockerfile -t jupyter:latest .
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="running-the-server"&gt;
&lt;h2&gt;Running the Server&lt;/h2&gt;
&lt;p&gt;To run the server in the same directory where the notebooks should be stored and using the default port of 8888:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_13e6fa047300441caebf9bce6fc888b8-1"&gt;&lt;/a&gt;docker --name jupyter -p 8888:8888 -v &lt;span class="nv"&gt;$PWD&lt;/span&gt;:/notebooks -d jupyter
&lt;/pre&gt;&lt;p&gt;Now the server should be reachable at &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;http://localhost:8888&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>docker jupyter how-to</category><guid>https://necromuralist.github.io/posts/building-a-jupyter-docker-container/</guid><pubDate>Mon, 20 Jun 2016 03:48:21 GMT</pubDate></item><item><title>Linking Two Docker Containers</title><link>https://necromuralist.github.io/posts/linking-two-docker-containers/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div&gt;&lt;p&gt;I think this is the deprecated to do it, now that they have &lt;cite&gt;docker connect&lt;/cite&gt;, but it works, so I'll keep the notes.&lt;/p&gt;
&lt;p&gt;My goal was to link a container that I'd set up to run a &lt;cite&gt;Jupyter Notebook&lt;/cite&gt; server to a &lt;cite&gt;Mongo DB&lt;/cite&gt; server. I'll leave out the installation notes and just assume that there's a docker image named &lt;tt class="docutils literal"&gt;mongo&lt;/tt&gt; for &lt;cite&gt;MongoDB&lt;/cite&gt; and one named &lt;tt class="docutils literal"&gt;jupyter&lt;/tt&gt; for my &lt;cite&gt;Jupyter&lt;/cite&gt; server.&lt;/p&gt;
&lt;p&gt;First I'll run MongoDB. &lt;cite&gt;MongoDB&lt;/cite&gt; is going to use &lt;tt class="docutils literal"&gt;/data/db&lt;/tt&gt; to store its data-files so I'm going to mount my &lt;cite&gt;data&lt;/cite&gt; directory there.&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_10b9cd7b2454486bae71b51520bef6e2-1"&gt;&lt;/a&gt;docker run --name mongo -v &lt;span class="nv"&gt;$PWD&lt;/span&gt;/data:/data/db -d mongo
&lt;/pre&gt;&lt;p&gt;Next I'll run the &lt;cite&gt;Jupyter&lt;/cite&gt; container, using the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--link&lt;/span&gt;&lt;/tt&gt; option to point it to the &lt;tt class="docutils literal"&gt;mongo&lt;/tt&gt; container. The jupyter notebook is running on port 8888 and looking for notebooks in the &lt;tt class="docutils literal"&gt;/notebooks&lt;/tt&gt; directory so I'll mount my current working director there.&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_2414c668c2ce4c29bbea927b161df8bc-1"&gt;&lt;/a&gt;docker run --name jupyter -v &lt;span class="nv"&gt;$PWD&lt;/span&gt;:/notebooks -p 8888:8888 --link mongo -d jupyter
&lt;/pre&gt;&lt;p&gt;At this point, opening a browser at &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;http://localhost:8888&lt;/span&gt;&lt;/tt&gt; should open up the jupyter-server's home.&lt;/p&gt;&lt;/div&gt;</description><category>docker how-to</category><guid>https://necromuralist.github.io/posts/linking-two-docker-containers/</guid><pubDate>Mon, 20 Jun 2016 03:31:20 GMT</pubDate></item></channel></rss>