<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="A common place." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>The Cloistered Monkey (old posts, page 20) | The Cloistered Monkey</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="rss.xml" hreflang="en" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/index-20.html" rel="canonical">
<link href="." rel="prev" type="text/html">
<link href="index-19.html" rel="next" type="text/html"><!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
<link href="apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="site.webmanifest" rel="manifest">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="."><span id="blog-title">The Cloistered Monkey</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Projects</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/Anechoic-Echolalia/">Anechoic Echolalia</a> <a class="dropdown-item" href="https://necromuralist.github.io/Ape-Iron/">Ape Iron</a> <a class="dropdown-item" href="https://necromuralist.github.io/Homunculi-Hypergraphia/">Honumculi Hypergraphia</a> <a class="dropdown-item" href="https://necromuralist.github.io/Neurotic-Networking/">Neurotic Networking</a> <a class="dropdown-item" href="machine-learning-projects/">Machine Learning</a> <a class="dropdown-item" href="https://necromuralist.github.io/student_intervention/">Student Intervention Project</a> <a class="dropdown-item" href="https://necromuralist.github.io/boston_housing/">Boston Housing Project</a> <a class="dropdown-item" href="https://necromuralist.github.io/data_science/">Data Science With Python</a> <a class="dropdown-item" href="https://necromuralist.github.io/Visions-Voices-Data/">Visions, Voices, Data</a></div>
</li>
</ul>
<!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Search" type="text"></div>
<!-- 
<button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-search"></span>
</button>
-->
<input name="sitesearch" type="hidden" value="https://necromuralist.github.io/"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<div class="postindex">
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/emacs-artifact-on-kubuntu/">Emacs Scrollbar Artifact on Kubuntu</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/emacs-artifact-on-kubuntu/" rel="bookmark"><time class="published dt-published" datetime="2021-10-03T13:58:02-07:00" itemprop="datePublished" title="2021-10-03 13:58">2021-10-03 13:58</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/emacs-artifact-on-kubuntu/#org8fa0e72">What's this then?</a></li>
<li><a href="posts/emacs-artifact-on-kubuntu/#org145c5ea">The Cause</a></li>
<li><a href="posts/emacs-artifact-on-kubuntu/#org3de5cd8">The Fix</a></li>
<li><a href="posts/emacs-artifact-on-kubuntu/#orgeba7bd3">The Source</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org8fa0e72">
<h2 id="org8fa0e72">What's this then?</h2>
<div class="outline-text-2" id="text-org8fa0e72">
<p>I switch back and forth between Kubuntu and Ubuntu (Ubuntu seems to work better, but I like the aesthetics of Kubuntu) and one of the problems I had was that when I launched emacs in Kubuntu it had a permanent scrollbar in the center of the window that blocked out whatever text was there.</p>
<p><img alt="nil" src="posts/emacs-artifact-on-kubuntu/emacs-scrol-artifact.png"></p>
<p>It's more of an annoyance than anything else but since it doesn't happen on Ubuntu I figured I'd try and fix it. It took me a couple of different searches to find the answer so I thought I'd document it in case I need to remember this later.</p>
</div>
</div>
<div class="outline-2" id="outline-container-org145c5ea">
<h2 id="org145c5ea">The Cause</h2>
<div class="outline-text-2" id="text-org145c5ea">
<p>This is the desktop that's causing the problem:</p>
<p><img alt="nil" src="posts/emacs-artifact-on-kubuntu/kubuntu-version.png"></p>
<p>It turns out that it's because my monitors are of different resolutions and in order to be able to read anything on the higher-resolution monitor I had to set the display scale to 200%, but this causes a problem with the scaling of the widgets (at least that's what it said on the <a href="https://www.reddit.com/r/emacs/comments/am64y8/bug_with_scrollbar_on_ubuntu_1804/">reddit</a> post where I found the solution).</p>
</div>
</div>
<div class="outline-2" id="outline-container-org3de5cd8">
<h2 id="org3de5cd8">The Fix</h2>
<div class="outline-text-2" id="text-org3de5cd8">
<p>The fix for me was to edit the <code>~/.local/share/applications/emacs.desktop</code> file so that the EXEC line read:</p>
<pre class="example">
Exec= /usr/bin/env GDK_SCALE= emacs
</pre>
<p>Once this was in place the artifact went away.</p>
<p><img alt="nil" src="posts/emacs-artifact-on-kubuntu/emacs-no-artifact.png"></p>
</div>
</div>
<div class="outline-2" id="outline-container-orgeba7bd3">
<h2 id="orgeba7bd3">The Source</h2>
<div class="outline-text-2" id="text-orgeba7bd3">
<p>I linked to it above, but this is the reddit post where I found the fix:</p>
<ul class="org-ul">
<li><a href="https://www.reddit.com/r/emacs/comments/am64y8/bug_with_scrollbar_on_ubuntu_1804/">https://www.reddit.com/r/emacs/comments/am64y8/bug_with_scrollbar_on_ubuntu_1804/</a></li>
</ul>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/building-fastais-documentation/">Building fastai's Documentation</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/building-fastais-documentation/" rel="bookmark"><time class="published dt-published" datetime="2021-05-29T12:31:38-07:00" itemprop="datePublished" title="2021-05-29 12:31">2021-05-29 12:31</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/building-fastais-documentation/#org57a0586">What is this about?</a></li>
<li><a href="posts/building-fastais-documentation/#orgd98ab5e">What happened?</a>
<ul>
<li><a href="posts/building-fastais-documentation/#org6d5d743">The Repository</a></li>
<li><a href="posts/building-fastais-documentation/#org34975d4">Jekyll and Hide</a>
<ul>
<li><a href="posts/building-fastais-documentation/#org3d2042a">All You Need</a></li>
</ul>
</li>
<li><a href="posts/building-fastais-documentation/#orga85ad28">Fixing the Imports</a>
<ul>
<li><a href="posts/building-fastais-documentation/#orgf438d64">Installing fastai</a></li>
<li><a href="posts/building-fastais-documentation/#org0adae33">Installing Flask Compress</a></li>
<li><a href="posts/building-fastais-documentation/#org3df1e09">Install Azureml-core</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="posts/building-fastais-documentation/#org07969b7">In A Nutshell</a>
<ul>
<li>
<ul>
<li><a href="posts/building-fastais-documentation/#org37176b4">The Minimum to Get the Documentation</a></li>
<li><a href="posts/building-fastais-documentation/#orge818216">To Fix All the Errors</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org57a0586">
<h2 id="org57a0586">What is this about?</h2>
<div class="outline-text-2" id="text-org57a0586">
<p>I've decided to try and build as much of the documentation that I use all the time on my local system, not just so that I'll have it if my internet connection goes down but also so that I won't be distracted by what's happening on the web. This is about building <a href="https://docs.fast.ai/">fastai's documentation</a>, which was a little trickier than I thought it would be so I decided it would be worth it to make a note for the future.</p>
<p>You can skip to the <a href="posts/building-fastais-documentation/#org07969b7">In A Nutshell</a> section of the post to get a summary of the steps without all the exposition that the middle section has.</p>
</div>
</div>
<div class="outline-2" id="outline-container-orgd98ab5e">
<h2 id="orgd98ab5e">What happened?</h2>
<div class="outline-text-2" id="text-orgd98ab5e"></div>
<div class="outline-3" id="outline-container-org6d5d743">
<h3 id="org6d5d743">The Repository</h3>
<div class="outline-text-3" id="text-org6d5d743">
<p>The first thing I did was clone the <a href="https://github.com/fastai/fastai">fastai git repository</a> from github. If you inspect it there's a folder called <code>docs_src</code> which seemed to logically mean that that's where the source files for the documentation are but when you go in there you won't find an <code>index.html</code> file, which seemed peculiar. There's a <code>Makefile</code> at the root of the repository so I inspected it and found that there's a rule:</p>
<pre class="example">
docs: $(SRC)
        rsync -a docs_src/ docs
        nbdev_build_docs
</pre>
<p>So I tried a naive <code>make docs</code> but of course it failed because there's nothing called <code>nbdev_build_docs</code>, so I searched online and found out that <a href="https://nbdev.fast.ai/">nbdev</a> is a fastai project to make jupyter notebooks into a <a href="https://www.wikiwand.com/en/Literate_programming">Literate Programming</a> system and that <code>nbdev_build_docs</code> is one of their command-line commands, so I installed it through pip:</p>
<pre class="example">
pip install nbdev
</pre>
<p>And re-ran the make command, which did nothing because the <code>rsync</code> command had already created the <code>docs</code> folder and for some reason this made the <code>nbdev_build_docs</code> command not work. So I removed the <code>docs</code> folder and re-ran it, which produced a big dump of errors because in converting the notebooks <code>nbdev</code> was importing a bunch of python code that wasn't installed. Interestingly, at this point the <code>docs</code> folder actually has enough to run the site, despite all the error-messages, but if you just try to load the files into a browser you can see that it's kind of broken, so then I went looking for what was going on.</p>
</div>
</div>
<div class="outline-3" id="outline-container-org34975d4">
<h3 id="org34975d4">Jekyll and Hide</h3>
<div class="outline-text-3" id="text-org34975d4">
<p>For some reason I couldn't find anything in the documentation on building it, but searching for <i>"fastai build documentation"</i> brought an <a href="https://fastai1.fast.ai/gen_doc_main.html">outdated page</a> that tells you how to build the documentation but was written for the prior version of fastai (v1) so much of it doesn't make sense for v2 (e.g. it refers to a non-existent <code>tools</code> folder), which I didn't figure out at first because the sites for v1 and v2 don't really identify their version, except in the URL for the old site.</p>
</div>
<div class="outline-4" id="outline-container-org3d2042a">
<h4 id="org3d2042a">All You Need</h4>
<div class="outline-text-4" id="text-org3d2042a">
<p>Reading that documentation it turns out that they're using <a href="https://jekyllrb.com/">Jekyll</a>, so if you <a href="https://jekyllrb.com/docs/installation/">install it</a> you just need to run Jekyll in the <code>docs</code> folder.</p>
<pre class="example">
cd docs
bundle exec jekyll serve
</pre>
<p>And the site is ready to read at <code>http://localhost:4000</code> and at this point you're good to go - but, of course, I didn't realize that and tried to fix the error messages first, which is what the rest of this post is about.</p>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-orga85ad28">
<h3 id="orga85ad28">Fixing the Imports</h3>
<div class="outline-text-3" id="text-orga85ad28">
<p>There's three things you need to do to fix the imports:</p>
<ul class="org-ul">
<li>install fastai and any dependencies</li>
<li>install <a href="https://github.com/colour-science/flask-compress"><code>flask_compress</code></a></li>
<li>install <a href="https://github.com/Azure/azure-sdk-for-python"><code>azureml-core</code></a></li>
</ul>
</div>
<div class="outline-4" id="outline-container-orgf438d64">
<h4 id="orgf438d64">Installing fastai</h4>
<div class="outline-text-4" id="text-orgf438d64">
<p><a href="https://fastai1.fast.ai/gen_doc_main.html#step-2-setup">The old documentation</a> recommended installing it in development mode. I don't know if that's strictly necessary, but it fixed a lot of things so it seems like a good idea.</p>
<p>In the root of the fastai repository run pip.</p>
<pre class="example">
pip install -e ".[dev]"
</pre>
<p>This installs a lot of stuff so you might want to go get a cup of coffee (or maybe a cocktail) at this point while it does its thing. The <code>settings.ini</code> file lists the <code>dev_requirements</code> and the regular requirements if you want to see what needs to be installed in either case.</p>
</div>
</div>
<div class="outline-4" id="outline-container-org0adae33">
<h4 id="org0adae33">Installing Flask Compress</h4>
<div class="outline-text-4" id="text-org0adae33">
<p>This is pretty straight-forward, just use pip.</p>
<pre class="example">
pip install flask-compress
</pre></div>
</div>
<div class="outline-4" id="outline-container-org3df1e09">
<h4 id="org3df1e09">Install Azureml-core</h4>
<div class="outline-text-4" id="text-org3df1e09"></div>
<ul class="org-ul">
<li><a id="org6ea9a71"></a>The Problem<br>
<div class="outline-text-5" id="text-org6ea9a71">
<p>This wasn't quite so straight-forward, which is why I put it in a separate section. If you try to install it in Ubuntu 21.04 (or 20.04, etc.) you will get a big blob of error messages ending in this.</p>
<pre class="example">
ERROR: Command errored out with exit status 1: /home/hades/.virtualenvs/fastai-clean/bin/python -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '"'"'/tmp/pip-install-srnkqokl/ruamel-yaml_803314568
e8f4fa49015a45528d277b2/setup.py'"'"'; __file__='"'"'/tmp/pip-install-srnkqokl/ruamel-yaml_803314568e8f4fa49015a45528d277b2/setup.py'"'"';f = getattr(tokenize, '"'"'open'"'"', open)(__file__) if os.path.exists(_
_file__) else io.StringIO('"'"'from setuptools import setup; setup()'"'"');code = f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /tmp/pip
-record-yfvqflby/install-record.txt --single-version-externally-managed --compile --install-headers /home/hades/.virtualenvs/fastai-clean/include/site/python3.9/ruamel.yaml Check the logs for full command output
</pre>
<p>Which isn't really all that helpful. Scrolling up, it looks like the problem was with something called <a href="https://yaml.readthedocs.io/en/latest/">ruamel.yaml</a>, so investigating this seemed like a place to start, but, of course, the error messages are completely inscrutable now that I haven't programmed in C for so many years so I decided to search the web instead of trying to debug it directly, figuring that someone else must have had this problem.</p>
<p>This lead to a long search through various posts, but what it turned out to be was that both ruamel.yaml and azureml-core don't support python 3.9 yet (there are some <a href="https://github.com/Azure/MachineLearningNotebooks/issues?q=is%3Aissue+is%3Aopen+3.9">bug reports on GitHub</a> for it already) so you can't install it with the version that currently ships with Ubuntu (3.9.5) or anything above python 3.8.</p>
</div>
</li>
<li><a id="org5d5a0ee"></a>The Fix<br>
<div class="outline-text-5" id="text-org5d5a0ee">
<p>The fix I decided to use was to install <a href="https://github.com/pyenv/pyenv">pyenv</a> using their <a href="https://github.com/pyenv/pyenv-installer">installer</a>. Once you run the installer and follow the rest of their <a href="https://github.com/pyenv/pyenv#installation">installation instructiors</a> it's fairly straightforward to set up so I won't go into it.</p>
<p>I decided to use python 3.8.10 so to install it you do this:</p>
<pre class="example">
pyenv install 3.8.10
</pre>
<p>The only thing that didn't work for me was their <code>pyenv which</code> function which is supposed to show you the location of the python installation. The command might work but I couldn't figure out the arguments to use (updating the example they gave didn't work for me). It turned out the python binary was at:</p>
<pre class="example">
~/.pyenv/versions/3.8.10/bin/python
</pre>
<p>pyenv has it's own system for creating a virtual environment, but since I'm already using virtualfish and didn't want to try and troubleshoot yet another method I created a virtual environment the way I usually do it.</p>
<pre class="example">
~/.pyenv/versions/3.8.10/bin/python -m venv fastai-doc
</pre>
<p>At this point I activated the new virtual environment and had to re-do previous installation steps (for <code>fastai</code> and <code>flask_compress</code>) as well as the azure-ml installation.</p>
<pre class="example">
pip install -e ".[dev]"
pip install flask-compress azureml-core
</pre>
<p>The installation of fastai installs <code>nbdev</code> as one of the requirements so that didn't have to be re-done. And now I built the documentation and ran the jekyll server. Easy-peasy.</p>
<pre class="example">
make docs
cd docs
bundle exec jekyll serve
</pre></div>
</li>
</ul>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org07969b7">
<h2 id="org07969b7">In A Nutshell</h2>
<div class="outline-text-2" id="text-org07969b7"></div>
<div class="outline-4" id="outline-container-org37176b4">
<h4 id="org37176b4">The Minimum to Get the Documentation</h4>
<div class="outline-text-4" id="text-org37176b4">
<ul class="org-ul">
<li>Clone the <a href="https://github.com/fastai/fastai">fastai git repository</a> from github</li>
<li>Install <a href="https://jekyllrb.com/">jekyll</a> and <a href="https://nbdev.fast.ai/">nbdev</a></li>
<li>Change into the root of the fastai repository you cloned</li>
<li>Run <code>make docs</code> and ignore the error-messages</li>
<li>Change into the <code>docs</code> folder that was created and run the jekyll server (<code>bundle exec jekyll serve</code>)</li>
</ul>
</div>
</div>
<div class="outline-4" id="outline-container-orge818216">
<h4 id="orge818216">To Fix All the Errors</h4>
<div class="outline-text-4" id="text-orge818216">
<p>This isn't really necessary to get the documentation, but I think it's better, since you don't have to ignore all the error messages.</p>
<ul class="org-ul">
<li>Clone the <a href="https://github.com/fastai/fastai">fastai git repository</a> from github</li>
<li>Install <a href="https://jekyllrb.com/">jekyll</a></li>
<li>Get python 3.8 working (I used pyenv)</li>
<li>Use pip to install fastai in development mode</li>
<li>Use pip to install <code>flask_compress</code> and <code>azureml-core</code></li>
<li>Change into the root of the fastai repository you cloned</li>
<li>Run <code>make docs</code></li>
<li>Change into the <code>docs</code> folder that was created and run the jekyll server (<code>bundle exec jekyll serve</code>)</li>
</ul>
</div>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/coding-strip/">Coding Strip</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/coding-strip/" rel="bookmark"><time class="published dt-published" datetime="2021-01-27T16:46:53-08:00" itemprop="datePublished" title="2021-01-27 16:46">2021-01-27 16:46</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="outline-2" id="outline-container-org4936dbe">
<h2 id="org4936dbe">Abstract</h2>
<div class="outline-text-2" id="text-org4936dbe">
<p>Programming is difficult for some people to learn because the concepts are abstract and while there have been efforts to make them more concrete, efforts that focused either on telling stories (e.g. picture books and adventure comics) or transforming the code into something more tangible (e.g. manipulating physical blocks or using graphic representations to create programs) but these prior works didn't make the step from the concrete systems they created to actual code so this team created and tested a system (Coding Strips) to develop comics that could be directly tied to real code.</p>
</div>
</div>
<div class="outline-2" id="outline-container-org1fbd1e3">
<h2 id="org1fbd1e3">Cite</h2>
<div class="outline-text-2" id="text-org1fbd1e3">
<ul class="org-ul">
<li>Suh S, Lee M, Xia G. Coding strip: A pedagogical tool for teaching and learning programming concepts through comics. In2020 IEEE Symposium on Visual Languages and Human-Centric Computing (VL/HCC) 2020 Aug 10 (pp. 1-10). IEEE.</li>
</ul>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/coding-comics-recursion/">Coding Comics: Recursion</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/coding-comics-recursion/" rel="bookmark"><time class="published dt-published" datetime="2021-01-27T15:59:39-08:00" itemprop="datePublished" title="2021-01-27 15:59">2021-01-27 15:59</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/coding-comics-recursion/#org718c767">What Is This?</a></li>
<li><a href="posts/coding-comics-recursion/#orgaa120ad">The Comic</a></li>
<li><a href="posts/coding-comics-recursion/#org3abf4e7">In English-Ish</a>
<ul>
<li><a href="posts/coding-comics-recursion/#orgf534fcc">Forward</a></li>
<li><a href="posts/coding-comics-recursion/#org05f5ff4">Base Case</a></li>
<li><a href="posts/coding-comics-recursion/#orga4d8386">Backwards</a></li>
</ul>
</li>
<li><a href="posts/coding-comics-recursion/#org94608c0">The Code</a>
<ul>
<li><a href="posts/coding-comics-recursion/#org5340c6f">A Person</a></li>
<li><a href="posts/coding-comics-recursion/#org1dc0a50">The Recursion</a></li>
<li><a href="posts/coding-comics-recursion/#orgd718fff">Check If It Works</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org718c767">
<h2 id="org718c767">What Is This?</h2>
<div class="outline-text-2" id="text-org718c767">
<p>This is a re-working of the <a href="posts/coding-strip/">Coding Strip</a> Recursion example. Not because I can do it better, but because I've never done one before so stealing their idea seems like an easier way to start. In the original they had a comic showing a character who wants to buy a ticket but there's a long line so she asks the person in front of her how many people are in front of him, and he asks the person in front of him, and so on. They then followed up the comics with some code that translated the comic to a concrete function.</p>
</div>
</div>
<div class="outline-2" id="outline-container-orgaa120ad">
<h2 id="orgaa120ad">The Comic</h2>
<div class="outline-text-2" id="text-orgaa120ad">
<p>(Coming Soon)</p>
</div>
</div>
<div class="outline-2" id="outline-container-org3abf4e7">
<h2 id="org3abf4e7">In English-Ish</h2>
<div class="outline-text-2" id="text-org3abf4e7"></div>
<div class="outline-3" id="outline-container-orgf534fcc">
<h3 id="orgf534fcc">Forward</h3>
<div class="outline-text-3" id="text-orgf534fcc">
<p>To find the length of the line, each person asks the person in front how many people are in front of them.</p>
</div>
</div>
<div class="outline-3" id="outline-container-org05f5ff4">
<h3 id="org05f5ff4">Base Case</h3>
<div class="outline-text-3" id="text-org05f5ff4">
<p>When the person at the front of the line is reached, he reports that there's no one in front of him (zero).</p>
</div>
</div>
<div class="outline-3" id="outline-container-orga4d8386">
<h3 id="orga4d8386">Backwards</h3>
<div class="outline-text-3" id="text-orga4d8386">
<p>Once the front of the line is reached, each person then relays back how many people the person in front reports and adds one to include the person who reported the count until the back of the line is reached.</p>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org94608c0">
<h2 id="org94608c0">The Code</h2>
<div class="outline-text-2" id="text-org94608c0">
<p>Here's some code to illustrate the idea of asking the person in front of you how many people are in front of them and having that question propagate forward and then have the answer propagate back.</p>
</div>
<div class="outline-3" id="outline-container-org5340c6f">
<h3 id="org5340c6f">A Person</h3>
<div class="outline-text-3" id="text-org5340c6f">
<p>I originally thought of using a list, but then you'd have to criple the length method… so I'm making a linked list of a sorts, where each person knows the person in front of them.</p>
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="sd">"""A person in line</span>
<span class="sd">    """</span>
    <span class="n">person_in_front</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-org1dc0a50">
<h3 id="org1dc0a50">The Recursion</h3>
<div class="outline-text-3" id="text-org1dc0a50">
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">hey_fella_how_many_people_are_in_front_of_me</span><span class="p">(</span><span class="n">fella</span><span class="p">:</span> <span class="n">Person</span><span class="p">):</span>
    <span class="sd">"""Finds out how many people are in front of current person</span>

<span class="sd">    Args:</span>
<span class="sd">     fella: the current person being asked</span>

<span class="sd">    Returns:</span>
<span class="sd">     Number of people in front (including last person)</span>
<span class="sd">    """</span>
    <span class="n">COUNT_THIS_FELLA</span> <span class="o">=</span> <span class="mi">1</span>    
    <span class="k">if</span> <span class="n">fella</span><span class="o">.</span><span class="n">person_in_front</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">COUNT_THIS_FELLA</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">hey_fella_how_many_people_are_in_front_of_me</span><span class="p">(</span><span class="n">fella</span><span class="o">.</span><span class="n">person_in_front</span><span class="p">)</span>
            <span class="o">+</span> <span class="n">COUNT_THIS_FELLA</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-orgd718fff">
<h3 id="orgd718fff">Check If It Works</h3>
<div class="outline-text-3" id="text-orgd718fff">
<p>Now I'll create a line of unknown length so we can check it.</p>
<div class="highlight">
<pre><span></span><span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">ascii_letters</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">waiting</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">line_of_people</span><span class="p">(</span><span class="n">people</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Person</span><span class="p">:</span>
    <span class="sd">"""Builds the lengthless line</span>

<span class="sd">    Args:</span>
<span class="sd">     people: how many people to queue up</span>

<span class="sd">    Returns:</span>
<span class="sd">     line of people</span>
<span class="sd">    """</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">this_person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">waiting</span><span class="p">):</span>
        <span class="n">this_person</span><span class="o">.</span><span class="n">person_in_front</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
        <span class="n">this_person</span> <span class="o">=</span> <span class="n">this_person</span><span class="o">.</span><span class="n">person_in_front</span>
    <span class="k">return</span> <span class="n">line</span>

<span class="n">in_line</span> <span class="o">=</span> <span class="n">line_of_people</span><span class="p">(</span><span class="n">waiting</span><span class="p">)</span>
</pre></div>
<p>So at this point we have a line of people of unknown length. Each person only knows the existence of the person in front of them so there's no way to get the length of the line directly, but we can use the recursive function to find out how many people there are.</p>
<div class="highlight">
<pre><span></span><span class="n">reported</span> <span class="o">=</span> <span class="n">hey_fella_how_many_people_are_in_front_of_me</span><span class="p">(</span><span class="n">in_line</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Expected: </span><span class="si">{</span><span class="n">waiting</span><span class="si">}</span><span class="s2">, Actual: </span><span class="si">{</span><span class="n">reported</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">waiting</span> <span class="o">==</span> <span class="n">reported</span>
</pre></div>
<pre class="example">
Expected: 539, Actual: 539
</pre>
<p>Seems to be working.</p>
</div>
</div>
</div>
</div>
</article>
</div>
<ul class="pager postindexpager clearfix">
<li class="previous"><a href="." rel="prev">Newer posts</a></li>
<li class="next"><a href="index-19.html" rel="next">Older posts</a></li>
</ul>
<!--End of body content-->
<footer id="footer">Contents © 2022 <a href="mailto:cloisteredmonkey.jmark@slmail.me">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
</div>
</div>
<script src="assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script>
</body>
</html>
