<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="Encrypting folders for cloud synchronization." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Encrypt Dropbox Folders on Ubuntu With CryFS | The Cloistered Monkey</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../rss.xml" hreflang="en" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/" rel="canonical"><!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
<link href="../../apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="../../favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="../../favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="../../site.webmanifest" rel="manifest">
<meta content="Cloistered Monkey" name="author">
<link href="../grep-coroutines/" rel="prev" title="Grep Coroutines" type="text/html">
<link href="../bibliography/bibliography-how-to-take-smart-notes/" rel="next" title="How To Take Smart Notes" type="text/html">
<meta content="The Cloistered Monkey" property="og:site_name">
<meta content="Encrypt Dropbox Folders on Ubuntu With CryFS" property="og:title">
<meta content="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/" property="og:url">
<meta content="Encrypting folders for cloud synchronization." property="og:description">
<meta content="article" property="og:type">
<meta content="2018-12-10T12:41:05-08:00" property="article:published_time">
<meta content="dropbox" property="article:tag">
<meta content="encryption" property="article:tag">
<meta content="linux" property="article:tag">
<meta content="ubuntu" property="article:tag">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="../../"><span id="blog-title">The Cloistered Monkey</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../pages/">Pages</a></li>
<li class="nav-item"><a class="nav-link" href="../../archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="../../categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="../../rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Projects</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/Ape-Iron/">Ape Iron</a> <a class="dropdown-item" href="https://necromuralist.github.io/Beach-Pig-Thigh/">Beach Pig Thigh & Rump</a> <a class="dropdown-item" href="https://necromuralist.github.io/Bowling-For-Data/">Bowling For Data</a> <a class="dropdown-item" href="https://necromuralist.github.io/Neurotic-Networking/">Neurotic Networking</a> <a class="dropdown-item" href="https://necromuralist.github.io/Visions-Voices-Data/">Visions, Voices, Data</a></div>
</li>
</ul>
<!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Search" type="text"></div>
<!-- 
<button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-search"></span>
</button>
-->
<input name="sitesearch" type="hidden" value="https://necromuralist.github.io/"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right">
<li class="nav-item"><a class="nav-link" href="index.org" id="sourcelink">Source</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">Encrypt Dropbox Folders on Ubuntu With CryFS</a></h1>
<div class="metadata">
<p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author"><a class="u-url" href="../../authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2018-12-10T12:41:05-08:00" itemprop="datePublished" title="2018-12-10 12:41">2018-12-10 12:41</time> <span class="updated">(updated <time class="updated dt-updated" datetime="2021-12-04T12:41:05-08:00" itemprop="dateUpdated" title="2021-12-04 12:41">2021-12-04 12:41</time>)</span></a></p>
<p class="sourceline"><a class="sourcelink" href="index.org">Source</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org666c8bd">Introduction</a></li>
<li><a href="#orgf0260b0">Encrypt the Folders</a>
<ul>
<li><a href="#orgc01d7dd">Install It</a></li>
<li><a href="#org6962a27">Create the Target and Source Folders</a></li>
<li><a href="#org263cb19">Unmount It</a></li>
</ul>
</li>
<li><a href="#orgeb204a5">References</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org666c8bd">
<h2 id="org666c8bd">Introduction</h2>
<div class="outline-text-2" id="text-org666c8bd">
<p>This is one way to encrypt the contents for cloud-synchronized folders using <a href="https://www.cryfs.org/">CryFS</a>. I'm going to illustrate it using the <code>Dropbox</code> folder that the <a href="https://www.dropbox.com/">dropbox client</a> creates.</p>
</div>
</div>
<div class="outline-2" id="outline-container-orgf0260b0">
<h2 id="orgf0260b0">Encrypt the Folders</h2>
<div class="outline-text-2" id="text-orgf0260b0"></div>
<div class="outline-3" id="outline-container-orgc01d7dd">
<h3 id="orgc01d7dd">Install It</h3>
<div class="outline-text-3" id="text-orgc01d7dd">
<p>Ubuntu currently (November 10, 2018) has <code>CryFS</code> as part of its packages so you can install it with apt.</p>
<div class="highlight">
<pre><span></span>sudo apt install cryfs
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-org6962a27">
<h3 id="org6962a27">Create the Target and Source Folders</h3>
<div class="outline-text-3" id="text-org6962a27">
<p>The <code>cryfs</code> command will create the two folders and set them up for you. The syntax is <code>cryfs &lt;target&gt; &lt;source&gt;</code>. The <code>target</code> will contain the encrypted folders so it will go in the Dropbox folder, while the <code>source</code> will hold the unencrypted files.</p>
<div class="highlight">
<pre><span></span>cryfs Dropbox/encrypted dropbox_source
</pre></div>
<p>This is the same command you would use on another computer to set-up the existing encrypted folder on your new computer. The <code>source</code> folder can be named differently, but the <code>target</code> folder and the password need to be the same one you used when you created it. The files in the <code>source</code> go away when you unmount it (see <a href="#org263cb19">below</a>) so you will have to re-mount it whenever you unmount it or log out or restart your computer.</p>
<p><b>Note:</b> The <a href="https://www.cryfs.org/tutorial">cryfs tutorial</a> has a warning that if two different computers access the mounted folder at the same time it can corrupt the files so you have to make sure to unmount it on one computer before mounting it on another. This seems like a really bad thing, but I guess you should/oughta make backups of the unencrypted stuff just in case.</p>
</div>
</div>
<div class="outline-3" id="outline-container-org263cb19">
<h3 id="org263cb19">Unmount It</h3>
<div class="outline-text-3" id="text-org263cb19">
<p>The old way to unmount it was using <a href="http://manpages.ubuntu.com/manpages/cosmic/man1/fusermount.1.html">fusermount</a> but they've added a <code>cryfs-unmount</code> command which you can/should use instead.</p>
<div class="highlight">
<pre><span></span>cryfs-unmount dropbox_source
</pre></div>
<p>This was the old way.</p>
<div class="highlight">
<pre><span></span>fusermount -u dropbox_source
</pre></div>
<p>Since you are doing all this within your home directory you don't need root privileges (except to install <code>cryfs</code> with apt).</p>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-orgeb204a5">
<h2 id="orgeb204a5">References</h2>
<div class="outline-text-2" id="text-orgeb204a5">
<ul class="org-ul">
<li>I got this from <a href="https://www.linuxbabe.com/ubuntu/encrypt-dropbox-ubuntu-16-04-17-10-desktop-server">Linux Babe</a>.</li>
<li>But the <a href="https://www.cryfs.org/tutorial">CryFS Tutorial</a> is pretty straight-forward, it just skips the part about installing cryfs.</li>
</ul>
</div>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../categories/dropbox/" rel="tag">dropbox</a></li>
<li><a class="tag p-category" href="../../categories/encryption/" rel="tag">encryption</a></li>
<li><a class="tag p-category" href="../../categories/linux/" rel="tag">linux</a></li>
<li><a class="tag p-category" href="../../categories/ubuntu/" rel="tag">ubuntu</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../grep-coroutines/" rel="prev" title="Grep Coroutines">Previous post</a></li>
<li class="next"><a href="../bibliography/bibliography-how-to-take-smart-notes/" rel="next" title="How To Take Smart Notes">Next post</a></li>
</ul>
</nav>
</aside>
</article>
<!--End of body content-->
<footer id="footer">Scribbled by the <a href="mailto:cloisteredmonkey.jmark@slmail.me">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a>
<div id="license" xmlns:cc="http://creativecommons.org/ns#">This work is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" rel="license noopener noreferrer" style="display:inline-block;" target="_blank">CC BY 4.0 <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"></a></div>
</footer>
</div>
</div>
<script src="../../assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script>
</body>
</html>
