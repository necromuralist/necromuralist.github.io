<html><body><span style="font-family: Georgia, Times New Roman, serif;">Normally when installing a package that I'm working on I'm using a <i>virtualenv </i>so it's installed within that environment only, but I wanted to test part of my code that was using ssh to run a command that I didn't want to install system-wide. Creating a virtualenv for the test-user and activating it before running the command via ssh seemed excessive (and maybe not possible - I didn't try) but it turns out that you can install packages at the user-level using the 'setup.py' file.</span><br><span style="font-family: Georgia, Times New Roman, serif;"><br></span><span style="font-family: Georgia, Times New Roman, serif;">In this case I wanted the setup.py to create a command-line command called 'rotate' and install it in the user's </span><span style="font-family: Courier New, Courier, monospace;">~/bin</span><span style="font-family: Georgia, Times New Roman, serif;"> folder so I could run it something like this:</span><br><br><span style="font-family: Courier New, Courier, monospace;">ssh test@localhost rotate 90</span><br><br><span style="font-family: Georgia, Times New Roman, serif;">First I changed the .</span><span style="font-family: Courier New, Courier, monospace;">bashrc</span><span style="font-family: Georgia, Times New Roman, serif;"> to add the bin folder to the </span><span style="font-family: Courier New, Courier, monospace;">PATH</span><span style="font-family: Georgia, Times New Roman, serif;">:</span><br><span style="font-family: Georgia, Times New Roman, serif;"><br></span><span style="font-family: Courier New, Courier, monospace;">PATH=$HOME/bin:$PATH</span><br><span style="font-family: Georgia, Times New Roman, serif;"><br></span><span style="font-family: Georgia, Times New Roman, serif;"> This has to be added to the top of the .</span><span style="font-family: Courier New, Courier, monospace;">bashrc</span><span style="font-family: Georgia, Times New Roman, serif;"> file because the first thing there by default is a conditional that prevents it from using the things in the .</span><span style="font-family: Courier New, Courier, monospace;">bashrc</span><span style="font-family: Georgia, Times New Roman, serif;"> file:</span><br><span style="font-family: Georgia, Times New Roman, serif;"><br></span><span style="font-family: Courier New, Courier, monospace;"># If not running interactively, don't do anything</span><br><span style="font-family: Courier New, Courier, monospace;">case $- in</span><br><span style="font-family: Courier New, Courier, monospace;">    *i*) ;;</span><br><span style="font-family: Courier New, Courier, monospace;">      *) return;;</span><br><br><span style="font-family: Courier New, Courier, monospace;">esac</span><br><div><br></div><div>Next I changed into the directory where the package's setup.py file was and installed the package:</div><div><br></div><div><span style="font-family: Courier New, Courier, monospace;">python setup.py install --install-scripts=$HOME/bin --user</span></div><div><span style="font-family: Courier New, Courier, monospace;"><br></span></div><div><span style="font-family: Georgia, Times New Roman, serif;">The </span><span style="font-family: Courier New, Courier, monospace;">--user</span><span style="font-family: Georgia, Times New Roman, serif;"> option is what tells python to install it for the local user instead of </span><span style="font-family: Courier New, Courier, monospace;">/usr/local/bin</span><span style="font-family: Georgia, Times New Roman, serif;"> and the </span><span style="font-family: Courier New, Courier, monospace;">--install-scripts </span><span style="font-family: Georgia, Times New Roman, serif;">tells it where to put the commands it creates. Without the </span><span style="font-family: Courier New, Courier, monospace;">--install-scripts</span><span style="font-family: Georgia, Times New Roman, serif;"> option it will install it in </span><span style="font-family: Courier New, Courier, monospace;">.local/bin </span><span style="font-family: Georgia, Times New Roman, serif;">so another option would be to change the </span><span style="font-family: Courier New, Courier, monospace;">PATH </span><span style="font-family: Georgia, Times New Roman, serif;">variable instead:</span></div><div><span style="font-family: Georgia, Times New Roman, serif;"><br></span></div><div><span style="font-family: 'Courier New', Courier, monospace;">PATH=$HOME/.local/bin:$PATH</span></div><div><span style="font-family: 'Courier New', Courier, monospace;"><br></span></div><div><span style="font-family: Georgia, Times New Roman, serif;">But I use </span><span style="font-family: Courier New, Courier, monospace;">~/bin</span><span style="font-family: Georgia, Times New Roman, serif;"> for other commands anyway so it seemed to make more sense to put it there.</span></div><div><span style="font-family: Georgia, Times New Roman, serif;"><br></span></div><div><span style="font-family: Georgia, Times New Roman, serif;">OS : Ubuntu 14.04.1 LTS</span></div><div><span style="font-family: Georgia, Times New Roman, serif;">Python: 2.7.6</span></div></body></html>