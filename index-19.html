<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="A common place." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>The Cloistered Monkey (old posts, page 19) | The Cloistered Monkey</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="rss.xml" hreflang="en" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/index-19.html" rel="canonical">
<link href="." rel="prev" type="text/html">
<link href="index-18.html" rel="next" type="text/html"><!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
<link href="apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="site.webmanifest" rel="manifest">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="."><span id="blog-title">The Cloistered Monkey</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Projects</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/Anechoic-Echolalia/">Anechoic Echolalia</a> <a class="dropdown-item" href="https://necromuralist.github.io/Ape-Iron/">Ape Iron</a> <a class="dropdown-item" href="https://necromuralist.github.io/Homunculi-Hypergraphia/">Honumculi Hypergraphia</a> <a class="dropdown-item" href="https://necromuralist.github.io/Neurotic-Networking/">Neurotic Networking</a> <a class="dropdown-item" href="machine-learning-projects/">Machine Learning</a> <a class="dropdown-item" href="https://necromuralist.github.io/student_intervention/">Student Intervention Project</a> <a class="dropdown-item" href="https://necromuralist.github.io/boston_housing/">Boston Housing Project</a> <a class="dropdown-item" href="https://necromuralist.github.io/data_science/">Data Science With Python</a> <a class="dropdown-item" href="https://necromuralist.github.io/Visions-Voices-Data/">Visions, Voices, Data</a></div>
</li>
</ul>
<!-- Google custom search -->
<form action="https://www.google.com/search" class="navbar-form navbar-right" method="get" role="search">
<div class="form-group"><input class="form-control" name="q" placeholder="Search" type="text"></div>
<!-- 
<button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-search"></span>
</button>
-->
<input name="sitesearch" type="hidden" value="https://necromuralist.github.io/"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<div class="postindex">
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/brute-force-longest-non-decreasing-sub-sequence/">Brute Force Longest Non-Decreasing Sub-Sequence</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/brute-force-longest-non-decreasing-sub-sequence/" rel="bookmark"><time class="published dt-published" datetime="2020-11-09T17:32:26-08:00" itemprop="datePublished" title="2020-11-09 17:32">2020-11-09 17:32</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/brute-force-longest-non-decreasing-sub-sequence/#org26fdfef">The Problem</a></li>
<li><a href="posts/brute-force-longest-non-decreasing-sub-sequence/#org1b68428">Brute Force</a>
<ul>
<li><a href="posts/brute-force-longest-non-decreasing-sub-sequence/#orga67ecc4">Example One</a></li>
</ul>
</li>
<li><a href="posts/brute-force-longest-non-decreasing-sub-sequence/#org5c51b57">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org26fdfef">
<h2 id="org26fdfef">The Problem</h2>
<div class="outline-text-2" id="text-org26fdfef">
<p>The problem at hand is that we're given a sequence and we want to find the longest combination we can find in it that is non-decreasing (each element after the first is greater than or equal to the previous element).</p>
</div>
</div>
<div class="outline-2" id="outline-container-org1b68428">
<h2 id="org1b68428">Brute Force</h2>
<div class="outline-text-2" id="text-org1b68428">
<p>This will be a brute-force solution using nested for-loops. This will use the <a href="posts/python-itertools-combinations/">itertools.combinations</a> function to generate the candidate solutions.</p>
<div class="highlight">
<pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">combinations</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">brute_force</span><span class="p">(</span><span class="n">sequence</span><span class="p">:</span> <span class="nb">iter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
    <span class="sd">"""Finds the longest non-decreasing sub-sequence</span>

<span class="sd">    Args:</span>
<span class="sd">     sequence: the source collection of items</span>

<span class="sd">    Returns:</span>
<span class="sd">      the longest non-decreasing sub-sequence in the sequence, number of for-loops</span>
<span class="sd">    """</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">length</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sequence</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">sub_sequence</span> <span class="ow">in</span> <span class="n">combinations</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="nb">list</span><span class="p">(</span><span class="n">sub_sequence</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">sub_sequence</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">sub_sequence</span><span class="p">,</span> <span class="n">count</span>
    <span class="k">return</span>
</pre></div>
<p>Here's what it's doing.</p>
<ol class="org-ol">
<li>The outer loop counts down from the length of the sequence to zero.</li>
<li>The inner loop generates combinations of the current length in the outer loop</li>
<li>If the <code>sub_sequence</code> is in sorted (non-decreasing) order then it is as long or longer than any other non-decreasing sub-sequence so choose it as the longest sub-sequence.</li>
</ol>
</div>
<div class="outline-3" id="outline-container-orga67ecc4">
<h3 id="orga67ecc4">Example One</h3>
<div class="outline-text-3" id="text-orga67ecc4">
<div class="highlight">
<pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">actual</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="n">brute_force</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
</pre></div>
<pre class="example">
(1, 2, 4)
18
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-org5c51b57">
<h2 id="org5c51b57">End</h2>
<div class="outline-text-2" id="text-org5c51b57">
<ul class="org-ul">
<li>From <a href="posts/python-algorithms/">Python Algorithms</a></li>
</ul>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/python-itertools-combinations/">Python Itertools Combinations</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/python-itertools-combinations/" rel="bookmark"><time class="published dt-published" datetime="2020-11-09T16:11:26-08:00" itemprop="datePublished" title="2020-11-09 16:11">2020-11-09 16:11</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/python-itertools-combinations/#org58ce41f">What?</a></li>
<li><a href="posts/python-itertools-combinations/#orgf5e9778">Okay, but what?</a>
<ul>
<li><a href="posts/python-itertools-combinations/#org6eabef0">A Count Function</a></li>
<li><a href="posts/python-itertools-combinations/#org27a0dd4">Example One</a></li>
<li><a href="posts/python-itertools-combinations/#org5af2ddd">Example Two</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org58ce41f">
<h2 id="org58ce41f">What?</h2>
<div class="outline-text-2" id="text-org58ce41f">
<p>This is a brief note on the python <a href="https://docs.python.org/3/library/itertools.html#itertools.combinations">itertools.combinations</a> function.</p>
<div class="highlight">
<pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">combinations</span>
</pre></div>
<p>To make sure it's behaving the way I think it will I'll also use some other built-ins.</p>
<div class="highlight">
<pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">count</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">factorial</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">comb</span> <span class="k">as</span> <span class="n">n_choose_k</span>
</pre></div>
</div>
</div>
<div class="outline-2" id="outline-container-orgf5e9778">
<h2 id="orgf5e9778">Okay, but what?</h2>
<div class="outline-text-2" id="text-orgf5e9778">
<p>The <code>combinations</code> function takes two arguments:</p>
<ul class="org-ul">
<li>iterable: the source that you want to make combinations from</li>
<li>r: the length of the sequences you want to make</li>
</ul>
<p>It returns all the r-length subsequences in the iterable (<a href="https://www.wikiwand.com/en/Combination">combinations</a>).</p>
</div>
<div class="outline-3" id="outline-container-org6eabef0">
<h3 id="org6eabef0">A Count Function</h3>
<div class="outline-text-3" id="text-org6eabef0">
<p>The number of combinations of length <i>k</i> for a sequence of length <i>n</i> is the <a href="https://www.wikiwand.com/en/Binomial_coefficient">Binomial Coefficient</a>.</p>
\begin{align} \binom{n}{k} &amp;= \frac{n(n-1) \cdots (n - k + 1)}{k(k-1) \cdots 1}\\ &amp;= \frac{n!}{k!(n-k)!} \end{align}
<p>I originally implemented a function for this but it turns out it got added to python as of 3.8 (<a href="https://docs.python.org/3/library/math.html#number-theoretic-and-representation-functions">number-theoretic functions</a>). Here's my translation for reference. The calculation is actually really fast so you don't gain a lot from these toy problems using the standard library, but since it's there, why not?</p>
<div class="highlight">
<pre><span></span><span class="k">def</span> <span class="nf">n_choose_k_one</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">"""The Binomial Coefficient</span>

<span class="sd">    Args:</span>
<span class="sd">     n: the length of the source set</span>
<span class="sd">     k: the length of the combinations</span>

<span class="sd">    Returns:</span>
<span class="sd">     the number of combinations in the sequence</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">k</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-org27a0dd4">
<h3 id="org27a0dd4">Example One</h3>
<div class="outline-text-3" id="text-org27a0dd4">
<p>This is given as an example in the documentation.</p>
<div class="highlight">
<pre><span></span><span class="n">EXPECTEDS</span> <span class="o">=</span> <span class="s2">"AB AC AD BC BD CD"</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">SOURCE</span> <span class="o">=</span> <span class="s2">"ABCD"</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">for</span> <span class="n">combination</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">total</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="n">iterable</span><span class="o">=</span><span class="n">SOURCE</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">k</span><span class="p">),</span> <span class="n">EXPECTEDS</span><span class="p">,</span> <span class="n">count</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">" - </span><span class="si">{</span><span class="n">combination</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s2">""</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">combination</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">SOURCE</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">total</span> <span class="o">==</span> <span class="n">n_choose_k</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
</pre></div>
<pre class="example">
- ('A', 'B')
- ('A', 'C')
- ('A', 'D')
- ('B', 'C')
- ('B', 'D')
- ('C', 'D')
</pre>
<p>Note that it treated the string as a sequence and returns a tuple, not a sub-string. Also note that it doesn't swap orders, so "D" is never a first entry, for instance.</p>
</div>
</div>
<div class="outline-3" id="outline-container-org5af2ddd">
<h3 id="org5af2ddd">Example Two</h3>
<div class="outline-text-3" id="text-org5af2ddd">
<p>This one is also from the documentation.</p>
<div class="highlight">
<pre><span></span><span class="n">SOURCE</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">SOURCE</span><span class="p">)</span>
<span class="n">EXPECTEDS</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
             <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
             <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
             <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">for</span> <span class="n">combination</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">total</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="n">SOURCE</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="n">EXPECTEDS</span><span class="p">,</span> <span class="n">count</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">combination</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">combination</span> <span class="o">==</span> <span class="n">expected</span>

<span class="k">assert</span> <span class="n">total</span> <span class="o">==</span> <span class="n">n_choose_k</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
</pre></div>
<pre class="example">
(0, 1, 2)
(0, 1, 3)
(0, 2, 3)
(1, 2, 3)
</pre></div>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/python-algorithms/">Python Algorithms</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/python-algorithms/" rel="bookmark"><time class="published dt-published" datetime="2020-11-09T15:13:36-08:00" itemprop="datePublished" title="2020-11-09 15:13">2020-11-09 15:13</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div class="outline-2" id="outline-container-org2941bbf">
<h2 id="org2941bbf">Citation</h2>
<div class="outline-text-2" id="text-org2941bbf">
<ul class="org-ul">
<li>Hetland ML. Python Algorithms: mastering basic algorithms in the python language. New York, N.Y: Apress; 2010. 316 p. (Expert’s voice in open source).</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orgeaf1995">
<h2 id="orgeaf1995">Notes</h2>
<div class="outline-text-2" id="text-orgeaf1995">
<ul class="org-ul">
<li><a href="https://github.com/apress/python-algorithms-14">GitHub Repository</a> for code in the book.</li>
</ul>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/changing-the-firefox-reader-font/">Changing the Firefox Reader Font</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/changing-the-firefox-reader-font/" rel="bookmark"><time class="published dt-published" datetime="2020-11-08T14:16:45-08:00" itemprop="datePublished" title="2020-11-08 14:16">2020-11-08 14:16</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/changing-the-firefox-reader-font/#org94a4589">What is this about?</a></li>
<li><a href="posts/changing-the-firefox-reader-font/#org970dff5">So how do you do it?</a>
<ul>
<li><a href="posts/changing-the-firefox-reader-font/#org1f5b05d">Creating the <code>chrome</code> Folder</a></li>
<li><a href="posts/changing-the-firefox-reader-font/#org3e45178">userContent.css</a></li>
<li><a href="posts/changing-the-firefox-reader-font/#orgb8df068">Enable It</a></li>
<li><a href="posts/changing-the-firefox-reader-font/#orgee0a817">Oh, and just one more thing…</a></li>
</ul>
</li>
<li><a href="posts/changing-the-firefox-reader-font/#orgd90b27d">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-org94a4589">
<h2 id="org94a4589">What is this about?</h2>
<div class="outline-text-2" id="text-org94a4589">
<p>I've been trying for a while now to figure out how to change the Firefox Reader font. The default (serifed-font) is Georgia, which is nice enough, but I like to change things up now and again. I would sometimes just edit the CSS in the Developer's Tools, but I finally stumbled upon how to do it so I'll save it here for my future self.</p>
</div>
</div>
<div class="outline-2" id="outline-container-org970dff5">
<h2 id="org970dff5">So how do you do it?</h2>
<div class="outline-text-2" id="text-org970dff5">
<p>The procedure is pretty simple, this is it in outline:</p>
<ol class="org-ol">
<li>Create the <code>chrome</code> folder for it if it doesn't exist.</li>
<li>Enable the use of this folder.</li>
<li>Find the CSS you want to change.</li>
<li>Add a <code>userContent.css</code> file to the <code>chrome</code> folder and add the CSS you want to use to it.</li>
<li>Restart Firefox</li>
</ol>
</div>
<div class="outline-3" id="outline-container-org1f5b05d">
<h3 id="org1f5b05d">Creating the <code>chrome</code> Folder</h3>
<div class="outline-text-3" id="text-org1f5b05d">
<p>The configuration files you create go into a <a href="http://kb.mozillazine.org/Chrome_folder">folder named "chrome"</a>. Firefox used to create it for you with example files but doesn't anymore so if you haven't created one you'll have to do so now - but where? It goes into your "profile" folder, but since you can have multiple configurations the path isn't fixed. There's multiple ways listed to find it on the Firefox <a href="http://kb.mozillazine.org/Profile_folder_-_Firefox">Profile folder</a> page. The way I did it was to enter <code>about:support</code> in the address bar.</p>
<img src="posts/changing-the-firefox-reader-font/about-support-address-bar.webp">
<p>This brings up the Troupbleshooting Information page.</p>
<img src="posts/changing-the-firefox-reader-font/about-support.webp">
<p>The bottom of the screenshot is what we want.</p>
<img src="posts/changing-the-firefox-reader-font/profile-directory.webp">
<p>The path displayed is your profile folder (<code>/home/athena/.mozilla/firefox/j3hyuwod.default-1603227893962</code>). You can click on the Open Directory button to open it with the GUI or use the path to navigate to it from your text editor. Within that folder create a folder named <code>chrome</code>. Why <i>chrome</i> when this is firefox? Chrome is apparently <a href="https://developer.mozilla.org/en-US/docs/Glossary/Chrome">not related to google's chrome</a>, but, <a href="http://www.catb.org/~esr/jargon/html/C/chrome.html">according to Eric S. Raymond</a> (and <a href="https://www.wikiwand.com/en/Graphical_user_interface">Wikipedia</a>, etc.) refers to the GUI, or at least some aspects of it. Anyway.</p>
</div>
</div>
<div class="outline-3" id="outline-container-org3e45178">
<h3 id="org3e45178">userContent.css</h3>
<div class="outline-text-3" id="text-org3e45178">
<p>In the <code>chrome</code> folder create a file named <code>userContent.css</code> (here's <a href="http://kb.mozillazine.org/index.php?title=UserContent.css&amp;printable=yes">a mozillaZine article</a> with some information about it) and add your CSS. Looking in the Firefox Inspector with the Reader View open it looks like it just uses the defaults.</p>
<img src="posts/changing-the-firefox-reader-font/body-serif.webp">
<p>But I don't want to change it for every web page so I added it to the <code>.moz-reader-content</code> selector.</p>
<div class="highlight">
<pre><span></span><span class="p">.</span><span class="nc">moz-reader-content</span> <span class="p">{</span> 
    <span class="k">font-family</span><span class="p">:</span> <span class="s2">"TeX Gyre Pagella"</span><span class="p">,</span> <span class="n">Gentium</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Which I also found using the Firefox Inspector.</p>
</div>
</div>
<div class="outline-3" id="outline-container-orgb8df068">
<h3 id="orgb8df068">Enable It</h3>
<div class="outline-text-3" id="text-orgb8df068">
<p>So, you might think that we're done, right? But it turns out that even though Firefox gives you the ability to add custom CSS it doesn't load it by default. I couldn't find anything on the mozillaZine site about how to enable it (although it might be there, I just didn't find it), but there's a www.userchrome.org site that has a <a href="https://www.userchrome.org/how-create-userchrome-css.html">page on setting up userChrome.css</a> (which also talks about creating the <code>chrome</code> folder). <code>userChrome.css</code> is how you can style the Firefox GUI itself (the chrome) so in this case anything specific to that file isn't relevant to what we're doing here, but the rest of the page is.</p>
</div>
<div class="outline-4" id="outline-container-orge8c4cfc">
<h4 id="orge8c4cfc">The Steps</h4>
<div class="outline-text-4" id="text-orge8c4cfc">
<p>First navigate to <code>about:config</code>.</p>
<img src="posts/changing-the-firefox-reader-font/about-config.webp">
<p>If you hadn't previously unchecked the <i>Warn me when I attempt to access these preferences</i> button you'll be greeted with a warning page.</p>
<img src="posts/changing-the-firefox-reader-font/proceed-with-caution.webp">
<p>Once you click on <i>Accept the Risk and Continue</i> or just hit enter, depending on your setup, you'll get to the Advanced Preferences page.</p>
<img src="posts/changing-the-firefox-reader-font/advanced-preferences.webp">
<p>In the search box at the top of the page type in <code>userprof</code>.</p>
<img src="posts/changing-the-firefox-reader-font/userprof.webp">
<p>If it's already set to <code>true</code> then you're all set, otherwise click on the toggle button on the right side.</p>
<img src="posts/changing-the-firefox-reader-font/toggle.webp">
<p>This should flip it from <code>false</code> to <code>true</code>.</p>
<img src="posts/changing-the-firefox-reader-font/true.webp"></div>
</div>
</div>
<div class="outline-3" id="outline-container-orgee0a817">
<h3 id="orgee0a817">Oh, and just one more thing…</h3>
<div class="outline-text-3" id="text-orgee0a817">
<p>Changing the preferences to use the stylesheet doesn't load the actual stylesheet. To actually get it all working restart Firefox and try out the reader on a page.</p>
<p>In my case it changed the <a href="https://en.wikipedia.org/wiki/Rhetorica_ad_Herennium?oldformat=true">Wikipedia page on Rhetorica ad Herennium</a> from this.</p>
<img src="posts/changing-the-firefox-reader-font/default-text.webp">
<p>To this.</p>
<img src="posts/changing-the-firefox-reader-font/palladio-content.webp">
<p>Not that dramatic in this case, but I still haven't found my favorite font. Also only the content was changed, not the headers… I'll have to look into that. Anyway, if you look in the Inspector the new CSS should show up.</p>
<img src="posts/changing-the-firefox-reader-font/moz-reader-content.webp"></div>
</div>
</div>
<div class="outline-2" id="outline-container-orgd90b27d">
<h2 id="orgd90b27d">End</h2>
<div class="outline-text-2" id="text-orgd90b27d">
<p>So, that's one way to change the font for the Firefox Reader. Not exciting, but finding out how to do it was hard enough that I thought I should note it for later.</p>
</div>
</div>
</div>
</article>
<article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title"><a class="u-url" href="posts/javascript-in-org-babel/">Javascript in Org-Babel</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author"><a href="authors/cloistered-monkey/">Cloistered Monkey</a></span></p>
<p class="dateline"><a href="posts/javascript-in-org-babel/" rel="bookmark"><time class="published dt-published" datetime="2020-10-16T20:48:55-07:00" itemprop="datePublished" title="2020-10-16 20:48">2020-10-16 20:48</time></a></p>
</div>
</header>
<div class="p-summary entry-summary">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="posts/javascript-in-org-babel/#orgc4f7af0">Beginning</a></li>
<li><a href="posts/javascript-in-org-babel/#org57120e7">Middle</a>
<ul>
<li><a href="posts/javascript-in-org-babel/#org9eab1cf">Prerequites</a></li>
<li><a href="posts/javascript-in-org-babel/#org2dc9550">init.el</a></li>
<li><a href="posts/javascript-in-org-babel/#orga583ad1">Try It</a></li>
</ul>
</li>
<li><a href="posts/javascript-in-org-babel/#org195e547">End</a></li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orgc4f7af0">
<h2 id="orgc4f7af0">Beginning</h2>
<div class="outline-text-2" id="text-orgc4f7af0">
<p>This is a test of running javascript in org-babel blocks. For some reason I couldn't find any documentation about setting it up so this is also a place for me to collect what to do.</p>
<p><b>Note:</b> I actually did use <a href="https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-js.html">this org-babel page</a> for some of it, but it wasn't enough for me to really figure out what was going on.</p>
</div>
</div>
<div class="outline-2" id="outline-container-org57120e7">
<h2 id="org57120e7">Middle</h2>
<div class="outline-text-2" id="text-org57120e7"></div>
<div class="outline-3" id="outline-container-org9eab1cf">
<h3 id="org9eab1cf">Prerequites</h3>
<div class="outline-text-3" id="text-org9eab1cf"></div>
<div class="outline-4" id="outline-container-org116d9d7">
<h4 id="org116d9d7">Node</h4>
<div class="outline-text-4" id="text-org116d9d7">
<p>Since javascript is an interpreted language you need an interpreter to run code blocks. Org-babel assumes you're using <a href="https://nodejs.org/en/">node.js</a> so you need to install it and make sure it's on the <code>PATH</code>. They do support debian-based systems (including Ubuntu, which I use) but they don't use the traditional PPA system. Instead they have different installs for the different versions - but they do have a Long-Term Support (LTS) version which I'm hoping updates so that's what I installed.</p>
<div class="highlight">
<pre><span></span>curl -sL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt-get install -y nodejs
</pre></div>
<p>As of this writing it install version 12.19.0, versus the Ubuntu 20.04 version of 10.19.0.</p>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-org2dc9550">
<h3 id="org2dc9550">init.el</h3>
<div class="outline-text-3" id="text-org2dc9550">
<p>Besides installing node you have to make sure that you add <code>js</code> to your org-babel set up.</p>
<div class="highlight">
<pre><span></span>(org-babel-do-load-languages
 'org-babel-load-languages
 '((js . t)))
</pre></div>
<p>If you already have other languages added this just goes in the same block.</p>
<div class="highlight">
<pre><span></span>(org-babel-do-load-languages
 'org-babel-load-languages
 '((plantuml . t)
   (shell . t)
   (emacs-lisp . t)
   (latex . t)
   (ditaa . t)
   (js . t)
   (python . t)
   (jupyter . t)
   ))
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-orga583ad1">
<h3 id="orga583ad1">Try It</h3>
<div class="outline-text-3" id="text-orga583ad1">
<p>Now that it's set up you can execute javascript in org-babel code blocks, designating them as <code>js</code> blocks (e.g. <code>#+begin_src js :results output :exports both</code>).</p>
<p>Here's a simple output block.</p>
<div class="highlight">
<pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
</pre></div>
<pre class="example">
test
</pre>
<div class="highlight">
<pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="s1">'apple'</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="s1">'banana'</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">)</span>
</pre></div>
<pre class="example">
apple
applebanana
</pre>
<p>One thing to note is that this doesn't seem create sessions that persist across blocks. Even though I defined <code>x</code> and <code>y</code> in the previous block, this next block raises an error because it doesn't think I've defined <code>y</code>.</p>
<div class="highlight">
<pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>
</pre></div>
<p>If you try and put a session argument in the org-babel header you'll get a message saying "Session evaluation with node.js not supported". According to the <a href="https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-js.org.html">org-babel-js documentation</a> you can put in special headers to run the code in an alternate REPL, but I tried it and the output ends up in a separate buffer rather than showing up in the org-document, which seems to kind of lessen the usefulness of it. Also the js-comint version dumps extra text into the REPL as well.</p>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org195e547">
<h2 id="org195e547">End</h2>
<div class="outline-text-2" id="text-org195e547">
<p>Okay, so this was a very basic hello world for javascript in emacs. The lack of sessions is kind of disappointing, but I don't know how useful this is going to be, anyway, since javascript is so tied to the browser, but there it is.</p>
</div>
</div>
</div>
</article>
</div>
<ul class="pager postindexpager clearfix">
<li class="previous"><a href="." rel="prev">Newer posts</a></li>
<li class="next"><a href="index-18.html" rel="next">Older posts</a></li>
</ul>
<script crossorigin="anonymous" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">

        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
</script><!--End of body content-->
<footer id="footer">Contents © 2021 <a href="mailto:cloisteredmonkey.jmark@slmail.me">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
</div>
</div>
<script src="assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script>
</body>
</html>
