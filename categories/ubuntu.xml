<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>The Cloistered Monkey (Posts about ubuntu)</title><link>https://necromuralist.github.io/</link><description></description><atom:link href="https://necromuralist.github.io/categories/ubuntu.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2020 &lt;a href="mailto:necromuralist@protonmail.com"&gt;Cloistered Monkey&lt;/a&gt; </copyright><lastBuildDate>Fri, 25 Sep 2020 02:33:53 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Mounting An Encrypted USB Drive From the Command Line</title><link>https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/#org68f3032"&gt;Beginning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/#org579e05d"&gt;Middle&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/#org7d4f470"&gt;Find the USB Device Name&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/#org3339004"&gt;Unlock the Drive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/#org6b34b21"&gt;Mount the Drive&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/#org85365c8"&gt;End&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/#orga4cdb3a"&gt;Sources&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org68f3032" class="outline-2"&gt;
&lt;h2 id="org68f3032"&gt;Beginning&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org68f3032"&gt;
&lt;p&gt;
I have a headless server that I use as sort of a remote heavy-lifter for my code and attached to it is a USB drive that I use for data files. Since USB drives are portable I decided to encrypt it with LUKS, which is easy enough to use on the desktop in ubuntu (the "files" GUI prompts you for the password and handles everything for you after that) but since I use the server headless I have to be able to mount it from the command line. If you search for it there's a Stack Overflow thread that tells you mostly how to do it but:
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;I didn't know the &lt;code&gt;/dev&lt;/code&gt; file to use&lt;/li&gt;
&lt;li&gt;Like many Stack Overflow threads there's a lot of noise that isn't relevant to me&lt;/li&gt;
&lt;li&gt;I want to be able to remember how to do this without having to search for it and click through different links to figure out which one has the right information for me&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
So, here's the subset of steps that I did to mount the drive.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org579e05d" class="outline-2"&gt;
&lt;h2 id="org579e05d"&gt;Middle&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org579e05d"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org7d4f470" class="outline-3"&gt;
&lt;h3 id="org7d4f470"&gt;Find the USB Device Name&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org7d4f470"&gt;
&lt;p&gt;
The first think to do is to make sure that the USB device is recognized by the operating system.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;lsusb
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Which produced a lot of listings, the most relevant one being:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Bus 001 Device 002: ID 1058:0748 Western Digital Technologies, Inc. My Passport (WDBKXH, WDBY8L)
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Which is the drive I wanted to unencrypt and mount. The next thing is to find the file name (in this case I know the name of the device - "My Passport" - so I used &lt;code&gt;grep&lt;/code&gt;, otherwise I'd use &lt;code&gt;less&lt;/code&gt;).
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo fdisk -l | grep "My Passport" -B 1
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Which currently gives this:
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Partition 2 does not start on physical sector boundary.
Disk /dev/sdb: 931.49 GiB, 1000170586112 bytes, 1953458176 sectors
Disk model: My Passport 0748
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
It might have looked a little different when I originally ran it since the drive is already mounted but whatever is in that second line is what we want (I think it said &lt;code&gt;/dev/sdb1&lt;/code&gt; before I mounted it, but anyway, just check it).
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org3339004" class="outline-3"&gt;
&lt;h3 id="org3339004"&gt;Unlock the Drive&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org3339004"&gt;
&lt;p&gt;
Next unlock the drive. When you do this it will create a file in &lt;code&gt;/dev/mapper/&lt;/code&gt; that you'll need so it would be a good idea to see what's there before you run it.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ls /dev/mapper/
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
And then do the decrypting.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;udiskctl unlock -b /dev/sdb1
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This will bring up two prompts for you to fill out which are (confusingly) "Passphrase:" and "Password:". The first prompt ("Passphrase") is what you entered when the disk was encrypted so you need to enter whatever you normally enter to decrypt the disk. The second prompt ("Password:") is your admin password so that the program can run as root (assuming you have the right privileges).
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org6b34b21" class="outline-3"&gt;
&lt;h3 id="org6b34b21"&gt;Mount the Drive&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org6b34b21"&gt;
&lt;p&gt;
If the last command went okay you now need to mount it. There's going to be a file in &lt;code&gt;/dev/mapper&lt;/code&gt; that you need to know. When I did it there was only one new file (&lt;code&gt;luks-3eea956c-e684-4bcb-a640-97d0c8c5a700&lt;/code&gt;) so I didn't have to do anything special to get it.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;udisksctl mount -b /dev/mapper/luks-3eea956c-e684-4bcb-a640-97d0c8c5a700
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
If you run the command &lt;code&gt;lsblk -e7&lt;/code&gt; it will show you a tree with the &lt;code&gt;/dev/mapper/&lt;/code&gt; file mapped to the mount point where you can access it.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sdb                                             8:16   0 931.5G  0 disk  
└─sdb1                                          8:17   0 931.5G  0 part  
  └─luks-3eea956c-e684-4bcb-a640-97d0c8c5a700 253:3    0 931.5G  0 crypt /media/hades/WDData
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
So in this case the drive is accessible at &lt;code&gt;/media/hades/WDData&lt;/code&gt; (it's always the same place but I wanted to document the &lt;code&gt;lsblk -e7&lt;/code&gt; command).
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org85365c8" class="outline-2"&gt;
&lt;h2 id="org85365c8"&gt;End&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org85365c8"&gt;
&lt;p&gt;
So, for my future self, if you need to mount an encrypted USB drive without a GUI, there you go. The two main steps are find the file for the USB drive and then run udiskctl.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo fdisk -l
udiskctl unlock -b /dev/sdb1
udisksctl mount -b /dev/mapper/luks-3eea956c-e684-4bcb-a640-97d0c8c5a700
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orga4cdb3a" class="outline-3"&gt;
&lt;h3 id="orga4cdb3a"&gt;Sources&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orga4cdb3a"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;a href="https://sourcedigit.com/21292-list-usb-devices-ubuntu-find-usb-device-name-linux-ubuntu/"&gt;sourcedigit.com&lt;/a&gt; - "How To List USB Devices On Ubuntu – Find USB Device Name On Linux Ubuntu"&lt;/li&gt;
&lt;li&gt;&lt;a href="https://askubuntu.com/questions/63594/mount-encrypted-volumes-from-command-line"&gt;Stack Overflow&lt;/a&gt; - "Mount encrypted volumes from command line?"&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>how-to</category><category>ubuntu</category><guid>https://necromuralist.github.io/posts/mounting-an-encrypted-usb-drive/</guid><pubDate>Fri, 25 Sep 2020 01:26:30 GMT</pubDate></item><item><title>Changing the First Day of the Week in Ubuntu 20.04</title><link>https://necromuralist.github.io/posts/changing-the-first-day-of-the-week-in-ubuntu-2004/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="outline-container-org50e59f3" class="outline-2"&gt;
&lt;h2 id="org50e59f3"&gt;Beginning&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org50e59f3"&gt;
&lt;p&gt;
I like to have my calendars set up with Monday as the first day of the week, but being that I live in the United States most calendars default to starting the week on Sunday - including the Gnome calendar applet - and while searching pulls up quite a number of pages about how to do it, no one of them quite worked for me so I'm documenting what did work. 
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgdbb179d" class="outline-2"&gt;
&lt;h2 id="orgdbb179d"&gt;Making the Changes&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgdbb179d"&gt;
&lt;p&gt;
First, over at &lt;a href="http://www.beginninglinux.com/home/gnome/change-first-day-of-week-to-monday-on-ubuntu-gnome-calendar"&gt;Beginning Linux&lt;/a&gt; they mentioned that you can find out which file to edit using the &lt;a href="https://man7.org/linux/man-pages/man1/locale.1.html"&gt;locale&lt;/a&gt; command.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# run this in the shell&lt;/span&gt;
locale &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
LANG=en_US.UTF-8
&lt;/pre&gt;


&lt;p&gt;
The second line above (&lt;code&gt;LANG=en_US.UTF-8&lt;/code&gt;) is the output of the command and what we need to note here is that &lt;code&gt;en_US.UTF-8&lt;/code&gt; means that there's a file in &lt;code&gt;/usr/share/i81n/locales/&lt;/code&gt; named &lt;code&gt;en_US&lt;/code&gt; that's being used for my configuration so I made a copy of that file (in case I messed something up) and the opened it up in emacs (any changes you make in this directory have to be done as root). 
&lt;/p&gt;

&lt;p&gt;
Now, what that Beginning Linux post and most other posts say to do is to change the line &lt;code&gt;first_weekday 1&lt;/code&gt; (meaning start on Sunday) to &lt;code&gt;first_weekday 2&lt;/code&gt; (start on Monday). The problem with this is that the &lt;code&gt;en_US&lt;/code&gt; file no longer has that line in it, so you have to add it. Not a big deal, I thought, so I added it as the last line in the file and re-generated the configuration using the &lt;a href="http://manpages.ubuntu.com/manpages/focal/man8/locale-gen.8.html"&gt;locale-gen&lt;/a&gt; command.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo locale-gen
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Which gave me errors like this:
&lt;/p&gt;

&lt;pre class="example"&gt;
Generating locales (this might take a while)...
  en_AG.UTF-8...failed to set locale!
en_US:180: syntax error: not inside a locale definition section
 done
&lt;/pre&gt;

&lt;p&gt;
It turns out that the file is actually broken into sections and you can't just stick the line any old place, you have to stick it in the right block. If you look in one of the other files that has the line (pick one by grepping &lt;code&gt;first_weekday&lt;/code&gt;) you'll see that the block we want starts with  &lt;code&gt;LC_TIME&lt;/code&gt; and ends with &lt;code&gt;END LC_TIME&lt;/code&gt; so I put the line in at the end of the block like so:
&lt;/p&gt;

&lt;pre class="example"&gt;
% Define the first day of the week to be displayed in a calendar.
% This weekday is relative to the date defined in the &amp;lt;week&amp;gt; keyword.

first_weekday 2
END LC_TIME
&lt;/pre&gt;

&lt;p&gt;
I copied the comments frome one of the Ukranian settings files. I picked Ukranian because I thought UK stood for United Kingdom, but it turns out they use GB to indicate Great Britain instead - anyway, it works. The comment suggests that you might also be able to change the &lt;code&gt;week&lt;/code&gt; definition instead of adding this line, but here's what that line looks like.
&lt;/p&gt;

&lt;pre class="example"&gt;
week 7;19971130;1
&lt;/pre&gt;

&lt;p&gt;
It seems safer to stick with the &lt;code&gt;first_weekday&lt;/code&gt;.
&lt;/p&gt;

&lt;p&gt;
Next I re-ran the locale-gen command.
&lt;/p&gt;

&lt;pre class="example"&gt;
sudo locale-gen
&lt;/pre&gt;

&lt;p&gt;
And this time it ran without errors. 
&lt;/p&gt;

&lt;p&gt;
So, all fixed, then, right? Well, not quite, because this doesn't update the GUI. There are, once again, many pages telling you how to reload the GUI without logging out, but some, like the Beginning Linux page use names of processes or commands that don't seem to exist any more, or, in one case caused the GUI to raise an error message so I decided it wasn't really worth it to mess with the GUI like that when all you have to do is log out and back in - or not care about it until the next time you log in. 
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org8a10a9b" class="outline-2"&gt;
&lt;h2 id="org8a10a9b"&gt;The End&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org8a10a9b"&gt;
&lt;p&gt;
Part of the motivation for writing this is that it took me more time searching for what worked than it did to make the actual change so maybe next time I'll remember that I wrote this down if I ever have to do this again, which I'm sure I will.
&lt;/p&gt;

&lt;p&gt;
As a final note I should mention that the accepted answer to this post &lt;a href="https://askubuntu.com/questions/197613/monday-as-first-day-in-gnome-shell-instead-of-sunday"&gt;on Stack Overflow&lt;/a&gt; pretty much tells you what to do, it's only missing telling you how to double-check which file to edit, but I didn't find it until after I'd made the changes. Also this page on &lt;a href="https://linuxconfig.org/how-to-restart-gui-on-ubuntu-20-04-focal-fossa"&gt;Linux Config&lt;/a&gt; has things to try to restart the GUI without logging out, but trying Method 3 (restarting the gnome-shell) is what gave me the error, but if for some reason you really can't log out and you need the week to start on Monday right now, maybe it's something to try.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>ubuntu</category><guid>https://necromuralist.github.io/posts/changing-the-first-day-of-the-week-in-ubuntu-2004/</guid><pubDate>Thu, 13 Aug 2020 02:00:04 GMT</pubDate></item><item><title>Encrypt Dropbox Folders on Ubuntu With CryFS</title><link>https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/#org3712bc3"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/#orge798880"&gt;Encrypt the Folders&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/#orga583120"&gt;Install It&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/#orgcdbe439"&gt;Create the Target and Source Folders&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/#orgb5eab07"&gt;Unmount It&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/#orgdeae05b"&gt;References&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org3712bc3" class="outline-2"&gt;
&lt;h2 id="org3712bc3"&gt;Introduction&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org3712bc3"&gt;
&lt;p&gt;
This is one way to encrypt the contents for cloud-synchronized folders using &lt;a href="https://www.cryfs.org/"&gt;CryFS&lt;/a&gt;. I'm going to illustrate it using the &lt;code&gt;Dropbox&lt;/code&gt; folder that the &lt;a href="https://www.dropbox.com/"&gt;dropbox client&lt;/a&gt; creates.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orge798880" class="outline-2"&gt;
&lt;h2 id="orge798880"&gt;Encrypt the Folders&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orge798880"&gt;
&lt;/div&gt;
&lt;div id="outline-container-orga583120" class="outline-3"&gt;
&lt;h3 id="orga583120"&gt;Install It&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orga583120"&gt;
&lt;p&gt;
Ubuntu currently (November 10, 2018) has &lt;code&gt;CryFS&lt;/code&gt; as part of its packages so you can install it with apt.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo apt install cryfs
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgcdbe439" class="outline-3"&gt;
&lt;h3 id="orgcdbe439"&gt;Create the Target and Source Folders&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgcdbe439"&gt;
&lt;p&gt;
The &lt;code&gt;cryfs&lt;/code&gt; command will create the two folders and set them up for you. The syntax is &lt;code&gt;cryfs &amp;lt;target&amp;gt; &amp;lt;source&amp;gt;&lt;/code&gt;. The &lt;code&gt;target&lt;/code&gt; will contain the encrypted folders so it will go in the Dropbox folder, while the &lt;code&gt;source&lt;/code&gt; will hold the unencrypted files.
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cryfs Dropbox/encrypted dropbox_source
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
This is the same command you would use on another computer to set-up the existing encrypted folder on your new computer. The &lt;code&gt;source&lt;/code&gt; folder can be named differently, but the &lt;code&gt;target&lt;/code&gt; folder and the password need to be the same one you used when you created it.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgb5eab07" class="outline-3"&gt;
&lt;h3 id="orgb5eab07"&gt;Unmount It&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgb5eab07"&gt;
&lt;p&gt;
If you need to unmount it you can use &lt;a href="http://manpages.ubuntu.com/manpages/cosmic/man1/fusermount.1.html"&gt;fusermount&lt;/a&gt;.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fusermount -u dropbox_source
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
Since you are doing all this within your home directory you don't need root privileges (except to install &lt;code&gt;cryfs&lt;/code&gt; with apt).
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgdeae05b" class="outline-2"&gt;
&lt;h2 id="orgdeae05b"&gt;References&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgdeae05b"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;I got this from &lt;a href="https://www.linuxbabe.com/ubuntu/encrypt-dropbox-ubuntu-16-04-17-10-desktop-server"&gt;Linux Babe&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;But the &lt;a href="https://www.cryfs.org/tutorial"&gt;CryFS Tutorial&lt;/a&gt; is pretty straight-forward, just skips the part about install cryfs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>dropbox</category><category>encryption</category><category>linux</category><category>ubuntu</category><guid>https://necromuralist.github.io/posts/encrypt-dropbox-folders-on-ubuntu/</guid><pubDate>Mon, 10 Dec 2018 20:41:05 GMT</pubDate></item><item><title>Using Nvidia Drivers in Ubuntu 18.10</title><link>https://necromuralist.github.io/posts/using-nvidia-drivers-in-ubuntu-1810/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/using-nvidia-drivers-in-ubuntu-1810/#orgfd0e574"&gt;What is this about?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/using-nvidia-drivers-in-ubuntu-1810/#org2ee4a22"&gt;What didn't work?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/using-nvidia-drivers-in-ubuntu-1810/#org98d4f4d"&gt;So what did work?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgfd0e574" class="outline-2"&gt;
&lt;h2 id="orgfd0e574"&gt;What is this about?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgfd0e574"&gt;
&lt;p&gt;
I had previously found that after upgrading from Ubuntu 18.04 to 18.10 my computer would hang whenever I re-booted. I originally "solved" it by purging the nvidia drivers, but I had actually set out to try and get cuda running this weekend (figuring out the nvidia problem took a day and a half so maybe next weekend) so I wanted a way to get the drivers working. Here's how I did it.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org2ee4a22" class="outline-2"&gt;
&lt;h2 id="org2ee4a22"&gt;What didn't work?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org2ee4a22"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org7735a99" class="outline-3"&gt;
&lt;h3 id="org7735a99"&gt;Disabling the initial login&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org7735a99"&gt;
&lt;p&gt;
Since I have disk-encrpytion set up there's an initial login screen to enter the decryption passphrase. This never seemed to hang, but if you google 'disable login screen' or something similar this is what you get. Disabling it basically confirmed that it wasn't the problem. For the record, you do this by editing &lt;code&gt;/etc/default/grub&lt;/code&gt; and changing the line:
&lt;/p&gt;

&lt;pre class="example"&gt;
GRUB_CMDLINE_LINUX_DEFAULT = "quiet splash"
&lt;/pre&gt;

&lt;p&gt;
To:
&lt;/p&gt;

&lt;pre class="example"&gt;
GRUB_CMDLINE_LINUX_DEFAULT = ""
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgdb9633c" class="outline-3"&gt;
&lt;h3 id="orgdb9633c"&gt;Revert the kernel and driver version&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgdb9633c"&gt;
&lt;p&gt;
Since I had the nvidia drivers working before I upgraded to Ubuntu 18.10 I decided to try using the same driver version that I had used and running the previous kernel using the Grub Menu. No go the bogeyman.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org98d4f4d" class="outline-2"&gt;
&lt;h2 id="org98d4f4d"&gt;So what did work?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org98d4f4d"&gt;
&lt;p&gt;
I don't know why other people do it, but &lt;a href="https://askubuntu.com/questions/800239/how-to-disable-lightdmdisplay-manager-on-ubuntu-16-0-4-lts"&gt;this Stack Overflow post&lt;/a&gt; tells you how to disable the GUI. It's basically a one-liner.
&lt;/p&gt;

&lt;pre class="example"&gt;
sudo systemctl set-default multi-user.target
&lt;/pre&gt;

&lt;p&gt;
This will cause the machine to boot up without the GUI running so you can bypass the user-login screen (which seems to be what is causing the problem for me) and login at the command-prompt. The post suggested using &lt;code&gt;systemctl&lt;/code&gt; to start the GUI, but that didn't work for me (Ubuntu might not be using &lt;code&gt;lightdm&lt;/code&gt; anymore, which is what the post refers to). Instead I entered &lt;code&gt;startx&lt;/code&gt; and here I am.
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;lshw -c video
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
*-display
     description: VGA compatible controller
     product: GM206 [GeForce GTX 950]
     vendor: NVIDIA Corporation
     physical id: 0
     bus info: pci@0000:01:00.0
     version: a1
     width: 64 bits
     clock: 33MHz
     capabilities: vga_controller bus_master cap_list rom
     configuration: driver=nvidia latency=0
     resources: irq:41 memory:fd000000-fdffffff memory:d0000000-dfffffff memory:ce000000-cfffffff ioport:dc00(size=128) memory:c0000-dffff
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>drivers</category><category>setup</category><category>ubuntu</category><guid>https://necromuralist.github.io/posts/using-nvidia-drivers-in-ubuntu-1810/</guid><pubDate>Sun, 28 Oct 2018 19:20:38 GMT</pubDate></item><item><title>Recovering From the Ubuntu 18.10 Upgrade</title><link>https://necromuralist.github.io/posts/recovering-from-the-ubuntu-1810-upgrade/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="table-of-contents"&gt;
&lt;h2&gt;Table of Contents&lt;/h2&gt;
&lt;div id="text-table-of-contents"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/recovering-from-the-ubuntu-1810-upgrade/#orgb4fa20c"&gt;What is this about?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/recovering-from-the-ubuntu-1810-upgrade/#org291086c"&gt;What didn't work?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/recovering-from-the-ubuntu-1810-upgrade/#orgb54d322"&gt;What did work?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/recovering-from-the-ubuntu-1810-upgrade/#org2a189d3"&gt;Anything Else?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://necromuralist.github.io/posts/recovering-from-the-ubuntu-1810-upgrade/#orgda2f621"&gt;Update&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;
&lt;b&gt;&lt;b&gt;Note:&lt;/b&gt;&lt;/b&gt; I had it hang again on rebooting so there's an update at the end.
&lt;/p&gt;
&lt;div id="outline-container-orgb4fa20c" class="outline-2"&gt;
&lt;h2 id="orgb4fa20c"&gt;What is this about?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgb4fa20c"&gt;
&lt;p&gt;
I updated from Ubuntu 18.04 to &lt;a href="https://blog.ubuntu.com/2018/10/19/welcome-ubuntu-desktop-18-10"&gt;Ubuntu 18.10&lt;/a&gt; (Cosmic Cuttlefish) last night and upon rebooting found that I couldn't (finish rebooting, that is). In order to write this I had to recover from the problem so I don't have a screen-grab of the error, but it was basically the same one given in &lt;a href="https://askubuntu.com/questions/837143/failed-to-connect-to-lvmetad"&gt;this Stack Overflow post&lt;/a&gt;:
&lt;/p&gt;

&lt;pre class="example"&gt;
WARNING: Failed to connect to lvmetad. Falling back to device scanning.
Volume group "ubuntu-vg" not found
Cannot process volume group ubuntu-vg
WARNING: Failed to connect to lvmetad. Falling back to device scanning.
Reading all physical volumes.  This may take a while...
Found volume group "ubuntu-vg" using metadata type lvm2
WARNING: Failed to connect to lvmetad. Falling back to device scanning.
2 logical volume(s) in volume group "ubuntu-vg" now active /dev/mapper/ubuntu--vg-root: clean, 1180656/30154752 files, 16007858/120604672 blocks
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org291086c" class="outline-2"&gt;
&lt;h2 id="org291086c"&gt;What didn't work?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org291086c"&gt;
&lt;p&gt;
If you read the Stack Overflow post I linked to above, the solution was to downgrade the kernel version using the grub loader so, following that advice, I brought up the Grub menu by holding down the shift key while the machine booted up, then tried to move the cursor down to &lt;i&gt;Advanced&lt;/i&gt; in the menu using the arrow keys but for some reason it wouldn't move. I thought maybe it was my &lt;a href="https://ultimatehackingkeyboard.com/"&gt;Ultimate Hacking Keyboard&lt;/a&gt; so I went and grabbed my &lt;a href="http://vortexgear.tw/vortex2_2.asp?kind=47&amp;amp;kind2=225&amp;amp;kind3=&amp;amp;kind4=1043"&gt;Vortex&lt;/a&gt; keyboard instead and it still wouldn't work, and at this point some people might think that it probably was not the keyboard, but nope, I went and grabbed my &lt;a href="http://redragonusa.com/products/keyboard/K552/47"&gt;Redragon&lt;/a&gt; keyboard and all of a sudden it worked. Why did my $30 keyboard work better than my $300 keyboard? And no, I don't think I paid that much when I bought the Ultimate Hacking Keyboard (but it took something like two years to ship so I probably spent more than that in lost time). Well, anyway, it turned out that I plugged the last keyboard in the left USB slot while my other keyboards were in the right USB slot and for some reason the right slot was disabled when I went into the Grub Menu. No mention of that on Stack Overflow, unfortunately.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgb54d322" class="outline-2"&gt;
&lt;h2 id="orgb54d322"&gt;What did work?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgb54d322"&gt;
&lt;p&gt;
While I was googling around I found &lt;a href="https://askubuntu.com/questions/969917/failed-to-connect-to-lvmetad-stuck-on-boot"&gt;this post&lt;/a&gt; on Stack Overflow where it was mentioned that the solution did mess with the kernel but it also mentions that he purged his nvidia drivers, which struck a chord with me because I've had problems with the nvidia drivers on my computer at work whenever I upgrade so I thought that maybe this might be something to check out first, before messing with the kernel. The post suggested using &lt;code&gt;ctrl-alt-f3&lt;/code&gt; to get into a terminal which didn't work for me for some reason so I used the Grub Menu instead. Here's the steps for my future self.
&lt;/p&gt;

&lt;ol class="org-ol"&gt;
&lt;li&gt;Hold the shift key down while the machine boots up&lt;/li&gt;
&lt;li&gt;In the Grub Menu use the arrow keys and return to choose the &lt;i&gt;Advanced&lt;/i&gt; option&lt;/li&gt;
&lt;li&gt;Choose the &lt;code&gt;(recovery mode)&lt;/code&gt; version of the current kernel (4.18.0)&lt;/li&gt;
&lt;li&gt;In the Recovery Menu choose the &lt;code&gt;root Drop to root shell prompt&lt;/code&gt; option (you have to hit enter again at the next prompt)&lt;/li&gt;
&lt;li&gt;The file-system for Recovery Mode is in read-only mode so mount the drive with =mount –options remount,rw /" (you can do this from the Recovery Menu as well, but it's an extra step either way)&lt;/li&gt;
&lt;li&gt;Purge the drivers with &lt;code&gt;apt purge nvidia-*&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Type &lt;code&gt;exit&lt;/code&gt; then back out of Recovery Mode and finish the startup&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;
I got the stuff about removing the nvidia driver from &lt;a href="https://askubuntu.com/questions/899309/ubuntu-16-04-how-to-disable-nvidia-driver-from-grub"&gt;this Stack Overflow post&lt;/a&gt;. It took a longer time than I thought it would to start up, but I'm writing this from my machine so it seems to work.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org2a189d3" class="outline-2"&gt;
&lt;h2 id="org2a189d3"&gt;Anything Else?&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org2a189d3"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ubuntu-drivers devices
&lt;/pre&gt;&lt;/div&gt;

&lt;pre class="example"&gt;
== /sys/devices/pci0000:00/0000:00:02.0/0000:01:00.0 ==
modalias : pci:v000010DEd00001402sv00001043sd00008581bc03sc00i00
vendor   : NVIDIA Corporation
model    : GM206 [GeForce GTX 950]
driver   : nvidia-driver-390 - distro non-free recommended
driver   : xserver-xorg-video-nouveau - distro free builtin

&lt;/pre&gt;


&lt;p&gt;
This card actually tended to freeze when I used the open source video drivers that come with Ubuntu so not having the Nvidia drivers seemed like a bad idea. I'm hoping that re-installing them will fix whatever bad setup values were there so I did:
&lt;/p&gt;

&lt;pre class="example"&gt;
sudo ubuntu-drivers autoinstall
&lt;/pre&gt;

&lt;p&gt;
Cross your fingers.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgda2f621" class="outline-2"&gt;
&lt;h2 id="orgda2f621"&gt;Update&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgda2f621"&gt;
&lt;p&gt;
First, I didn't mention it above (because I hadn't noticed) but the bluetooth interface wouldn't start. The GUI actually let me click on the on-switch but nothing changed and when I looked in Journalctl I could see that it was raising errors. Even &lt;i&gt;hciconfig&lt;/i&gt; couldn't bring it up. Maddeningly, there are posts out there that showed the same errors that I saw (like &lt;a href="https://www.queryxchange.com/q/3_772706/bluetooth-problem-after-upgrade-from-ubuntu-14-to-16-04/"&gt;this one&lt;/a&gt;) but not only did none of the fixes they suggested work, but once I rebooted the problem went away, so I could have tried that before troubleshooting, and avoided all the hassle (maybe). 
&lt;/p&gt;

&lt;p&gt;
Of course, every solution creates a problem, and while rebooting fixed my bluetooth interface it also revealed that I had the same problems as before (only my Redragon keyboard really works on the Grub menu and the boot hangs after the initial login to decrypt the disk). I removed the nvidia drivers again and this time I didn't reinstall them before rebooting and now it works, but now I don't know if my GUI is going to start hanging again like it used to. Oh, well, one problem at a time.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>nvidia</category><category>repair</category><category>ubuntu</category><category>upgrade</category><guid>https://necromuralist.github.io/posts/recovering-from-the-ubuntu-1810-upgrade/</guid><pubDate>Sat, 27 Oct 2018 17:40:09 GMT</pubDate></item><item><title>OpenVPN on Ubuntu 18.04</title><link>https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="outline-container-org8e0b9a2" class="outline-2"&gt;
&lt;h2 id="org8e0b9a2"&gt;Introduction&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org8e0b9a2"&gt;
&lt;p&gt;
I'm connecting to a remote network using &lt;a href="https://openvpn.net/"&gt;OpenVPN&lt;/a&gt; served by an ASUS access point. I originally did it at the command line.
&lt;/p&gt;

&lt;pre class="example"&gt;
sudo openvpn --config client.ovpn
&lt;/pre&gt;

&lt;p&gt;
It turns out that this doesn't allow me to access anything outside of the network that I was connecting to. From what I can tell it's a DNS problem, but nothing I found about fixing DNS problems with OpenVPN from the command line worked. Luckily the Network Settings GUI works, but even then, it didn't work out of the box.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orga5a6c83" class="outline-2"&gt;
&lt;h2 id="orga5a6c83"&gt;Initial Configuration&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orga5a6c83"&gt;
&lt;p&gt;
First, not everything you need is installed. Besides the openvpn client itself (which I had installed before trying to run it at the command line) you need some things for the network settings as well.
&lt;/p&gt;

&lt;pre class="example"&gt;
apt install openvpn network-manager-openvpn network-manager-openvpn-gnome
&lt;/pre&gt;

&lt;p&gt;
Now open the network settings.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/network_settings_menu.png" alt=" network_settings_menu.png"&gt;
&lt;/p&gt;
&lt;/div&gt;


&lt;p&gt;
In the window that pops up click on the + sign to add a connection.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/network_settings.png" alt=" network_settings.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
In the window that then pops up click on &lt;code&gt;Import from file...&lt;/code&gt; (I'm assuming you are using a config file).
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/import_from_file.png" alt=" import_from_file.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
Navigate to the config file, and double-click on it. In the dialog that pops up enter whatever extra information you need. In my case it was the username and password.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/vpn_dialog.png" alt=" vpn_dialog.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
Click on the green 'Add' button and you should now have an entry for your VPN connection in the network settings. Click on the on switch (initially labeled 'Off') and if you're lucky it will connect.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/start_vpn.png" alt=" start_vpn.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
After you click on the switch it will look like this, but read on just in case it didn't.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/opened_vpn.png" alt=" opened_vpn.png"&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org36da35e" class="outline-2"&gt;
&lt;h2 id="org36da35e"&gt;Fixing the Password Problem&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org36da35e"&gt;
&lt;p&gt;
Unfortunately for me it didn't connect. In &lt;code&gt;/var/log/syslog&lt;/code&gt; I could see entries like this:
&lt;/p&gt;

&lt;pre class="example"&gt;
gnome-shell[2805]: Invalid VPN service type (cannot find authentication binary)
&lt;/pre&gt;

&lt;p&gt;
I don't know if the message is directly telling you this (it doesn't seem to), but it turns out that for some reason the Network Settings doesn't save your password. Look in &lt;code&gt;/etc/NetworkManager/system-connections/&lt;/code&gt; for a file that matches the name you gave your vpn in the settings. In my case it was just called 'client'. Open it as root in an editor.
&lt;/p&gt;

&lt;pre class="example"&gt;
sudo emacs /etc/NetworkManager/system-connections/client
&lt;/pre&gt;

&lt;p&gt;
Then change this line in the &lt;code&gt;[vpn]&lt;/code&gt; section:
&lt;/p&gt;

&lt;pre class="example"&gt;
password-flags=1
&lt;/pre&gt;

&lt;p&gt;
to
&lt;/p&gt;

&lt;pre class="example"&gt;
password-flags=0
&lt;/pre&gt;

&lt;p&gt;
Then add this section.
&lt;/p&gt;

&lt;pre class="example"&gt;
[vpn-secrets]
password="your-password"
&lt;/pre&gt;

&lt;p&gt;
Where &lt;code&gt;"your-password"&lt;/code&gt; is your vpn password. &lt;i&gt;The quotation marks around your password are required.&lt;/i&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgf092a99" class="outline-2"&gt;
&lt;h2 id="orgf092a99"&gt;Now Really Connect&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgf092a99"&gt;
&lt;p&gt;
First restart the network manager.
&lt;/p&gt;

&lt;pre class="example"&gt;
sudo service network-manager restart
&lt;/pre&gt;

&lt;p&gt;
Now re-open the network settings and click on the switch again. With any luck this time it will stay on and you can check by going to one of the devices on your VPN network.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/switch_on.png" alt=" switch_on.png"&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org47574b8" class="outline-2"&gt;
&lt;h2 id="org47574b8"&gt;Sources&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org47574b8"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;Network Manager Dependencies: &lt;a href="https://askubuntu.com/questions/579159/unable-to-load-vpn-connection-editor-in-ubuntu-14-04-lts"&gt;https://askubuntu.com/questions/579159/unable-to-load-vpn-connection-editor-in-ubuntu-14-04-lts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Add VPN Password: &lt;a href="https://askubuntu.com/questions/976719/unable-to-connect-point-to-point-tunneling-protocol-pptp-vpn-in-ubuntu-17-10"&gt;https://askubuntu.com/questions/976719/unable-to-connect-point-to-point-tunneling-protocol-pptp-vpn-in-ubuntu-17-10&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>how-to</category><category>ubuntu</category><guid>https://necromuralist.github.io/posts/openvpn-on-ubuntu-1804/</guid><pubDate>Wed, 11 Jul 2018 01:11:39 GMT</pubDate></item><item><title>The Experience of Updating Ubuntu 17.04 To 17.10</title><link>https://necromuralist.github.io/posts/the-experience-of-updating-ubuntu-1704-to-1710/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;p&gt;
I recently switched to Ubuntu 17.10 (from 17.04) and found it to be surprisingly difficult. This is meant to document what I noticed so that if I decide to upgrade another machine I'll have something to jog my memory about what it was like.
&lt;/p&gt;

&lt;div id="outline-container-org1a71f7c" class="outline-2"&gt;
&lt;h2 id="org1a71f7c"&gt;Complete Re-Install Required&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org1a71f7c"&gt;
&lt;p&gt;
I upgraded four machines (I don't have all their details at hand - maybe I'll update this later). In each case they were running Ubuntu 17.04 so I used &lt;code&gt;do-release-upgrade&lt;/code&gt; initially. I didn't upgrade them all on the same day, but did upgrade all of them within the past week.
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;HP Z600&lt;/li&gt;
&lt;li&gt;eMachine&lt;/li&gt;
&lt;li&gt;Zareason&lt;/li&gt;
&lt;li&gt;Toshiba portege (laptop)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
The first sign that something bad was happening was that the lock-screen appeared to break after the update so I couldn't log back in. The field where you would normally enter the password was gone so there was no way to authenticate myself. In retrospect, maybe since I did this four times I should have tried a headless install with GNU screen to at least see what was going on, but hindsight's always fifty-fifty, isn't it? My tendency to repeat my mistakes is why I'm writing this down, after all. 
&lt;/p&gt;

&lt;p&gt;
On trying to reboot I found that none of the machines would fully start. All of them got stuck on a black screen with a single white underscore in the top left corner. Unlike the other machines, the Toshiba let me enter the disk-decryption password, but then it ended up at the same black screen as the rest. Once it reached this state there was no way to get to the consoles either (e.g. using ctrl-alt-F1). So, in every case I had to boot from a thumb drive and do a fresh install.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-orge9b5f80" class="outline-2"&gt;
&lt;h2 id="orge9b5f80"&gt;Backwards Steps&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orge9b5f80"&gt;
&lt;/div&gt;
&lt;div id="outline-container-org5517568" class="outline-3"&gt;
&lt;h3 id="org5517568"&gt;Alternate Keyboard Layouts&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org5517568"&gt;
&lt;p&gt;
It used to be that the installer would ask you to set up a disk-encryption password before asking you for your keyboard layout, making it harder for people like me that use alternate layouts (&lt;a href="https://www.kaufmann.no/roland/dvorak/"&gt;Programmer Dvorak&lt;/a&gt; in my case). They eventually fixed that, but now it's back again, forcing you to enter the password to decrypt your drive using &lt;code&gt;qwerty&lt;/code&gt;. The initial login to decrypt the drive after you boot the computer also has no way to switch the keyboard layout, so once again you have to use &lt;code&gt;qwerty&lt;/code&gt;. On top of that, the visual keyboard is missing keys (well, it's missing the underscore, any way) which I used to use when I found myself struggling too much with &lt;code&gt;qwerty&lt;/code&gt;, so instead I have to use the physical keyboard, hunting and pecking and trying to forget where I think the keys should be. Then, once you get past that first screen, it switches back to dvorak (although the visual keyboard doesn't, for some reason) so you have to know that the user login is using a different keyboard layout from the disk decryption prompt - even though there's no way to actually check what the layout is without just trying the variations until you find the one that works.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org311aae8" class="outline-3"&gt;
&lt;h3 id="org311aae8"&gt;Video Drivers&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org311aae8"&gt;
&lt;p&gt;
On top of the keyboard problem, the default Nouveau video drivers seem to have re-introduced an old bug that causes the GUI to freeze up periodically (on my ZaReason and HP computers, at least. I haven't seen it on the other two, but I don't use them as much, anyway). Switching to the Nvidia driver fixes the freezing problem, but it then makes the initial disk-decryption login non-functional - it seems to freeze everything so you can't do anything but restart the computer and use the Grub menu to drop into recovery mode and enter the password at the command line before resuming the startup. As a 'fix' I followed the advice from &lt;a href="https://askubuntu.com/questions/16371/how-do-i-disable-x-at-boot-time-so-that-the-system-boots-in-text-mode"&gt;this Stack Overflow answer&lt;/a&gt; and disabled the initial splash screen altogether by editing the &lt;code&gt;/etc/default/grub&lt;/code&gt; file to have this line:
&lt;/p&gt;

&lt;pre class="example"&gt;
GRUB_CMDLINE_LINUX_DEFAULT="text"
&lt;/pre&gt;

&lt;p&gt;
Then update grub (it doesn't load this file on booting up, you have to explicitly update it).
&lt;/p&gt;

&lt;pre class="example"&gt;
sudo update-grub
&lt;/pre&gt;

&lt;p&gt;
This makes the initial boot-screen text-only, like an old-school terminal. Not fancy, but at least I don't have to remember to drop into recovery-mode every time I start the computer.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgdb546b5" class="outline-2"&gt;
&lt;h2 id="orgdb546b5"&gt;Apt-Fast Bug&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgdb546b5"&gt;
&lt;p&gt;
This is a &lt;a href="https://github.com/ilikenwf/apt-fast/issues/132"&gt;bug&lt;/a&gt; in apt-fast, not an ubuntu bug, but since apt-fast is one of the first things I usually install, I figure I should document the fix. Open up &lt;code&gt;/var/lib/dpkg/info/apt-fast.config&lt;/code&gt; (as root), jump to line 212 and change this line:
&lt;/p&gt;

&lt;pre class="example"&gt;
if ($downloadcmd =~ /\${_MAXNUM}/){
&lt;/pre&gt;

&lt;p&gt;
to this:
&lt;/p&gt;

&lt;pre class="example"&gt;
if ($downloadcmd =~ /\$\{_MAXNUM}/){
&lt;/pre&gt;

&lt;p&gt;
In case you can't see it I added a backslash (&lt;code&gt;\&lt;/code&gt;) between the &lt;code&gt;$&lt;/code&gt; and &lt;code&gt;{_MAXNUM&lt;/code&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="outline-container-org2d97003" class="outline-2"&gt;
&lt;h2 id="org2d97003"&gt;A Little Less Whining&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org2d97003"&gt;
&lt;p&gt;
Although the disk-decryption login is a major negative, I must note that I kind of like the new aesthetic, I was just really, &lt;i&gt;really&lt;/i&gt;, surprised at how defective this process seemed to be, given how far along Ubuntu has come. There's still some unexpected behaviors (switching workspaces seems to drag applications with them, even though I didn't explicitly ask to, for instance, and byobu seems to ignore my alternate escape key sometimes), but I like it overall. Maybe tomorrow I'll feel different.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>ubuntu</category><category>whine</category><guid>https://necromuralist.github.io/posts/the-experience-of-updating-ubuntu-1704-to-1710/</guid><pubDate>Sat, 28 Oct 2017 20:35:05 GMT</pubDate></item><item><title>Ubuntu 16.04 and the Brother HL-2140 Printer</title><link>https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;div id="outline-container-org14e58d3" class="outline-2"&gt;
&lt;h2 id="org14e58d3"&gt;Introduction&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org14e58d3"&gt;
&lt;p&gt;
I (relatively) recently bought a &lt;a href="https://zareason.com/Limbo-560.html"&gt;ZaReason Limbo Desktop PC&lt;/a&gt; which comes with Ubuntu 16.04. I'm debating whether to update it to 16.10, given that updating broke the USB WiFi adapter I had on my older computer (the USB is recognized but not the WiFi adapter), but, in any case, I wanted to print something using my new computer today and ran into the same problem that I had when I updated my old computer to Ubuntu 14.10 - the default printer driver printed out a bunch of blank pages rather than the page I wanted to print. The last time I solved it by choosing a different model (the &lt;i&gt;HL-2142&lt;/i&gt;) but this time out I found a &lt;a href="http://ubuntuforums.org/showthread.php?t=2231405"&gt;stack overflow post&lt;/a&gt; that suggested using the &lt;b&gt;Brother HL-2140 Foomatic/hl1250 [en]&lt;/b&gt; driver instead. I tried it and it worked for me, so here goes.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgda9501d" class="outline-2"&gt;
&lt;h2 id="orgda9501d"&gt;How To Choose the Correct Printer Driver&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgda9501d"&gt;
&lt;p&gt;
First, open &lt;i&gt;Dash&lt;/i&gt; (the windows-key launches it on my keyboard), type in &lt;i&gt;Printers&lt;/i&gt; and click on the icon.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/dash.png" alt="dash.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
This brings up the &lt;i&gt;printers&lt;/i&gt; dialog. 
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/printers.png" alt="printers.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
Double-click on the &lt;i&gt;HL-2140-series&lt;/i&gt; icon to bring up the &lt;i&gt;Printer Properties&lt;/i&gt; dialog.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/printer_properties.png" alt="printer_properties.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
Click on the &lt;i&gt;Make and Model&lt;/i&gt; "Change" button (the fourth row). Let the program find the drivers and it will bring up the &lt;i&gt;Choose Driver&lt;/i&gt; dialog.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/choose_driver.png" alt="choose_driver.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
Use the &lt;i&gt;Brother (recommended)&lt;/i&gt; option (it should already be selected) and click on the "Forward" button. This brings up the &lt;i&gt;Change Driver&lt;/i&gt; dialog with the &lt;i&gt;postscript&lt;/i&gt; driver chosen (which is the one that does not work for me).
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/change_driver.png" alt="change_driver.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
Select the &lt;i&gt;hl1250&lt;/i&gt; driver (by clicking on it) and click on the "Forward" button.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/select_driver.png" alt="select_driver.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
This will bring up the &lt;i&gt;Existing Settings&lt;/i&gt; dialog. I've tried different options and haven't noticed a difference so I just leave it at whatever the default option is and click "Apply".
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/existing_settings.png" alt="existing_settings.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
At this point your driver should be updated so click on the "OK" button.
&lt;/p&gt;


&lt;div class="figure"&gt;
&lt;p&gt;&lt;img src="https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/click_okay.png" alt="click_okay.png"&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
If your experience is the same as mine, you will be able to print your documents at this point.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgaae370a" class="outline-2"&gt;
&lt;h2 id="orgaae370a"&gt;Conclusion&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgaae370a"&gt;
&lt;p&gt;
The basic method to get the &lt;i&gt;Brother HL-2140&lt;/i&gt; to print in Ubuntu 16.04 is to select the &lt;i&gt;hl1250&lt;/i&gt; driver instead of the default. Since I only do this when I need to set up a new computer, I alway have to do some googling to remember what to do, so hopefully this will help me save some searching if I ever have to do this again.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>printer</category><category>ubuntu</category><guid>https://necromuralist.github.io/posts/ubuntu-1604-and-the-brother-hl-2140-printer/</guid><pubDate>Sat, 25 Feb 2017 23:55:37 GMT</pubDate></item><item><title>Ubuntu 14.10 and the Brother HL-2140</title><link>https://necromuralist.github.io/posts/201503ubuntu-1410-and-brother-hl-2140/</link><dc:creator>Cloistered Monkey</dc:creator><description>&lt;p&gt;
I have a &lt;a href="http://www.brother-usa.com/Printer/ModelDetail/1/hl2140/Overview"&gt;Brother HL-2140 Laser Printer&lt;/a&gt; which was working previously but for some reason gave me a CUPs error when I tried to print today (I think this was the first time I'd tried to print since upgrading to Ubuntu 14.10). I searched for the error on the web and found this &lt;a href="http://ubuntuforums.org/showthread.php?t=1748457"&gt;forum post&lt;/a&gt; that didn't address my problem directly but did address a problem I had when I set up my printer before (on Ubuntu 14.04 - I'm using 14.10 now) where the printer would churn out blank pages instead of printing what I wanted so I decided to give it a try again. There are a few suggestions on the page but the two I tried both suggested using a different driver.
&lt;/p&gt;

&lt;p&gt;
The first suggestion I tried was to use the &lt;i&gt;HL-2170&lt;/i&gt; instead of the/HL-2140./ This worked when I printed the first test page but after that it just silently failed no matter what I tried to install.
&lt;/p&gt;

&lt;p&gt;
The next suggestion I tried was to use the &lt;i&gt;Brother HL-2140 Foomatic/hpijs-pcl5e&lt;/i&gt; driver. This didn't print any pages for me and gave a &lt;code&gt;Idle - filter failed&lt;/code&gt; error in the printer properties dialogue
box. I don't know what the message means, but since I fixed it without knowing, I guess I don't need to know.
&lt;/p&gt;

&lt;p&gt;
Sandwiched between the &lt;i&gt;HL-2170&lt;/i&gt; and the &lt;i&gt;HL-2140&lt;/i&gt; models in the list of available drivers was the &lt;i&gt;HL-2142&lt;/i&gt; model. Since it seemed close enough to the 2140 (only off by two) I decided to try it and for whatever reason it worked. I'm pretty sure I used one of drivers the forum post suggested when I was using 14.04 (and the default &lt;i&gt;HL-2140&lt;/i&gt; driver before that) but something seems to have changed again.
&lt;/p&gt;

&lt;p&gt;
There's two lessons here:
&lt;/p&gt;

&lt;p&gt;
  1. Use the &lt;i&gt;HL-2142&lt;/i&gt; driver for the &lt;i&gt;Brother HL-2140&lt;/i&gt; printer on Ubuntu 14.10
  2. Try drivers for similar models if you upgrade your Ubuntu installation and the printer stops working
&lt;/p&gt;</description><category>brother</category><category>printer</category><category>ubuntu</category><guid>https://necromuralist.github.io/posts/201503ubuntu-1410-and-brother-hl-2140/</guid><pubDate>Mon, 09 Mar 2015 06:53:00 GMT</pubDate></item></channel></rss>